var kD=Object.defineProperty;var TD=(t,e,n)=>e in t?kD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ED=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _e=(t,e,n)=>TD(t,typeof e!="symbol"?e+"":e,n);var wZ=ED((TZ,ad)=>{function ID(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function sE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iE={exports:{}},qf={},rE={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu=Symbol.for("react.element"),PD=Symbol.for("react.portal"),ND=Symbol.for("react.fragment"),MD=Symbol.for("react.strict_mode"),AD=Symbol.for("react.profiler"),RD=Symbol.for("react.provider"),DD=Symbol.for("react.context"),OD=Symbol.for("react.forward_ref"),LD=Symbol.for("react.suspense"),jD=Symbol.for("react.memo"),FD=Symbol.for("react.lazy"),Nx=Symbol.iterator;function VD(t){return t===null||typeof t!="object"?null:(t=Nx&&t[Nx]||t["@@iterator"],typeof t=="function"?t:null)}var oE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aE=Object.assign,lE={};function ml(t,e,n){this.props=t,this.context=e,this.refs=lE,this.updater=n||oE}ml.prototype.isReactComponent={};ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cE(){}cE.prototype=ml.prototype;function Pv(t,e,n){this.props=t,this.context=e,this.refs=lE,this.updater=n||oE}var Nv=Pv.prototype=new cE;Nv.constructor=Pv;aE(Nv,ml.prototype);Nv.isPureReactComponent=!0;var Mx=Array.isArray,uE=Object.prototype.hasOwnProperty,Mv={current:null},dE={key:!0,ref:!0,__self:!0,__source:!0};function hE(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)uE.call(e,s)&&!dE.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:Fu,type:t,key:r,ref:o,props:i,_owner:Mv.current}}function BD(t,e){return{$$typeof:Fu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Av(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fu}function zD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ax=/\/+/g;function Jp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zD(""+t.key):e.toString(36)}function Xd(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fu:case PD:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+Jp(o,0):s,Mx(i)?(n="",t!=null&&(n=t.replace(Ax,"$&/")+"/"),Xd(i,e,n,"",function(c){return c})):i!=null&&(Av(i)&&(i=BD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ax,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",Mx(t))for(var a=0;a<t.length;a++){r=t[a];var l=s+Jp(r,a);o+=Xd(r,e,n,l,i)}else if(l=VD(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=s+Jp(r,a++),o+=Xd(r,e,n,l,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dd(t,e,n){if(t==null)return t;var s=[],i=0;return Xd(t,s,"","",function(r){return e.call(n,r,i++)}),s}function UD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nn={current:null},Jd={transition:null},$D={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:Jd,ReactCurrentOwner:Mv};function fE(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:dd,forEach:function(t,e,n){dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dd(t,function(){e++}),e},toArray:function(t){return dd(t,function(e){return e})||[]},only:function(t){if(!Av(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=ml;Le.Fragment=ND;Le.Profiler=AD;Le.PureComponent=Pv;Le.StrictMode=MD;Le.Suspense=LD;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$D;Le.act=fE;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=aE({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Mv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uE.call(e,l)&&!dE.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:Fu,type:t.type,key:i,ref:r,props:s,_owner:o}};Le.createContext=function(t){return t={$$typeof:DD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RD,_context:t},t.Consumer=t};Le.createElement=hE;Le.createFactory=function(t){var e=hE.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:OD,render:t}};Le.isValidElement=Av;Le.lazy=function(t){return{$$typeof:FD,_payload:{_status:-1,_result:t},_init:UD}};Le.memo=function(t,e){return{$$typeof:jD,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Jd.transition;Jd.transition={};try{t()}finally{Jd.transition=e}};Le.unstable_act=fE;Le.useCallback=function(t,e){return Nn.current.useCallback(t,e)};Le.useContext=function(t){return Nn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Nn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Nn.current.useEffect(t,e)};Le.useId=function(){return Nn.current.useId()};Le.useImperativeHandle=function(t,e,n){return Nn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Nn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Nn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Nn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return Nn.current.useReducer(t,e,n)};Le.useRef=function(t){return Nn.current.useRef(t)};Le.useState=function(t){return Nn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Nn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Nn.current.useTransition()};Le.version="18.3.1";rE.exports=Le;var w=rE.exports;const H=sE(w),Rv=ID({__proto__:null,default:H},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WD=w,HD=Symbol.for("react.element"),YD=Symbol.for("react.fragment"),GD=Object.prototype.hasOwnProperty,KD=WD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qD={key:!0,ref:!0,__self:!0,__source:!0};function pE(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)GD.call(e,s)&&!qD.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:HD,type:t,key:r,ref:o,props:i,_owner:KD.current}}qf.Fragment=YD;qf.jsx=pE;qf.jsxs=pE;iE.exports=qf;var p=iE.exports,mE={exports:{}},ns={},gE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var E=$.length;$.push(U);e:for(;0<E;){var C=E-1>>>1,F=$[C];if(0<i(F,U))$[C]=U,$[E]=F,E=C;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var U=$[0],E=$.pop();if(E!==U){$[0]=E;e:for(var C=0,F=$.length,q=F>>>1;C<q;){var A=2*(C+1)-1,j=$[A],W=A+1,V=$[W];if(0>i(j,E))W<F&&0>i(V,j)?($[C]=V,$[W]=E,C=W):($[C]=j,$[A]=E,C=A);else if(W<F&&0>i(V,E))$[C]=V,$[W]=E,C=W;else break e}}return U}function i($,U){var E=$.sortIndex-U.sortIndex;return E!==0?E:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var U=n(c);U!==null;){if(U.callback===null)s(c);else if(U.startTime<=$)s(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function b($){if(g=!1,x($),!m)if(n(l)!==null)m=!0,ne(S);else{var U=n(c);U!==null&&ae(b,U.startTime-$)}}function S($,U){m=!1,g&&(g=!1,v(I),I=-1),f=!0;var E=h;try{for(x(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!Y());){var C=d.callback;if(typeof C=="function"){d.callback=null,h=d.priorityLevel;var F=C(d.expirationTime<=U);U=t.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&s(l),x(U)}else s(l);d=n(l)}if(d!==null)var q=!0;else{var A=n(c);A!==null&&ae(b,A.startTime-U),q=!1}return q}finally{d=null,h=E,f=!1}}var T=!1,P=null,I=-1,O=5,B=-1;function Y(){return!(t.unstable_now()-B<O)}function L(){if(P!==null){var $=t.unstable_now();B=$;var U=!0;try{U=P(!0,$)}finally{U?ie():(T=!1,P=null)}}else T=!1}var ie;if(typeof y=="function")ie=function(){y(L)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ue=fe.port2;fe.port1.onmessage=L,ie=function(){ue.postMessage(null)}}else ie=function(){_(L,0)};function ne($){P=$,T||(T=!0,ie())}function ae($,U){I=_(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,ne(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var E=h;h=U;try{return $()}finally{h=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var E=h;h=$;try{return U()}finally{h=E}},t.unstable_scheduleCallback=function($,U,E){var C=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?C+E:C):E=C,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=E+F,$={id:u++,callback:U,priorityLevel:$,startTime:E,expirationTime:F,sortIndex:-1},E>C?($.sortIndex=E,e(c,$),n(l)===null&&$===n(c)&&(g?(v(I),I=-1):g=!0,ae(b,E-C))):($.sortIndex=F,e(l,$),m||f||(m=!0,ne(S))),$},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function($){var U=h;return function(){var E=h;h=U;try{return $.apply(this,arguments)}finally{h=E}}}})(yE);gE.exports=yE;var QD=gE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZD=w,Xn=QD;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vE=new Set,Gc={};function $o(t,e){$a(t,e),$a(t+"Capture",e)}function $a(t,e){for(Gc[t]=e,t=0;t<e.length;t++)vE.add(e[t])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tg=Object.prototype.hasOwnProperty,XD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rx={},Dx={};function JD(t){return Tg.call(Dx,t)?!0:Tg.call(Rx,t)?!1:XD.test(t)?Dx[t]=!0:(Rx[t]=!0,!1)}function eO(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tO(t,e,n,s){if(e===null||typeof e>"u"||eO(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mn(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cn[t]=new Mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cn[e]=new Mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cn[t]=new Mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cn[t]=new Mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cn[t]=new Mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cn[t]=new Mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cn[t]=new Mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cn[t]=new Mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cn[t]=new Mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dv=/[\-:]([a-z])/g;function Ov(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dv,Ov);cn[e]=new Mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dv,Ov);cn[e]=new Mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dv,Ov);cn[e]=new Mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cn[t]=new Mn(t,1,!1,t.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cn[t]=new Mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lv(t,e,n,s){var i=cn.hasOwnProperty(e)?cn[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tO(e,n,i,s)&&(n=null),s||i===null?JD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var zi=ZD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),la=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),jv=Symbol.for("react.strict_mode"),Eg=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),xE=Symbol.for("react.context"),Fv=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),Vv=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),wE=Symbol.for("react.offscreen"),Ox=Symbol.iterator;function jl(t){return t===null||typeof t!="object"?null:(t=Ox&&t[Ox]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,em;function ac(t){if(em===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);em=e&&e[1]||""}return`
`+em+t}var tm=!1;function nm(t,e){if(!t||tm)return"";tm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{tm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ac(t):""}function nO(t){switch(t.tag){case 5:return ac(t.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 2:case 15:return t=nm(t.type,!1),t;case 11:return t=nm(t.type.render,!1),t;case 1:return t=nm(t.type,!0),t;default:return""}}function Ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ca:return"Fragment";case la:return"Portal";case Eg:return"Profiler";case jv:return"StrictMode";case Ig:return"Suspense";case Pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xE:return(t.displayName||"Context")+".Consumer";case _E:return(t._context.displayName||"Context")+".Provider";case Fv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vv:return e=t.displayName||null,e!==null?e:Ng(t.type)||"Memo";case Xi:e=t._payload,t=t._init;try{return Ng(t(e))}catch{}}return null}function sO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ng(e);case 8:return e===jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iO(t){var e=bE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fd(t){t._valueTracker||(t._valueTracker=iO(t))}function SE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=bE(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mg(t,e){var n=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lx(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CE(t,e){e=e.checked,e!=null&&Lv(t,"checked",e,!1)}function Ag(t,e){CE(t,e);var n=Or(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rg(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rg(t,e,n){(e!=="number"||Ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lc=Array.isArray;function Ia(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(lc(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function kE(t,e){var n=Or(e.value),s=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Vx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Og(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pd,EE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pd=pd||document.createElement("div"),pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rO=["Webkit","ms","Moz","O"];Object.keys(wc).forEach(function(t){rO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wc[e]=wc[t]})});function IE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wc.hasOwnProperty(t)&&wc[t]?(""+e).trim():e+"px"}function PE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=IE(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var oO=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lg(t,e){if(e){if(oO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function jg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fg=null;function Bv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vg=null,Pa=null,Na=null;function Bx(t){if(t=zu(t)){if(typeof Vg!="function")throw Error(K(280));var e=t.stateNode;e&&(e=ep(e),Vg(t.stateNode,t.type,e))}}function NE(t){Pa?Na?Na.push(t):Na=[t]:Pa=t}function ME(){if(Pa){var t=Pa,e=Na;if(Na=Pa=null,Bx(t),e)for(t=0;t<e.length;t++)Bx(e[t])}}function AE(t,e){return t(e)}function RE(){}var sm=!1;function DE(t,e,n){if(sm)return t(e,n);sm=!0;try{return AE(t,e,n)}finally{sm=!1,(Pa!==null||Na!==null)&&(RE(),ME())}}function qc(t,e){var n=t.stateNode;if(n===null)return null;var s=ep(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Bg=!1;if(Ai)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){Bg=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Bg=!1}function aO(t,e,n,s,i,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var bc=!1,kh=null,Th=!1,zg=null,lO={onError:function(t){bc=!0,kh=t}};function cO(t,e,n,s,i,r,o,a,l){bc=!1,kh=null,aO.apply(lO,arguments)}function uO(t,e,n,s,i,r,o,a,l){if(cO.apply(this,arguments),bc){if(bc){var c=kh;bc=!1,kh=null}else throw Error(K(198));Th||(Th=!0,zg=c)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zx(t){if(Wo(t)!==t)throw Error(K(188))}function dO(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return zx(i),t;if(r===s)return zx(i),e;r=r.sibling}throw Error(K(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==s)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function LE(t){return t=dO(t),t!==null?jE(t):null}function jE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jE(t);if(e!==null)return e;t=t.sibling}return null}var FE=Xn.unstable_scheduleCallback,Ux=Xn.unstable_cancelCallback,hO=Xn.unstable_shouldYield,fO=Xn.unstable_requestPaint,Pt=Xn.unstable_now,pO=Xn.unstable_getCurrentPriorityLevel,zv=Xn.unstable_ImmediatePriority,VE=Xn.unstable_UserBlockingPriority,Eh=Xn.unstable_NormalPriority,mO=Xn.unstable_LowPriority,BE=Xn.unstable_IdlePriority,Qf=null,Js=null;function gO(t){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(Qf,t,void 0,(t.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:_O,yO=Math.log,vO=Math.LN2;function _O(t){return t>>>=0,t===0?32:31-(yO(t)/vO|0)|0}var md=64,gd=4194304;function cc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ih(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=cc(a):(r&=o,r!==0&&(s=cc(r)))}else o=n&~i,o!==0?s=cc(o):r!==0&&(s=cc(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Rs(e),i=1<<n,s|=t[n],e&=~i;return s}function xO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wO(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Rs(r),a=1<<o,l=i[o];l===-1?(!(a&n)||a&s)&&(i[o]=xO(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function Ug(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zE(){var t=md;return md<<=1,!(md&4194240)&&(md=64),t}function im(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rs(e),t[e]=n}function bO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rs(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function Uv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Rs(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var Xe=0;function UE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $E,$v,WE,HE,YE,$g=!1,yd=[],yr=null,vr=null,_r=null,Qc=new Map,Zc=new Map,tr=[],SO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $x(t,e){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(e.pointerId)}}function Vl(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=zu(e),e!==null&&$v(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CO(t,e,n,s,i){switch(e){case"focusin":return yr=Vl(yr,t,e,n,s,i),!0;case"dragenter":return vr=Vl(vr,t,e,n,s,i),!0;case"mouseover":return _r=Vl(_r,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Qc.set(r,Vl(Qc.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Zc.set(r,Vl(Zc.get(r)||null,t,e,n,s,i)),!0}return!1}function GE(t){var e=fo(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=OE(n),e!==null){t.blockedOn=e,YE(t.priority,function(){WE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Fg=s,n.target.dispatchEvent(s),Fg=null}else return e=zu(n),e!==null&&$v(e),t.blockedOn=n,!1;e.shift()}return!0}function Wx(t,e,n){eh(t)&&n.delete(e)}function kO(){$g=!1,yr!==null&&eh(yr)&&(yr=null),vr!==null&&eh(vr)&&(vr=null),_r!==null&&eh(_r)&&(_r=null),Qc.forEach(Wx),Zc.forEach(Wx)}function Bl(t,e){t.blockedOn===e&&(t.blockedOn=null,$g||($g=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,kO)))}function Xc(t){function e(i){return Bl(i,t)}if(0<yd.length){Bl(yd[0],t);for(var n=1;n<yd.length;n++){var s=yd[n];s.blockedOn===t&&(s.blockedOn=null)}}for(yr!==null&&Bl(yr,t),vr!==null&&Bl(vr,t),_r!==null&&Bl(_r,t),Qc.forEach(e),Zc.forEach(e),n=0;n<tr.length;n++)s=tr[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&tr.shift()}var Ma=zi.ReactCurrentBatchConfig,Ph=!0;function TO(t,e,n,s){var i=Xe,r=Ma.transition;Ma.transition=null;try{Xe=1,Wv(t,e,n,s)}finally{Xe=i,Ma.transition=r}}function EO(t,e,n,s){var i=Xe,r=Ma.transition;Ma.transition=null;try{Xe=4,Wv(t,e,n,s)}finally{Xe=i,Ma.transition=r}}function Wv(t,e,n,s){if(Ph){var i=Wg(t,e,n,s);if(i===null)pm(t,e,s,Nh,n),$x(t,s);else if(CO(i,t,e,n,s))s.stopPropagation();else if($x(t,s),e&4&&-1<SO.indexOf(t)){for(;i!==null;){var r=zu(i);if(r!==null&&$E(r),r=Wg(t,e,n,s),r===null&&pm(t,e,s,Nh,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else pm(t,e,s,null,n)}}var Nh=null;function Wg(t,e,n,s){if(Nh=null,t=Bv(s),t=fo(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=OE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nh=t,null}function KE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pO()){case zv:return 1;case VE:return 4;case Eh:case mO:return 16;case BE:return 536870912;default:return 16}default:return 16}}var lr=null,Hv=null,th=null;function qE(){if(th)return th;var t,e=Hv,n=e.length,s,i="value"in lr?lr.value:lr.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return th=i.slice(t,1<s?1-s:void 0)}function nh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vd(){return!0}function Hx(){return!1}function ss(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?vd:Hx,this.isPropagationStopped=Hx,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),e}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yv=ss(gl),Bu=St({},gl,{view:0,detail:0}),IO=ss(Bu),rm,om,zl,Zf=St({},Bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(rm=t.screenX-zl.screenX,om=t.screenY-zl.screenY):om=rm=0,zl=t),rm)},movementY:function(t){return"movementY"in t?t.movementY:om}}),Yx=ss(Zf),PO=St({},Zf,{dataTransfer:0}),NO=ss(PO),MO=St({},Bu,{relatedTarget:0}),am=ss(MO),AO=St({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),RO=ss(AO),DO=St({},gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OO=ss(DO),LO=St({},gl,{data:0}),Gx=ss(LO),jO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VO[t])?!!e[t]:!1}function Gv(){return BO}var zO=St({},Bu,{key:function(t){if(t.key){var e=jO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gv,charCode:function(t){return t.type==="keypress"?nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UO=ss(zO),$O=St({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kx=ss($O),WO=St({},Bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gv}),HO=ss(WO),YO=St({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),GO=ss(YO),KO=St({},Zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qO=ss(KO),QO=[9,13,27,32],Kv=Ai&&"CompositionEvent"in window,Sc=null;Ai&&"documentMode"in document&&(Sc=document.documentMode);var ZO=Ai&&"TextEvent"in window&&!Sc,QE=Ai&&(!Kv||Sc&&8<Sc&&11>=Sc),qx=" ",Qx=!1;function ZE(t,e){switch(t){case"keyup":return QO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function XO(t,e){switch(t){case"compositionend":return XE(e);case"keypress":return e.which!==32?null:(Qx=!0,qx);case"textInput":return t=e.data,t===qx&&Qx?null:t;default:return null}}function JO(t,e){if(ua)return t==="compositionend"||!Kv&&ZE(t,e)?(t=qE(),th=Hv=lr=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QE&&e.locale!=="ko"?null:e.data;default:return null}}var eL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eL[t.type]:e==="textarea"}function JE(t,e,n,s){NE(s),e=Mh(e,"onChange"),0<e.length&&(n=new Yv("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Cc=null,Jc=null;function tL(t){u1(t,0)}function Xf(t){var e=fa(t);if(SE(e))return t}function nL(t,e){if(t==="change")return e}var e1=!1;if(Ai){var lm;if(Ai){var cm="oninput"in document;if(!cm){var Xx=document.createElement("div");Xx.setAttribute("oninput","return;"),cm=typeof Xx.oninput=="function"}lm=cm}else lm=!1;e1=lm&&(!document.documentMode||9<document.documentMode)}function Jx(){Cc&&(Cc.detachEvent("onpropertychange",t1),Jc=Cc=null)}function t1(t){if(t.propertyName==="value"&&Xf(Jc)){var e=[];JE(e,Jc,t,Bv(t)),DE(tL,e)}}function sL(t,e,n){t==="focusin"?(Jx(),Cc=e,Jc=n,Cc.attachEvent("onpropertychange",t1)):t==="focusout"&&Jx()}function iL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xf(Jc)}function rL(t,e){if(t==="click")return Xf(e)}function oL(t,e){if(t==="input"||t==="change")return Xf(e)}function aL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var js=typeof Object.is=="function"?Object.is:aL;function eu(t,e){if(js(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Tg.call(e,i)||!js(t[i],e[i]))return!1}return!0}function ew(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tw(t,e){var n=ew(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ew(n)}}function n1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function s1(){for(var t=window,e=Ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ch(t.document)}return e}function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lL(t){var e=s1(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n1(n.ownerDocument.documentElement,n)){if(s!==null&&qv(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=tw(n,r);var o=tw(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cL=Ai&&"documentMode"in document&&11>=document.documentMode,da=null,Hg=null,kc=null,Yg=!1;function nw(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yg||da==null||da!==Ch(s)||(s=da,"selectionStart"in s&&qv(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),kc&&eu(kc,s)||(kc=s,s=Mh(Hg,"onSelect"),0<s.length&&(e=new Yv("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=da)))}function _d(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ha={animationend:_d("Animation","AnimationEnd"),animationiteration:_d("Animation","AnimationIteration"),animationstart:_d("Animation","AnimationStart"),transitionend:_d("Transition","TransitionEnd")},um={},i1={};Ai&&(i1=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Jf(t){if(um[t])return um[t];if(!ha[t])return t;var e=ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i1)return um[t]=e[n];return t}var r1=Jf("animationend"),o1=Jf("animationiteration"),a1=Jf("animationstart"),l1=Jf("transitionend"),c1=new Map,sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){c1.set(t,e),$o(e,[t])}for(var dm=0;dm<sw.length;dm++){var hm=sw[dm],uL=hm.toLowerCase(),dL=hm[0].toUpperCase()+hm.slice(1);Wr(uL,"on"+dL)}Wr(r1,"onAnimationEnd");Wr(o1,"onAnimationIteration");Wr(a1,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(l1,"onTransitionEnd");$a("onMouseEnter",["mouseout","mouseover"]);$a("onMouseLeave",["mouseout","mouseover"]);$a("onPointerEnter",["pointerout","pointerover"]);$a("onPointerLeave",["pointerout","pointerover"]);$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$o("onBeforeInput",["compositionend","keypress","textInput","paste"]);$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hL=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function iw(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,uO(s,e,void 0,t),t.currentTarget=null}function u1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;iw(i,a,c),r=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;iw(i,a,c),r=l}}}if(Th)throw t=zg,Th=!1,zg=null,t}function ht(t,e){var n=e[Zg];n===void 0&&(n=e[Zg]=new Set);var s=t+"__bubble";n.has(s)||(d1(e,t,2,!1),n.add(s))}function fm(t,e,n){var s=0;e&&(s|=4),d1(n,t,s,e)}var xd="_reactListening"+Math.random().toString(36).slice(2);function tu(t){if(!t[xd]){t[xd]=!0,vE.forEach(function(n){n!=="selectionchange"&&(hL.has(n)||fm(n,!1,t),fm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xd]||(e[xd]=!0,fm("selectionchange",!1,e))}}function d1(t,e,n,s){switch(KE(e)){case 1:var i=TO;break;case 4:i=EO;break;default:i=Wv}n=i.bind(null,e,n,t),i=void 0,!Bg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pm(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fo(a),o===null)return;if(l=o.tag,l===5||l===6){s=r=o;continue e}a=a.parentNode}}s=s.return}DE(function(){var c=r,u=Bv(n),d=[];e:{var h=c1.get(t);if(h!==void 0){var f=Yv,m=t;switch(t){case"keypress":if(nh(n)===0)break e;case"keydown":case"keyup":f=UO;break;case"focusin":m="focus",f=am;break;case"focusout":m="blur",f=am;break;case"beforeblur":case"afterblur":f=am;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=NO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=HO;break;case r1:case o1:case a1:f=RO;break;case l1:f=GO;break;case"scroll":f=IO;break;case"wheel":f=qO;break;case"copy":case"cut":case"paste":f=OO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Kx}var g=(e&4)!==0,_=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=qc(y,v),b!=null&&g.push(nu(y,b,x)))),_)break;y=y.return}0<g.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Fg&&(m=n.relatedTarget||n.fromElement)&&(fo(m)||m[Ri]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?fo(m):null,m!==null&&(_=Wo(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=Yx,b="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Kx,b="onPointerLeave",v="onPointerEnter",y="pointer"),_=f==null?h:fa(f),x=m==null?h:fa(m),h=new g(b,y+"leave",f,n,u),h.target=_,h.relatedTarget=x,b=null,fo(u)===c&&(g=new g(v,y+"enter",m,n,u),g.target=x,g.relatedTarget=_,b=g),_=b,f&&m)t:{for(g=f,v=m,y=0,x=g;x;x=ea(x))y++;for(x=0,b=v;b;b=ea(b))x++;for(;0<y-x;)g=ea(g),y--;for(;0<x-y;)v=ea(v),x--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=ea(g),v=ea(v)}g=null}else g=null;f!==null&&rw(d,h,f,g,!1),m!==null&&_!==null&&rw(d,_,m,g,!0)}}e:{if(h=c?fa(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=nL;else if(Zx(h))if(e1)S=oL;else{S=iL;var T=sL}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=rL);if(S&&(S=S(t,c))){JE(d,S,n,u);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Rg(h,"number",h.value)}switch(T=c?fa(c):window,t){case"focusin":(Zx(T)||T.contentEditable==="true")&&(da=T,Hg=c,kc=null);break;case"focusout":kc=Hg=da=null;break;case"mousedown":Yg=!0;break;case"contextmenu":case"mouseup":case"dragend":Yg=!1,nw(d,n,u);break;case"selectionchange":if(cL)break;case"keydown":case"keyup":nw(d,n,u)}var P;if(Kv)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ua?ZE(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(QE&&n.locale!=="ko"&&(ua||I!=="onCompositionStart"?I==="onCompositionEnd"&&ua&&(P=qE()):(lr=u,Hv="value"in lr?lr.value:lr.textContent,ua=!0)),T=Mh(c,I),0<T.length&&(I=new Gx(I,t,null,n,u),d.push({event:I,listeners:T}),P?I.data=P:(P=XE(n),P!==null&&(I.data=P)))),(P=ZO?XO(t,n):JO(t,n))&&(c=Mh(c,"onBeforeInput"),0<c.length&&(u=new Gx("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}u1(d,e)})}function nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mh(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=qc(t,n),r!=null&&s.unshift(nu(t,r,i)),r=qc(t,e),r!=null&&s.push(nu(t,r,i))),t=t.return}return s}function ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rw(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,i?(l=qc(n,r),l!=null&&o.unshift(nu(n,l,a))):i||(l=qc(n,r),l!=null&&o.push(nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fL=/\r\n?/g,pL=/\u0000|\uFFFD/g;function ow(t){return(typeof t=="string"?t:""+t).replace(fL,`
`).replace(pL,"")}function wd(t,e,n){if(e=ow(e),ow(t)!==e&&n)throw Error(K(425))}function Ah(){}var Gg=null,Kg=null;function qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qg=typeof setTimeout=="function"?setTimeout:void 0,mL=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,gL=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(t){return aw.resolve(null).then(t).catch(yL)}:Qg;function yL(t){setTimeout(function(){throw t})}function mm(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Xc(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Xc(e)}function xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yl=Math.random().toString(36).slice(2),Xs="__reactFiber$"+yl,su="__reactProps$"+yl,Ri="__reactContainer$"+yl,Zg="__reactEvents$"+yl,vL="__reactListeners$"+yl,_L="__reactHandles$"+yl;function fo(t){var e=t[Xs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ri]||n[Xs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lw(t);t!==null;){if(n=t[Xs])return n;t=lw(t)}return e}t=n,n=t.parentNode}return null}function zu(t){return t=t[Xs]||t[Ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function ep(t){return t[su]||null}var Xg=[],pa=-1;function Hr(t){return{current:t}}function gt(t){0>pa||(t.current=Xg[pa],Xg[pa]=null,pa--)}function ut(t,e){pa++,Xg[pa]=t.current,t.current=e}var Lr={},xn=Hr(Lr),zn=Hr(!1),Io=Lr;function Wa(t,e){var n=t.type.contextTypes;if(!n)return Lr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Un(t){return t=t.childContextTypes,t!=null}function Rh(){gt(zn),gt(xn)}function cw(t,e,n){if(xn.current!==Lr)throw Error(K(168));ut(xn,e),ut(zn,n)}function h1(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(K(108,sO(t)||"Unknown",i));return St({},n,s)}function Dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,Io=xn.current,ut(xn,t),ut(zn,zn.current),!0}function uw(t,e,n){var s=t.stateNode;if(!s)throw Error(K(169));n?(t=h1(t,e,Io),s.__reactInternalMemoizedMergedChildContext=t,gt(zn),gt(xn),ut(xn,t)):gt(zn),ut(zn,n)}var yi=null,tp=!1,gm=!1;function f1(t){yi===null?yi=[t]:yi.push(t)}function xL(t){tp=!0,f1(t)}function Yr(){if(!gm&&yi!==null){gm=!0;var t=0,e=Xe;try{var n=yi;for(Xe=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}yi=null,tp=!1}catch(i){throw yi!==null&&(yi=yi.slice(t+1)),FE(zv,Yr),i}finally{Xe=e,gm=!1}}return null}var ma=[],ga=0,Oh=null,Lh=0,cs=[],us=0,Po=null,_i=1,xi="";function so(t,e){ma[ga++]=Lh,ma[ga++]=Oh,Oh=t,Lh=e}function p1(t,e,n){cs[us++]=_i,cs[us++]=xi,cs[us++]=Po,Po=t;var s=_i;t=xi;var i=32-Rs(s)-1;s&=~(1<<i),n+=1;var r=32-Rs(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,_i=1<<32-Rs(e)+i|n<<i|s,xi=r+t}else _i=1<<r|n<<i|s,xi=t}function Qv(t){t.return!==null&&(so(t,1),p1(t,1,0))}function Zv(t){for(;t===Oh;)Oh=ma[--ga],ma[ga]=null,Lh=ma[--ga],ma[ga]=null;for(;t===Po;)Po=cs[--us],cs[us]=null,xi=cs[--us],cs[us]=null,_i=cs[--us],cs[us]=null}var Qn=null,Kn=null,vt=!1,Ts=null;function m1(t,e){var n=hs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,Kn=xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Po!==null?{id:_i,overflow:xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,Kn=null,!0):!1;default:return!1}}function Jg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ey(t){if(vt){var e=Kn;if(e){var n=e;if(!dw(t,e)){if(Jg(t))throw Error(K(418));e=xr(n.nextSibling);var s=Qn;e&&dw(t,e)?m1(s,n):(t.flags=t.flags&-4097|2,vt=!1,Qn=t)}}else{if(Jg(t))throw Error(K(418));t.flags=t.flags&-4097|2,vt=!1,Qn=t}}}function hw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function bd(t){if(t!==Qn)return!1;if(!vt)return hw(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qg(t.type,t.memoizedProps)),e&&(e=Kn)){if(Jg(t))throw g1(),Error(K(418));for(;e;)m1(t,e),e=xr(e.nextSibling)}if(hw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kn=xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Qn?xr(t.stateNode.nextSibling):null;return!0}function g1(){for(var t=Kn;t;)t=xr(t.nextSibling)}function Ha(){Kn=Qn=null,vt=!1}function Xv(t){Ts===null?Ts=[t]:Ts.push(t)}var wL=zi.ReactCurrentBatchConfig;function Ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var s=n.stateNode}if(!s)throw Error(K(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Sd(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fw(t){var e=t._init;return e(t._payload)}function y1(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function s(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Cr(v,y),v.index=0,v.sibling=null,v}function r(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,b){return y===null||y.tag!==6?(y=Sm(x,v.mode,b),y.return=v,y):(y=i(y,x),y.return=v,y)}function l(v,y,x,b){var S=x.type;return S===ca?u(v,y,x.props.children,b,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xi&&fw(S)===y.type)?(b=i(y,x.props),b.ref=Ul(v,y,x),b.return=v,b):(b=ch(x.type,x.key,x.props,null,v.mode,b),b.ref=Ul(v,y,x),b.return=v,b)}function c(v,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Cm(x,v.mode,b),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function u(v,y,x,b,S){return y===null||y.tag!==7?(y=Co(x,v.mode,b,S),y.return=v,y):(y=i(y,x),y.return=v,y)}function d(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Sm(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hd:return x=ch(y.type,y.key,y.props,null,v.mode,x),x.ref=Ul(v,null,y),x.return=v,x;case la:return y=Cm(y,v.mode,x),y.return=v,y;case Xi:var b=y._init;return d(v,b(y._payload),x)}if(lc(y)||jl(y))return y=Co(y,v.mode,x,null),y.return=v,y;Sd(v,y)}return null}function h(v,y,x,b){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(v,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hd:return x.key===S?l(v,y,x,b):null;case la:return x.key===S?c(v,y,x,b):null;case Xi:return S=x._init,h(v,y,S(x._payload),b)}if(lc(x)||jl(x))return S!==null?null:u(v,y,x,b,null);Sd(v,x)}return null}function f(v,y,x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,a(y,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hd:return v=v.get(b.key===null?x:b.key)||null,l(y,v,b,S);case la:return v=v.get(b.key===null?x:b.key)||null,c(y,v,b,S);case Xi:var T=b._init;return f(v,y,x,T(b._payload),S)}if(lc(b)||jl(b))return v=v.get(x)||null,u(y,v,b,S,null);Sd(y,b)}return null}function m(v,y,x,b){for(var S=null,T=null,P=y,I=y=0,O=null;P!==null&&I<x.length;I++){P.index>I?(O=P,P=null):O=P.sibling;var B=h(v,P,x[I],b);if(B===null){P===null&&(P=O);break}t&&P&&B.alternate===null&&e(v,P),y=r(B,y,I),T===null?S=B:T.sibling=B,T=B,P=O}if(I===x.length)return n(v,P),vt&&so(v,I),S;if(P===null){for(;I<x.length;I++)P=d(v,x[I],b),P!==null&&(y=r(P,y,I),T===null?S=P:T.sibling=P,T=P);return vt&&so(v,I),S}for(P=s(v,P);I<x.length;I++)O=f(P,v,I,x[I],b),O!==null&&(t&&O.alternate!==null&&P.delete(O.key===null?I:O.key),y=r(O,y,I),T===null?S=O:T.sibling=O,T=O);return t&&P.forEach(function(Y){return e(v,Y)}),vt&&so(v,I),S}function g(v,y,x,b){var S=jl(x);if(typeof S!="function")throw Error(K(150));if(x=S.call(x),x==null)throw Error(K(151));for(var T=S=null,P=y,I=y=0,O=null,B=x.next();P!==null&&!B.done;I++,B=x.next()){P.index>I?(O=P,P=null):O=P.sibling;var Y=h(v,P,B.value,b);if(Y===null){P===null&&(P=O);break}t&&P&&Y.alternate===null&&e(v,P),y=r(Y,y,I),T===null?S=Y:T.sibling=Y,T=Y,P=O}if(B.done)return n(v,P),vt&&so(v,I),S;if(P===null){for(;!B.done;I++,B=x.next())B=d(v,B.value,b),B!==null&&(y=r(B,y,I),T===null?S=B:T.sibling=B,T=B);return vt&&so(v,I),S}for(P=s(v,P);!B.done;I++,B=x.next())B=f(P,v,I,B.value,b),B!==null&&(t&&B.alternate!==null&&P.delete(B.key===null?I:B.key),y=r(B,y,I),T===null?S=B:T.sibling=B,T=B);return t&&P.forEach(function(L){return e(v,L)}),vt&&so(v,I),S}function _(v,y,x,b){if(typeof x=="object"&&x!==null&&x.type===ca&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case hd:e:{for(var S=x.key,T=y;T!==null;){if(T.key===S){if(S=x.type,S===ca){if(T.tag===7){n(v,T.sibling),y=i(T,x.props.children),y.return=v,v=y;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xi&&fw(S)===T.type){n(v,T.sibling),y=i(T,x.props),y.ref=Ul(v,T,x),y.return=v,v=y;break e}n(v,T);break}else e(v,T);T=T.sibling}x.type===ca?(y=Co(x.props.children,v.mode,b,x.key),y.return=v,v=y):(b=ch(x.type,x.key,x.props,null,v.mode,b),b.ref=Ul(v,y,x),b.return=v,v=b)}return o(v);case la:e:{for(T=x.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Cm(x,v.mode,b),y.return=v,v=y}return o(v);case Xi:return T=x._init,_(v,y,T(x._payload),b)}if(lc(x))return m(v,y,x,b);if(jl(x))return g(v,y,x,b);Sd(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,x),y.return=v,v=y):(n(v,y),y=Sm(x,v.mode,b),y.return=v,v=y),o(v)):n(v,y)}return _}var Ya=y1(!0),v1=y1(!1),jh=Hr(null),Fh=null,ya=null,Jv=null;function e_(){Jv=ya=Fh=null}function t_(t){var e=jh.current;gt(jh),t._currentValue=e}function ty(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Aa(t,e){Fh=t,Jv=ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function gs(t){var e=t._currentValue;if(Jv!==t)if(t={context:t,memoizedValue:e,next:null},ya===null){if(Fh===null)throw Error(K(308));ya=t,Fh.dependencies={lanes:0,firstContext:t}}else ya=ya.next=t;return e}var po=null;function n_(t){po===null?po=[t]:po.push(t)}function _1(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,n_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Di(t,s)}function Di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ji=!1;function s_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,$e&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Di(t,n)}return i=s.interleaved,i===null?(e.next=e,n_(s)):(e.next=i.next,i.next=e),s.interleaved=e,Di(t,n)}function sh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Uv(t,n)}}function pw(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vh(t,e,n,s){var i=t.updateQueue;Ji=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var d=i.baseState;o=0,u=c=l=null,a=r;do{var h=a.lane,f=a.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,f=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=St({},d,h);break e;case 2:Ji=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=d}}function mw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(K(191,i));i.call(s)}}}var Uu={},ei=Hr(Uu),iu=Hr(Uu),ru=Hr(Uu);function mo(t){if(t===Uu)throw Error(K(174));return t}function i_(t,e){switch(ut(ru,e),ut(iu,t),ut(ei,Uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Og(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Og(e,t)}gt(ei),ut(ei,e)}function Ga(){gt(ei),gt(iu),gt(ru)}function w1(t){mo(ru.current);var e=mo(ei.current),n=Og(e,t.type);e!==n&&(ut(iu,t),ut(ei,n))}function r_(t){iu.current===t&&(gt(ei),gt(iu))}var _t=Hr(0);function Bh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ym=[];function o_(){for(var t=0;t<ym.length;t++)ym[t]._workInProgressVersionPrimary=null;ym.length=0}var ih=zi.ReactCurrentDispatcher,vm=zi.ReactCurrentBatchConfig,No=0,bt=null,$t=null,qt=null,zh=!1,Tc=!1,ou=0,bL=0;function fn(){throw Error(K(321))}function a_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!js(t[n],e[n]))return!1;return!0}function l_(t,e,n,s,i,r){if(No=r,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ih.current=t===null||t.memoizedState===null?TL:EL,t=n(s,i),Tc){r=0;do{if(Tc=!1,ou=0,25<=r)throw Error(K(301));r+=1,qt=$t=null,e.updateQueue=null,ih.current=IL,t=n(s,i)}while(Tc)}if(ih.current=Uh,e=$t!==null&&$t.next!==null,No=0,qt=$t=bt=null,zh=!1,e)throw Error(K(300));return t}function c_(){var t=ou!==0;return ou=0,t}function Ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?bt.memoizedState=qt=t:qt=qt.next=t,qt}function ys(){if($t===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=qt===null?bt.memoizedState:qt.next;if(e!==null)qt=e,$t=t;else{if(t===null)throw Error(K(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},qt===null?bt.memoizedState=qt=t:qt=qt.next=t}return qt}function au(t,e){return typeof e=="function"?e(t):e}function _m(t){var e=ys(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var s=$t,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((No&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=s):l=l.next=d,bt.lanes|=u,Mo|=u}c=c.next}while(c!==null&&c!==r);l===null?o=s:l.next=a,js(s,e.memoizedState)||(Vn=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,bt.lanes|=r,Mo|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xm(t){var e=ys(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);js(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function b1(){}function S1(t,e){var n=bt,s=ys(),i=e(),r=!js(s.memoizedState,i);if(r&&(s.memoizedState=i,Vn=!0),s=s.queue,u_(T1.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,lu(9,k1.bind(null,n,s,i,e),void 0,null),Zt===null)throw Error(K(349));No&30||C1(n,e,i)}return i}function C1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function k1(t,e,n,s){e.value=n,e.getSnapshot=s,E1(e)&&I1(t)}function T1(t,e,n){return n(function(){E1(e)&&I1(t)})}function E1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!js(t,n)}catch{return!0}}function I1(t){var e=Di(t,1);e!==null&&Ds(e,t,1,-1)}function gw(t){var e=Ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:t},e.queue=t,t=t.dispatch=kL.bind(null,bt,t),[e.memoizedState,t]}function lu(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function P1(){return ys().memoizedState}function rh(t,e,n,s){var i=Ks();bt.flags|=t,i.memoizedState=lu(1|e,n,void 0,s===void 0?null:s)}function np(t,e,n,s){var i=ys();s=s===void 0?null:s;var r=void 0;if($t!==null){var o=$t.memoizedState;if(r=o.destroy,s!==null&&a_(s,o.deps)){i.memoizedState=lu(e,n,r,s);return}}bt.flags|=t,i.memoizedState=lu(1|e,n,r,s)}function yw(t,e){return rh(8390656,8,t,e)}function u_(t,e){return np(2048,8,t,e)}function N1(t,e){return np(4,2,t,e)}function M1(t,e){return np(4,4,t,e)}function A1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function R1(t,e,n){return n=n!=null?n.concat([t]):null,np(4,4,A1.bind(null,e,t),n)}function d_(){}function D1(t,e){var n=ys();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&a_(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function O1(t,e){var n=ys();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&a_(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function L1(t,e,n){return No&21?(js(n,e)||(n=zE(),bt.lanes|=n,Mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function SL(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var s=vm.transition;vm.transition={};try{t(!1),e()}finally{Xe=n,vm.transition=s}}function j1(){return ys().memoizedState}function CL(t,e,n){var s=Sr(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},F1(t))V1(e,n);else if(n=_1(t,e,n,s),n!==null){var i=Tn();Ds(n,t,s,i),B1(n,e,s)}}function kL(t,e,n){var s=Sr(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(F1(t))V1(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,js(a,o)){var l=e.interleaved;l===null?(i.next=i,n_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_1(t,e,i,s),n!==null&&(i=Tn(),Ds(n,t,s,i),B1(n,e,s))}}function F1(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function V1(t,e){Tc=zh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B1(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Uv(t,n)}}var Uh={readContext:gs,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},TL={readContext:gs,useCallback:function(t,e){return Ks().memoizedState=[t,e===void 0?null:e],t},useContext:gs,useEffect:yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rh(4194308,4,A1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rh(4194308,4,t,e)},useInsertionEffect:function(t,e){return rh(4,2,t,e)},useMemo:function(t,e){var n=Ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ks();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=CL.bind(null,bt,t),[s.memoizedState,t]},useRef:function(t){var e=Ks();return t={current:t},e.memoizedState=t},useState:gw,useDebugValue:d_,useDeferredValue:function(t){return Ks().memoizedState=t},useTransition:function(){var t=gw(!1),e=t[0];return t=SL.bind(null,t[1]),Ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=bt,i=Ks();if(vt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Zt===null)throw Error(K(349));No&30||C1(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,yw(T1.bind(null,s,r,t),[t]),s.flags|=2048,lu(9,k1.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Ks(),e=Zt.identifierPrefix;if(vt){var n=xi,s=_i;n=(s&~(1<<32-Rs(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EL={readContext:gs,useCallback:D1,useContext:gs,useEffect:u_,useImperativeHandle:R1,useInsertionEffect:N1,useLayoutEffect:M1,useMemo:O1,useReducer:_m,useRef:P1,useState:function(){return _m(au)},useDebugValue:d_,useDeferredValue:function(t){var e=ys();return L1(e,$t.memoizedState,t)},useTransition:function(){var t=_m(au)[0],e=ys().memoizedState;return[t,e]},useMutableSource:b1,useSyncExternalStore:S1,useId:j1,unstable_isNewReconciler:!1},IL={readContext:gs,useCallback:D1,useContext:gs,useEffect:u_,useImperativeHandle:R1,useInsertionEffect:N1,useLayoutEffect:M1,useMemo:O1,useReducer:xm,useRef:P1,useState:function(){return xm(au)},useDebugValue:d_,useDeferredValue:function(t){var e=ys();return $t===null?e.memoizedState=t:L1(e,$t.memoizedState,t)},useTransition:function(){var t=xm(au)[0],e=ys().memoizedState;return[t,e]},useMutableSource:b1,useSyncExternalStore:S1,useId:j1,unstable_isNewReconciler:!1};function Cs(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ny(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sp={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Tn(),i=Sr(t),r=Ei(s,i);r.payload=e,n!=null&&(r.callback=n),e=wr(t,r,i),e!==null&&(Ds(e,t,i,s),sh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Tn(),i=Sr(t),r=Ei(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=wr(t,r,i),e!==null&&(Ds(e,t,i,s),sh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),s=Sr(t),i=Ei(n,s);i.tag=2,e!=null&&(i.callback=e),e=wr(t,i,s),e!==null&&(Ds(e,t,s,n),sh(e,t,s))}};function vw(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!eu(n,s)||!eu(i,r):!0}function z1(t,e,n){var s=!1,i=Lr,r=e.contextType;return typeof r=="object"&&r!==null?r=gs(r):(i=Un(e)?Io:xn.current,s=e.contextTypes,r=(s=s!=null)?Wa(t,i):Lr),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sp,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function _w(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&sp.enqueueReplaceState(e,e.state,null)}function sy(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},s_(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=gs(r):(r=Un(e)?Io:xn.current,i.context=Wa(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(ny(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sp.enqueueReplaceState(i,i.state,null),Vh(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ka(t,e){try{var n="",s=e;do n+=nO(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function wm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PL=typeof WeakMap=="function"?WeakMap:Map;function U1(t,e,n){n=Ei(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Wh||(Wh=!0,py=s),iy(t,e)},n}function $1(t,e,n){n=Ei(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){iy(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){iy(t,e),typeof s!="function"&&(br===null?br=new Set([this]):br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xw(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new PL;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=$L.bind(null,t,e,n),e.then(t,t))}function ww(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bw(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ei(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var NL=zi.ReactCurrentOwner,Vn=!1;function bn(t,e,n,s){e.child=t===null?v1(e,null,n,s):Ya(e,t.child,n,s)}function Sw(t,e,n,s,i){n=n.render;var r=e.ref;return Aa(e,i),s=l_(t,e,n,s,r,i),n=c_(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(vt&&n&&Qv(e),e.flags|=1,bn(t,e,s,i),e.child)}function Cw(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!__(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,W1(t,e,r,s,i)):(t=ch(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:eu,n(o,s)&&t.ref===e.ref)return Oi(t,e,i)}return e.flags|=1,t=Cr(r,s),t.ref=e.ref,t.return=e,e.child=t}function W1(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(eu(r,s)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Oi(t,e,i)}return ry(t,e,n,s,i)}function H1(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(_a,Yn),Yn|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(_a,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ut(_a,Yn),Yn|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ut(_a,Yn),Yn|=s;return bn(t,e,i,n),e.child}function Y1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ry(t,e,n,s,i){var r=Un(n)?Io:xn.current;return r=Wa(e,r),Aa(e,i),n=l_(t,e,n,s,r,i),s=c_(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(vt&&s&&Qv(e),e.flags|=1,bn(t,e,n,i),e.child)}function kw(t,e,n,s,i){if(Un(n)){var r=!0;Dh(e)}else r=!1;if(Aa(e,i),e.stateNode===null)oh(t,e),z1(e,n,s),sy(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gs(c):(c=Un(n)?Io:xn.current,c=Wa(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&_w(e,o,s,c),Ji=!1;var h=e.memoizedState;o.state=h,Vh(e,s,o,i),l=e.memoizedState,a!==s||h!==l||zn.current||Ji?(typeof u=="function"&&(ny(e,n,u,s),l=e.memoizedState),(a=Ji||vw(e,n,a,s,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,x1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Cs(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gs(l):(l=Un(n)?Io:xn.current,l=Wa(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&_w(e,o,s,l),Ji=!1,h=e.memoizedState,o.state=h,Vh(e,s,o,i);var m=e.memoizedState;a!==d||h!==m||zn.current||Ji?(typeof f=="function"&&(ny(e,n,f,s),m=e.memoizedState),(c=Ji||vw(e,n,c,s,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),o.props=s,o.state=m,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),s=!1)}return oy(t,e,n,s,r,i)}function oy(t,e,n,s,i,r){Y1(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&uw(e,n,!1),Oi(t,e,r);s=e.stateNode,NL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Ya(e,t.child,null,r),e.child=Ya(e,null,a,r)):bn(t,e,a,r),e.memoizedState=s.state,i&&uw(e,n,!0),e.child}function G1(t){var e=t.stateNode;e.pendingContext?cw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cw(t,e.context,!1),i_(t,e.containerInfo)}function Tw(t,e,n,s,i){return Ha(),Xv(i),e.flags|=256,bn(t,e,n,s),e.child}var ay={dehydrated:null,treeContext:null,retryLane:0};function ly(t){return{baseLanes:t,cachePool:null,transitions:null}}function K1(t,e,n){var s=e.pendingProps,i=_t.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ut(_t,i&1),t===null)return ey(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=op(o,s,0,null),t=Co(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=ly(n),e.memoizedState=ay,t):h_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ML(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Cr(i,l),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=Cr(a,r):(r=Co(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?ly(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=ay,s}return r=t.child,t=r.sibling,s=Cr(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function h_(t,e){return e=op({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cd(t,e,n,s){return s!==null&&Xv(s),Ya(e,t.child,null,n),t=h_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ML(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=wm(Error(K(422))),Cd(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=op({mode:"visible",children:s.children},i,0,null),r=Co(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Ya(e,t.child,null,o),e.child.memoizedState=ly(o),e.memoizedState=ay,r);if(!(e.mode&1))return Cd(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(K(419)),s=wm(r,s,void 0),Cd(t,e,o,s)}if(a=(o&t.childLanes)!==0,Vn||a){if(s=Zt,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Di(t,i),Ds(s,t,i,-1))}return v_(),s=wm(Error(K(421))),Cd(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WL.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,Kn=xr(i.nextSibling),Qn=e,vt=!0,Ts=null,t!==null&&(cs[us++]=_i,cs[us++]=xi,cs[us++]=Po,_i=t.id,xi=t.overflow,Po=e),e=h_(e,s.children),e.flags|=4096,e)}function Ew(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),ty(t.return,e,n)}function bm(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function q1(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(bn(t,e,s.children,n),s=_t.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ew(t,n,e);else if(t.tag===19)Ew(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ut(_t,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bm(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bm(e,!0,n,null,r);break;case"together":bm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AL(t,e,n){switch(e.tag){case 3:G1(e),Ha();break;case 5:w1(e);break;case 1:Un(e.type)&&Dh(e);break;case 4:i_(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ut(jh,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ut(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?K1(t,e,n):(ut(_t,_t.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);ut(_t,_t.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return q1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(_t,_t.current),s)break;return null;case 22:case 23:return e.lanes=0,H1(t,e,n)}return Oi(t,e,n)}var Q1,cy,Z1,X1;Q1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cy=function(){};Z1=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,mo(ei.current);var r=null;switch(n){case"input":i=Mg(t,i),s=Mg(t,s),r=[];break;case"select":i=St({},i,{value:void 0}),s=St({},s,{value:void 0}),r=[];break;case"textarea":i=Dg(t,i),s=Dg(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Ah)}Lg(n,s);var o;n=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gc.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var l=s[c];if(a=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ht("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};X1=function(t,e,n,s){n!==s&&(e.flags|=4)};function $l(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function RL(t,e,n){var s=e.pendingProps;switch(Zv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return Un(e.type)&&Rh(),pn(e),null;case 3:return s=e.stateNode,Ga(),gt(zn),gt(xn),o_(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ts!==null&&(yy(Ts),Ts=null))),cy(t,e),pn(e),null;case 5:r_(e);var i=mo(ru.current);if(n=e.type,t!==null&&e.stateNode!=null)Z1(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(K(166));return pn(e),null}if(t=mo(ei.current),bd(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[Xs]=e,s[su]=r,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",s),ht("close",s);break;case"iframe":case"object":case"embed":ht("load",s);break;case"video":case"audio":for(i=0;i<uc.length;i++)ht(uc[i],s);break;case"source":ht("error",s);break;case"img":case"image":case"link":ht("error",s),ht("load",s);break;case"details":ht("toggle",s);break;case"input":Lx(s,r),ht("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},ht("invalid",s);break;case"textarea":Fx(s,r),ht("invalid",s)}Lg(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&wd(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&wd(s.textContent,a,t),i=["children",""+a]):Gc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ht("scroll",s)}switch(n){case"input":fd(s),jx(s,r,!0);break;case"textarea":fd(s),Vx(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=Ah)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Xs]=e,t[su]=s,Q1(t,e,!1,!1),e.stateNode=t;e:{switch(o=jg(n,s),n){case"dialog":ht("cancel",t),ht("close",t),i=s;break;case"iframe":case"object":case"embed":ht("load",t),i=s;break;case"video":case"audio":for(i=0;i<uc.length;i++)ht(uc[i],t);i=s;break;case"source":ht("error",t),i=s;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=s;break;case"details":ht("toggle",t),i=s;break;case"input":Lx(t,s),i=Mg(t,s),ht("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=St({},s,{value:void 0}),ht("invalid",t);break;case"textarea":Fx(t,s),i=Dg(t,s),ht("invalid",t);break;default:i=s}Lg(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?PE(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EE(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kc(t,l):typeof l=="number"&&Kc(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Gc.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ht("scroll",t):l!=null&&Lv(t,r,l,o))}switch(n){case"input":fd(t),jx(t,s,!1);break;case"textarea":fd(t),Vx(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Or(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?Ia(t,!!s.multiple,r,!1):s.defaultValue!=null&&Ia(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ah)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)X1(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(K(166));if(n=mo(ru.current),mo(ei.current),bd(e)){if(s=e.stateNode,n=e.memoizedProps,s[Xs]=e,(r=s.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:wd(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wd(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Xs]=e,e.stateNode=s}return pn(e),null;case 13:if(gt(_t),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Kn!==null&&e.mode&1&&!(e.flags&128))g1(),Ha(),e.flags|=98560,r=!1;else if(r=bd(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(K(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(K(317));r[Xs]=e}else Ha(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),r=!1}else Ts!==null&&(yy(Ts),Ts=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Ht===0&&(Ht=3):v_())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return Ga(),cy(t,e),t===null&&tu(e.stateNode.containerInfo),pn(e),null;case 10:return t_(e.type._context),pn(e),null;case 17:return Un(e.type)&&Rh(),pn(e),null;case 19:if(gt(_t),r=e.memoizedState,r===null)return pn(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)$l(r,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bh(t),o!==null){for(e.flags|=128,$l(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(_t,_t.current&1|2),e.child}t=t.sibling}r.tail!==null&&Pt()>qa&&(e.flags|=128,s=!0,$l(r,!1),e.lanes=4194304)}else{if(!s)if(t=Bh(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$l(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!vt)return pn(e),null}else 2*Pt()-r.renderingStartTime>qa&&n!==1073741824&&(e.flags|=128,s=!0,$l(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Pt(),e.sibling=null,n=_t.current,ut(_t,s?n&1|2:n&1),e):(pn(e),null);case 22:case 23:return y_(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Yn&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function DL(t,e){switch(Zv(e),e.tag){case 1:return Un(e.type)&&Rh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ga(),gt(zn),gt(xn),o_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return r_(e),null;case 13:if(gt(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ha()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(_t),null;case 4:return Ga(),null;case 10:return t_(e.type._context),null;case 22:case 23:return y_(),null;case 24:return null;default:return null}}var kd=!1,yn=!1,OL=typeof WeakSet=="function"?WeakSet:Set,oe=null;function va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){kt(t,e,s)}else n.current=null}function uy(t,e,n){try{n()}catch(s){kt(t,e,s)}}var Iw=!1;function LL(t,e){if(Gg=Ph,t=s1(),qv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==r||s!==0&&d.nodeType!==3||(l=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===r&&++u===s&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kg={focusedElem:t,selectionRange:n},Ph=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,_=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Cs(e.type,g),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(b){kt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return m=Iw,Iw=!1,m}function Ec(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&uy(e,n,r)}i=i.next}while(i!==s)}}function ip(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function dy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J1(t){var e=t.alternate;e!==null&&(t.alternate=null,J1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xs],delete e[su],delete e[Zg],delete e[vL],delete e[_L])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eI(t){return t.tag===5||t.tag===3||t.tag===4}function Pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hy(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ah));else if(s!==4&&(t=t.child,t!==null))for(hy(t,e,n),t=t.sibling;t!==null;)hy(t,e,n),t=t.sibling}function fy(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(fy(t,e,n),t=t.sibling;t!==null;)fy(t,e,n),t=t.sibling}var sn=null,ks=!1;function Hi(t,e,n){for(n=n.child;n!==null;)tI(t,e,n),n=n.sibling}function tI(t,e,n){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(Qf,n)}catch{}switch(n.tag){case 5:yn||va(n,e);case 6:var s=sn,i=ks;sn=null,Hi(t,e,n),sn=s,ks=i,sn!==null&&(ks?(t=sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sn.removeChild(n.stateNode));break;case 18:sn!==null&&(ks?(t=sn,n=n.stateNode,t.nodeType===8?mm(t.parentNode,n):t.nodeType===1&&mm(t,n),Xc(t)):mm(sn,n.stateNode));break;case 4:s=sn,i=ks,sn=n.stateNode.containerInfo,ks=!0,Hi(t,e,n),sn=s,ks=i;break;case 0:case 11:case 14:case 15:if(!yn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&uy(n,e,o),i=i.next}while(i!==s)}Hi(t,e,n);break;case 1:if(!yn&&(va(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){kt(n,e,a)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(yn=(s=yn)||n.memoizedState!==null,Hi(t,e,n),yn=s):Hi(t,e,n);break;default:Hi(t,e,n)}}function Nw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OL),e.forEach(function(s){var i=HL.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function ws(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sn=a.stateNode,ks=!1;break e;case 3:sn=a.stateNode.containerInfo,ks=!0;break e;case 4:sn=a.stateNode.containerInfo,ks=!0;break e}a=a.return}if(sn===null)throw Error(K(160));tI(r,o,i),sn=null,ks=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){kt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nI(e,t),e=e.sibling}function nI(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ws(e,t),Hs(t),s&4){try{Ec(3,t,t.return),ip(3,t)}catch(g){kt(t,t.return,g)}try{Ec(5,t,t.return)}catch(g){kt(t,t.return,g)}}break;case 1:ws(e,t),Hs(t),s&512&&n!==null&&va(n,n.return);break;case 5:if(ws(e,t),Hs(t),s&512&&n!==null&&va(n,n.return),t.flags&32){var i=t.stateNode;try{Kc(i,"")}catch(g){kt(t,t.return,g)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&CE(i,r),jg(a,o);var c=jg(a,r);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?PE(i,d):u==="dangerouslySetInnerHTML"?EE(i,d):u==="children"?Kc(i,d):Lv(i,u,d,c)}switch(a){case"input":Ag(i,r);break;case"textarea":kE(i,r);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?Ia(i,!!r.multiple,f,!1):h!==!!r.multiple&&(r.defaultValue!=null?Ia(i,!!r.multiple,r.defaultValue,!0):Ia(i,!!r.multiple,r.multiple?[]:"",!1))}i[su]=r}catch(g){kt(t,t.return,g)}}break;case 6:if(ws(e,t),Hs(t),s&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(g){kt(t,t.return,g)}}break;case 3:if(ws(e,t),Hs(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Xc(e.containerInfo)}catch(g){kt(t,t.return,g)}break;case 4:ws(e,t),Hs(t);break;case 13:ws(e,t),Hs(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(m_=Pt())),s&4&&Nw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(yn=(c=yn)||u,ws(e,t),yn=c):ws(e,t),Hs(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(oe=t,u=t.child;u!==null;){for(d=oe=u;oe!==null;){switch(h=oe,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ec(4,h,h.return);break;case 1:va(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){s=h,n=h.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){kt(s,n,g)}}break;case 5:va(h,h.return);break;case 22:if(h.memoizedState!==null){Aw(d);continue}}f!==null?(f.return=h,oe=f):Aw(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=IE("display",o))}catch(g){kt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){kt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ws(e,t),Hs(t),s&4&&Nw(t);break;case 21:break;default:ws(e,t),Hs(t)}}function Hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eI(n)){var s=n;break e}n=n.return}throw Error(K(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Kc(i,""),s.flags&=-33);var r=Pw(t);fy(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Pw(t);hy(t,a,o);break;default:throw Error(K(161))}}catch(l){kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jL(t,e,n){oe=t,sI(t)}function sI(t,e,n){for(var s=(t.mode&1)!==0;oe!==null;){var i=oe,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||kd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yn;a=kd;var c=yn;if(kd=o,(yn=l)&&!c)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?Rw(i):l!==null?(l.return=o,oe=l):Rw(i);for(;r!==null;)oe=r,sI(r),r=r.sibling;oe=i,kd=a,yn=c}Mw(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,oe=r):Mw(t)}}function Mw(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yn||ip(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!yn)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cs(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&mw(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Xc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}yn||e.flags&512&&dy(e)}catch(h){kt(e,e.return,h)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Aw(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Rw(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ip(4,e)}catch(l){kt(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){kt(e,i,l)}}var r=e.return;try{dy(e)}catch(l){kt(e,r,l)}break;case 5:var o=e.return;try{dy(e)}catch(l){kt(e,o,l)}}}catch(l){kt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var FL=Math.ceil,$h=zi.ReactCurrentDispatcher,f_=zi.ReactCurrentOwner,ms=zi.ReactCurrentBatchConfig,$e=0,Zt=null,Ft=null,ln=0,Yn=0,_a=Hr(0),Ht=0,cu=null,Mo=0,rp=0,p_=0,Ic=null,jn=null,m_=0,qa=1/0,gi=null,Wh=!1,py=null,br=null,Td=!1,cr=null,Hh=0,Pc=0,my=null,ah=-1,lh=0;function Tn(){return $e&6?Pt():ah!==-1?ah:ah=Pt()}function Sr(t){return t.mode&1?$e&2&&ln!==0?ln&-ln:wL.transition!==null?(lh===0&&(lh=zE()),lh):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:KE(t.type)),t):1}function Ds(t,e,n,s){if(50<Pc)throw Pc=0,my=null,Error(K(185));Vu(t,n,s),(!($e&2)||t!==Zt)&&(t===Zt&&(!($e&2)&&(rp|=n),Ht===4&&nr(t,ln)),$n(t,s),n===1&&$e===0&&!(e.mode&1)&&(qa=Pt()+500,tp&&Yr()))}function $n(t,e){var n=t.callbackNode;wO(t,e);var s=Ih(t,t===Zt?ln:0);if(s===0)n!==null&&Ux(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Ux(n),e===1)t.tag===0?xL(Dw.bind(null,t)):f1(Dw.bind(null,t)),gL(function(){!($e&6)&&Yr()}),n=null;else{switch(UE(s)){case 1:n=zv;break;case 4:n=VE;break;case 16:n=Eh;break;case 536870912:n=BE;break;default:n=Eh}n=dI(n,iI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iI(t,e){if(ah=-1,lh=0,$e&6)throw Error(K(327));var n=t.callbackNode;if(Ra()&&t.callbackNode!==n)return null;var s=Ih(t,t===Zt?ln:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Yh(t,s);else{e=s;var i=$e;$e|=2;var r=oI();(Zt!==t||ln!==e)&&(gi=null,qa=Pt()+500,So(t,e));do try{zL();break}catch(a){rI(t,a)}while(!0);e_(),$h.current=r,$e=i,Ft!==null?e=0:(Zt=null,ln=0,e=Ht)}if(e!==0){if(e===2&&(i=Ug(t),i!==0&&(s=i,e=gy(t,i))),e===1)throw n=cu,So(t,0),nr(t,s),$n(t,Pt()),n;if(e===6)nr(t,s);else{if(i=t.current.alternate,!(s&30)&&!VL(i)&&(e=Yh(t,s),e===2&&(r=Ug(t),r!==0&&(s=r,e=gy(t,r))),e===1))throw n=cu,So(t,0),nr(t,s),$n(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(K(345));case 2:io(t,jn,gi);break;case 3:if(nr(t,s),(s&130023424)===s&&(e=m_+500-Pt(),10<e)){if(Ih(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qg(io.bind(null,t,jn,gi),e);break}io(t,jn,gi);break;case 4:if(nr(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-Rs(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=Pt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*FL(s/1960))-s,10<s){t.timeoutHandle=Qg(io.bind(null,t,jn,gi),s);break}io(t,jn,gi);break;case 5:io(t,jn,gi);break;default:throw Error(K(329))}}}return $n(t,Pt()),t.callbackNode===n?iI.bind(null,t):null}function gy(t,e){var n=Ic;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=Yh(t,e),t!==2&&(e=jn,jn=n,e!==null&&yy(e)),t}function yy(t){jn===null?jn=t:jn.push.apply(jn,t)}function VL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!js(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~p_,e&=~rp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rs(e),s=1<<n;t[n]=-1,e&=~s}}function Dw(t){if($e&6)throw Error(K(327));Ra();var e=Ih(t,0);if(!(e&1))return $n(t,Pt()),null;var n=Yh(t,e);if(t.tag!==0&&n===2){var s=Ug(t);s!==0&&(e=s,n=gy(t,s))}if(n===1)throw n=cu,So(t,0),nr(t,e),$n(t,Pt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,jn,gi),$n(t,Pt()),null}function g_(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(qa=Pt()+500,tp&&Yr())}}function Ao(t){cr!==null&&cr.tag===0&&!($e&6)&&Ra();var e=$e;$e|=1;var n=ms.transition,s=Xe;try{if(ms.transition=null,Xe=1,t)return t()}finally{Xe=s,ms.transition=n,$e=e,!($e&6)&&Yr()}}function y_(){Yn=_a.current,gt(_a)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mL(n)),Ft!==null)for(n=Ft.return;n!==null;){var s=n;switch(Zv(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Rh();break;case 3:Ga(),gt(zn),gt(xn),o_();break;case 5:r_(s);break;case 4:Ga();break;case 13:gt(_t);break;case 19:gt(_t);break;case 10:t_(s.type._context);break;case 22:case 23:y_()}n=n.return}if(Zt=t,Ft=t=Cr(t.current,null),ln=Yn=e,Ht=0,cu=null,p_=rp=Mo=0,jn=Ic=null,po!==null){for(e=0;e<po.length;e++)if(n=po[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}po=null}return t}function rI(t,e){do{var n=Ft;try{if(e_(),ih.current=Uh,zh){for(var s=bt.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}zh=!1}if(No=0,qt=$t=bt=null,Tc=!1,ou=0,f_.current=null,n===null||n.return===null){Ht=1,cu=e,Ft=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=ln,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ww(o);if(f!==null){f.flags&=-257,bw(f,o,a,r,e),f.mode&1&&xw(r,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){xw(r,c,e),v_();break e}l=Error(K(426))}}else if(vt&&a.mode&1){var _=ww(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),bw(_,o,a,r,e),Xv(Ka(l,a));break e}}r=l=Ka(l,a),Ht!==4&&(Ht=2),Ic===null?Ic=[r]:Ic.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=U1(r,l,e);pw(r,v);break e;case 1:a=l;var y=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(br===null||!br.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var b=$1(r,a,e);pw(r,b);break e}}r=r.return}while(r!==null)}lI(n)}catch(S){e=S,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function oI(){var t=$h.current;return $h.current=Uh,t===null?Uh:t}function v_(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Zt===null||!(Mo&268435455)&&!(rp&268435455)||nr(Zt,ln)}function Yh(t,e){var n=$e;$e|=2;var s=oI();(Zt!==t||ln!==e)&&(gi=null,So(t,e));do try{BL();break}catch(i){rI(t,i)}while(!0);if(e_(),$e=n,$h.current=s,Ft!==null)throw Error(K(261));return Zt=null,ln=0,Ht}function BL(){for(;Ft!==null;)aI(Ft)}function zL(){for(;Ft!==null&&!hO();)aI(Ft)}function aI(t){var e=uI(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?lI(t):Ft=e,f_.current=null}function lI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DL(n,e),n!==null){n.flags&=32767,Ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,Ft=null;return}}else if(n=RL(n,e,Yn),n!==null){Ft=n;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);Ht===0&&(Ht=5)}function io(t,e,n){var s=Xe,i=ms.transition;try{ms.transition=null,Xe=1,UL(t,e,n,s)}finally{ms.transition=i,Xe=s}return null}function UL(t,e,n,s){do Ra();while(cr!==null);if($e&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(bO(t,r),t===Zt&&(Ft=Zt=null,ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Td||(Td=!0,dI(Eh,function(){return Ra(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=ms.transition,ms.transition=null;var o=Xe;Xe=1;var a=$e;$e|=4,f_.current=null,LL(t,n),nI(n,t),lL(Kg),Ph=!!Gg,Kg=Gg=null,t.current=n,jL(n),fO(),$e=a,Xe=o,ms.transition=r}else t.current=n;if(Td&&(Td=!1,cr=t,Hh=i),r=t.pendingLanes,r===0&&(br=null),gO(n.stateNode),$n(t,Pt()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Wh)throw Wh=!1,t=py,py=null,t;return Hh&1&&t.tag!==0&&Ra(),r=t.pendingLanes,r&1?t===my?Pc++:(Pc=0,my=t):Pc=0,Yr(),null}function Ra(){if(cr!==null){var t=UE(Hh),e=ms.transition,n=Xe;try{if(ms.transition=null,Xe=16>t?16:t,cr===null)var s=!1;else{if(t=cr,cr=null,Hh=0,$e&6)throw Error(K(331));var i=$e;for($e|=4,oe=t.current;oe!==null;){var r=oe,o=r.child;if(oe.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var u=oe;switch(u.tag){case 0:case 11:case 15:Ec(8,u,r)}var d=u.child;if(d!==null)d.return=u,oe=d;else for(;oe!==null;){u=oe;var h=u.sibling,f=u.return;if(J1(u),u===c){oe=null;break}if(h!==null){h.return=f,oe=h;break}oe=f}}}var m=r.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}oe=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,oe=o;else e:for(;oe!==null;){if(r=oe,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ec(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,oe=v;break e}oe=r.return}}var y=t.current;for(oe=y;oe!==null;){o=oe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,oe=x;else e:for(o=y;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ip(9,a)}}catch(S){kt(a,a.return,S)}if(a===o){oe=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,oe=b;break e}oe=a.return}}if($e=i,Yr(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(Qf,t)}catch{}s=!0}return s}finally{Xe=n,ms.transition=e}}return!1}function Ow(t,e,n){e=Ka(n,e),e=U1(t,e,1),t=wr(t,e,1),e=Tn(),t!==null&&(Vu(t,1,e),$n(t,e))}function kt(t,e,n){if(t.tag===3)Ow(t,t,n);else for(;e!==null;){if(e.tag===3){Ow(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(br===null||!br.has(s))){t=Ka(n,t),t=$1(e,t,1),e=wr(e,t,1),t=Tn(),e!==null&&(Vu(e,1,t),$n(e,t));break}}e=e.return}}function $L(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(ln&n)===n&&(Ht===4||Ht===3&&(ln&130023424)===ln&&500>Pt()-m_?So(t,0):p_|=n),$n(t,e)}function cI(t,e){e===0&&(t.mode&1?(e=gd,gd<<=1,!(gd&130023424)&&(gd=4194304)):e=1);var n=Tn();t=Di(t,e),t!==null&&(Vu(t,e,n),$n(t,n))}function WL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cI(t,n)}function HL(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(K(314))}s!==null&&s.delete(e),cI(t,n)}var uI;uI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,AL(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,vt&&e.flags&1048576&&p1(e,Lh,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;oh(t,e),t=e.pendingProps;var i=Wa(e,xn.current);Aa(e,n),i=l_(null,e,s,t,i,n);var r=c_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Un(s)?(r=!0,Dh(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,s_(e),i.updater=sp,e.stateNode=i,i._reactInternals=e,sy(e,s,t,n),e=oy(null,e,s,!0,r,n)):(e.tag=0,vt&&r&&Qv(e),bn(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(oh(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=GL(s),t=Cs(s,t),i){case 0:e=ry(null,e,s,t,n);break e;case 1:e=kw(null,e,s,t,n);break e;case 11:e=Sw(null,e,s,t,n);break e;case 14:e=Cw(null,e,s,Cs(s.type,t),n);break e}throw Error(K(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Cs(s,i),ry(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Cs(s,i),kw(t,e,s,i,n);case 3:e:{if(G1(e),t===null)throw Error(K(387));s=e.pendingProps,r=e.memoizedState,i=r.element,x1(t,e),Vh(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Ka(Error(K(423)),e),e=Tw(t,e,s,n,i);break e}else if(s!==i){i=Ka(Error(K(424)),e),e=Tw(t,e,s,n,i);break e}else for(Kn=xr(e.stateNode.containerInfo.firstChild),Qn=e,vt=!0,Ts=null,n=v1(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ha(),s===i){e=Oi(t,e,n);break e}bn(t,e,s,n)}e=e.child}return e;case 5:return w1(e),t===null&&ey(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,qg(s,i)?o=null:r!==null&&qg(s,r)&&(e.flags|=32),Y1(t,e),bn(t,e,o,n),e.child;case 6:return t===null&&ey(e),null;case 13:return K1(t,e,n);case 4:return i_(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Ya(e,null,s,n):bn(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Cs(s,i),Sw(t,e,s,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ut(jh,s._currentValue),s._currentValue=o,r!==null)if(js(r.value,o)){if(r.children===i.children&&!zn.current){e=Oi(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=Ei(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),ty(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ty(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Aa(e,n),i=gs(i),s=s(i),e.flags|=1,bn(t,e,s,n),e.child;case 14:return s=e.type,i=Cs(s,e.pendingProps),i=Cs(s.type,i),Cw(t,e,s,i,n);case 15:return W1(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Cs(s,i),oh(t,e),e.tag=1,Un(s)?(t=!0,Dh(e)):t=!1,Aa(e,n),z1(e,s,i),sy(e,s,i,n),oy(null,e,s,!0,t,n);case 19:return q1(t,e,n);case 22:return H1(t,e,n)}throw Error(K(156,e.tag))};function dI(t,e){return FE(t,e)}function YL(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(t,e,n,s){return new YL(t,e,n,s)}function __(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GL(t){if(typeof t=="function")return __(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fv)return 11;if(t===Vv)return 14}return 2}function Cr(t,e){var n=t.alternate;return n===null?(n=hs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ch(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")__(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ca:return Co(n.children,i,r,e);case jv:o=8,i|=8;break;case Eg:return t=hs(12,n,e,i|2),t.elementType=Eg,t.lanes=r,t;case Ig:return t=hs(13,n,e,i),t.elementType=Ig,t.lanes=r,t;case Pg:return t=hs(19,n,e,i),t.elementType=Pg,t.lanes=r,t;case wE:return op(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _E:o=10;break e;case xE:o=9;break e;case Fv:o=11;break e;case Vv:o=14;break e;case Xi:o=16,s=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=hs(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Co(t,e,n,s){return t=hs(7,t,s,e),t.lanes=n,t}function op(t,e,n,s){return t=hs(22,t,s,e),t.elementType=wE,t.lanes=n,t.stateNode={isHidden:!1},t}function Sm(t,e,n){return t=hs(6,t,null,e),t.lanes=n,t}function Cm(t,e,n){return e=hs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KL(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function x_(t,e,n,s,i,r,o,a,l){return t=new KL(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=hs(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},s_(r),t}function qL(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function hI(t){if(!t)return Lr;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Un(n))return h1(t,n,e)}return e}function fI(t,e,n,s,i,r,o,a,l){return t=x_(n,s,!0,t,i,r,o,a,l),t.context=hI(null),n=t.current,s=Tn(),i=Sr(n),r=Ei(s,i),r.callback=e??null,wr(n,r,i),t.current.lanes=i,Vu(t,i,s),$n(t,s),t}function ap(t,e,n,s){var i=e.current,r=Tn(),o=Sr(i);return n=hI(n),e.context===null?e.context=n:e.pendingContext=n,e=Ei(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=wr(i,e,o),t!==null&&(Ds(t,i,o,r),sh(t,i,o)),o}function Gh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function w_(t,e){Lw(t,e),(t=t.alternate)&&Lw(t,e)}function QL(){return null}var pI=typeof reportError=="function"?reportError:function(t){console.error(t)};function b_(t){this._internalRoot=t}lp.prototype.render=b_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));ap(t,e,null,null)};lp.prototype.unmount=b_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ao(function(){ap(null,t,null,null)}),e[Ri]=null}};function lp(t){this._internalRoot=t}lp.prototype.unstable_scheduleHydration=function(t){if(t){var e=HE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tr.length&&e!==0&&e<tr[n].priority;n++);tr.splice(n,0,t),n===0&&GE(t)}};function S_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jw(){}function ZL(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=Gh(o);r.call(c)}}var o=fI(e,s,t,0,null,!1,!1,"",jw);return t._reactRootContainer=o,t[Ri]=o.current,tu(t.nodeType===8?t.parentNode:t),Ao(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var c=Gh(l);a.call(c)}}var l=x_(t,0,!1,null,null,!1,!1,"",jw);return t._reactRootContainer=l,t[Ri]=l.current,tu(t.nodeType===8?t.parentNode:t),Ao(function(){ap(e,l,n,s)}),l}function up(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var l=Gh(o);a.call(l)}}ap(e,o,t,i)}else o=ZL(n,e,t,i,s);return Gh(o)}$E=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cc(e.pendingLanes);n!==0&&(Uv(e,n|1),$n(e,Pt()),!($e&6)&&(qa=Pt()+500,Yr()))}break;case 13:Ao(function(){var s=Di(t,1);if(s!==null){var i=Tn();Ds(s,t,1,i)}}),w_(t,1)}};$v=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var n=Tn();Ds(e,t,134217728,n)}w_(t,134217728)}};WE=function(t){if(t.tag===13){var e=Sr(t),n=Di(t,e);if(n!==null){var s=Tn();Ds(n,t,e,s)}w_(t,e)}};HE=function(){return Xe};YE=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};Vg=function(t,e,n){switch(e){case"input":if(Ag(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=ep(s);if(!i)throw Error(K(90));SE(s),Ag(s,i)}}}break;case"textarea":kE(t,n);break;case"select":e=n.value,e!=null&&Ia(t,!!n.multiple,e,!1)}};AE=g_;RE=Ao;var XL={usingClientEntryPoint:!1,Events:[zu,fa,ep,NE,ME,g_]},Wl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JL={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LE(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||QL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{Qf=Ed.inject(JL),Js=Ed}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XL;ns.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S_(e))throw Error(K(200));return qL(t,e,null,n)};ns.createRoot=function(t,e){if(!S_(t))throw Error(K(299));var n=!1,s="",i=pI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=x_(t,1,!1,null,null,n,!1,s,i),t[Ri]=e.current,tu(t.nodeType===8?t.parentNode:t),new b_(e)};ns.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=LE(e),t=t===null?null:t.stateNode,t};ns.flushSync=function(t){return Ao(t)};ns.hydrate=function(t,e,n){if(!cp(e))throw Error(K(200));return up(null,t,e,!0,n)};ns.hydrateRoot=function(t,e,n){if(!S_(t))throw Error(K(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=pI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fI(e,null,t,1,n??null,i,!1,r,o),t[Ri]=e.current,tu(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lp(e)};ns.render=function(t,e,n){if(!cp(e))throw Error(K(200));return up(null,t,e,!1,n)};ns.unmountComponentAtNode=function(t){if(!cp(t))throw Error(K(40));return t._reactRootContainer?(Ao(function(){up(null,null,t,!1,function(){t._reactRootContainer=null,t[Ri]=null})}),!0):!1};ns.unstable_batchedUpdates=g_;ns.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!cp(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return up(t,e,n,!1,s)};ns.version="18.3.1-next-f1338f8080-20240426";function mI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mI)}catch(t){console.error(t)}}mI(),mE.exports=ns;var gI=mE.exports;const e2=sE(gI);var yI,Fw=gI;yI=Fw.createRoot,Fw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},uu.apply(this,arguments)}var ur;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ur||(ur={}));const Vw="popstate";function t2(t){t===void 0&&(t={});function e(s,i){let{pathname:r,search:o,hash:a}=s.location;return vy("",{pathname:r,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:_I(i)}return s2(e,n,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n2(){return Math.random().toString(36).substr(2,8)}function Bw(t,e){return{usr:t.state,key:t.key,idx:e}}function vy(t,e,n,s){return n===void 0&&(n=null),uu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vl(e):e,{state:n,key:e&&e.key||s||n2()})}function _I(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function s2(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,o=i.history,a=ur.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(uu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ur.Pop;let _=u(),v=_==null?null:_-c;c=_,l&&l({action:a,location:g.location,delta:v})}function h(_,v){a=ur.Push;let y=vy(g.location,_,v);c=u()+1;let x=Bw(y,c),b=g.createHref(y);try{o.pushState(x,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(b)}r&&l&&l({action:a,location:g.location,delta:1})}function f(_,v){a=ur.Replace;let y=vy(g.location,_,v);c=u();let x=Bw(y,c),b=g.createHref(y);o.replaceState(x,"",b),r&&l&&l({action:a,location:g.location,delta:0})}function m(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:_I(_);return y=y.replace(/ $/,"%20"),Bt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Vw,d),l=_,()=>{i.removeEventListener(Vw,d),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let v=m(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(_){return o.go(_)}};return g}var zw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zw||(zw={}));function i2(t,e,n){return n===void 0&&(n="/"),r2(t,e,n)}function r2(t,e,n,s){let i=typeof e=="string"?vl(e):e,r=bI(i.pathname||"/",n);if(r==null)return null;let o=xI(t);o2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=v2(r);a=m2(o[l],c)}return a}function xI(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=ko([s,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&(Bt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xI(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:f2(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))i(r,o);else for(let l of wI(r.path))i(r,o,l)}),e}function wI(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let o=wI(s.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function o2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const a2=/^:[\w-]+$/,l2=3,c2=2,u2=1,d2=10,h2=-2,Uw=t=>t==="*";function f2(t,e){let n=t.split("/"),s=n.length;return n.some(Uw)&&(s+=h2),e&&(s+=c2),n.filter(i=>!Uw(i)).reduce((i,r)=>i+(a2.test(r)?l2:r===""?u2:d2),s)}function p2(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function m2(t,e,n){let{routesMeta:s}=t,i={},r="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,u=r==="/"?e:e.slice(r.length)||"/",d=g2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ko([r,d.pathname]),pathnameBase:b2(ko([r,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(r=ko([r,d.pathnameBase]))}return o}function g2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=y2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:s.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=r.slice(0,r.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:t}}function y2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function v2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function _2(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?vl(t):t;return{pathname:n?n.startsWith("/")?n:x2(n,e):e,search:S2(s),hash:C2(i)}}function x2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function km(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SI(t,e){let n=w2(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function CI(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=vl(t):(i=uu({},t),Bt(!i.pathname||!i.pathname.includes("?"),km("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),km("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),km("#","search","hash",i)));let r=t===""||i.pathname==="",o=r?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=_2(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ko=t=>t.join("/").replace(/\/\/+/g,"/"),b2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),S2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,C2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function k2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kI=["post","put","patch","delete"];new Set(kI);const T2=["get",...kI];new Set(T2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},du.apply(this,arguments)}const C_=w.createContext(null),E2=w.createContext(null),$u=w.createContext(null),dp=w.createContext(null),Ho=w.createContext({outlet:null,matches:[],isDataRoute:!1}),TI=w.createContext(null);function Wu(){return w.useContext(dp)!=null}function k_(){return Wu()||Bt(!1),w.useContext(dp).location}function EI(t){w.useContext($u).static||w.useLayoutEffect(t)}function hp(){let{isDataRoute:t}=w.useContext(Ho);return t?B2():I2()}function I2(){Wu()||Bt(!1);let t=w.useContext(C_),{basename:e,future:n,navigator:s}=w.useContext($u),{matches:i}=w.useContext(Ho),{pathname:r}=k_(),o=JSON.stringify(SI(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return EI(()=>{a.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){s.go(c);return}let d=CI(c,JSON.parse(o),r,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ko([e,d.pathname])),(u.replace?s.replace:s.push)(d,u.state,u)},[e,s,o,r,t])}function P2(t,e){return N2(t,e)}function N2(t,e,n,s){Wu()||Bt(!1);let{navigator:i}=w.useContext($u),{matches:r}=w.useContext(Ho),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=k_(),u;if(e){var d;let _=typeof e=="string"?vl(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Bt(!1),u=_}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=i2(t,{pathname:f}),g=O2(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:ko([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:ko([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,n,s);return e&&g?w.createElement(dp.Provider,{value:{location:du({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ur.Pop}},g):g}function M2(){let t=V2(),e=k2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const A2=w.createElement(M2,null);class R2 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Ho.Provider,{value:this.props.routeContext},w.createElement(TI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D2(t){let{routeContext:e,match:n,children:s}=t,i=w.useContext(C_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ho.Provider,{value:e},s)}function O2(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Bt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,m=!1,g=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||A2,l&&(c<0&&h===0?(z2("route-fallback"),m=!0,_=null):c===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),y=()=>{let x;return f?x=g:m?x=_:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,w.createElement(D2,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(R2,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var II=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(II||{}),PI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PI||{});function L2(t){let e=w.useContext(C_);return e||Bt(!1),e}function j2(t){let e=w.useContext(E2);return e||Bt(!1),e}function F2(t){let e=w.useContext(Ho);return e||Bt(!1),e}function NI(t){let e=F2(),n=e.matches[e.matches.length-1];return n.route.id||Bt(!1),n.route.id}function V2(){var t;let e=w.useContext(TI),n=j2(),s=NI();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function B2(){let{router:t}=L2(II.UseNavigateStable),e=NI(PI.UseNavigateStable),n=w.useRef(!1);return EI(()=>{n.current=!0}),w.useCallback(function(i,r){r===void 0&&(r={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,du({fromRouteId:e},r)))},[t,e])}const $w={};function z2(t,e,n){$w[t]||($w[t]=!0)}function U2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _y(t){let{to:e,replace:n,state:s,relative:i}=t;Wu()||Bt(!1);let{future:r,static:o}=w.useContext($u),{matches:a}=w.useContext(Ho),{pathname:l}=k_(),c=hp(),u=CI(e,SI(a,r.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return w.useEffect(()=>c(JSON.parse(d),{replace:n,state:s,relative:i}),[c,d,i,n,s]),null}function dc(t){Bt(!1)}function $2(t){let{basename:e="/",children:n=null,location:s,navigationType:i=ur.Pop,navigator:r,static:o=!1,future:a}=t;Wu()&&Bt(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:r,static:o,future:du({v7_relativeSplatPath:!1},a)}),[l,a,r,o]);typeof s=="string"&&(s=vl(s));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=s,g=w.useMemo(()=>{let _=bI(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:m},navigationType:i}},[l,u,d,h,f,m,i]);return g==null?null:w.createElement($u.Provider,{value:c},w.createElement(dp.Provider,{children:n,value:g}))}function W2(t){let{children:e,location:n}=t;return P2(xy(e),n)}new Promise(()=>{});function xy(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(s,i)=>{if(!w.isValidElement(s))return;let r=[...e,i];if(s.type===w.Fragment){n.push.apply(n,xy(s.props.children,r));return}s.type!==dc&&Bt(!1),!s.props.index||!s.props.children||Bt(!1);let o={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=xy(s.props.children,r)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const H2="6";try{window.__reactRouterVersion=H2}catch{}const Y2="startTransition",Ww=Rv[Y2];function G2(t){let{basename:e,children:n,future:s,window:i}=t,r=w.useRef();r.current==null&&(r.current=t2({window:i,v5Compat:!0}));let o=r.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},u=w.useCallback(d=>{c&&Ww?Ww(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.useEffect(()=>U2(s),[s]),w.createElement($2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}var Hw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hw||(Hw={}));var Yw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yw||(Yw={}));var K2=t=>{switch(t){case"success":return Z2;case"info":return J2;case"warning":return X2;case"error":return ej;default:return null}},q2=Array(12).fill(0),Q2=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},q2.map((n,s)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Z2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),X2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),J2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ej=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tj=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nj=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},wy=1,sj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:wy++,r=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),r?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,r,o=s.then(async l=>{if(r=["resolve",l],H.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(rj(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(r=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>r[0]==="reject"?c(r[1]):l(r[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||wy++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ln=new sj,ij=(t,e)=>{let n=(e==null?void 0:e.id)||wy++;return Ln.addToast({title:t,...e,id:n}),n},rj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",oj=ij,aj=()=>Ln.toasts,lj=()=>Ln.getActiveToasts(),Ee=Object.assign(oj,{success:Ln.success,info:Ln.info,warning:Ln.warning,error:Ln.error,custom:Ln.custom,message:Ln.message,promise:Ln.promise,dismiss:Ln.dismiss,loading:Ln.loading},{getHistory:aj,getToasts:lj});function cj(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}cj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Id(t){return t.label!==void 0}var uj=3,dj="32px",hj="16px",Gw=4e3,fj=356,pj=14,mj=20,gj=200;function bs(...t){return t.filter(Boolean).join(" ")}function yj(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var vj=t=>{var e,n,s,i,r,o,a,l,c,u,d;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:_,visibleToasts:v,heights:y,index:x,toasts:b,expanded:S,removeToast:T,defaultRichColors:P,closeButton:I,style:O,cancelButtonStyle:B,actionButtonStyle:Y,className:L="",descriptionClassName:ie="",duration:fe,position:ue,gap:ne,loadingIcon:ae,expandByDefault:$,classNames:U,icons:E,closeButtonAriaLabel:C="Close toast",pauseWhenPageIsHidden:F}=t,[q,A]=H.useState(null),[j,W]=H.useState(null),[V,te]=H.useState(!1),[we,ge]=H.useState(!1),[Ce,Pe]=H.useState(!1),[Ge,ke]=H.useState(!1),[ze,Je]=H.useState(!1),[Ue,tn]=H.useState(0),[Yt,k]=H.useState(0),M=H.useRef(f.duration||fe||Gw),D=H.useRef(null),ee=H.useRef(null),X=x===0,G=x+1<=v,se=f.type,Te=f.dismissible!==!1,je=f.className||"",Mt=f.descriptionClassName||"",nn=H.useMemo(()=>y.findIndex(be=>be.toastId===f.id)||0,[y,f.id]),At=H.useMemo(()=>{var be;return(be=f.closeButton)!=null?be:I},[f.closeButton,I]),$i=H.useMemo(()=>f.duration||fe||Gw,[f.duration,fe]),Wn=H.useRef(0),is=H.useRef(0),ui=H.useRef(0),xs=H.useRef(null),[Dl,rs]=ue.split("-"),Xo=H.useMemo(()=>y.reduce((be,Ke,st)=>st>=nn?be:be+Ke.height,0),[y,nn]),Ol=nj(),Qp=f.invert||h,zs=se==="loading";is.current=H.useMemo(()=>nn*ne+Xo,[nn,Xo]),H.useEffect(()=>{M.current=$i},[$i]),H.useEffect(()=>{te(!0)},[]),H.useEffect(()=>{let be=ee.current;if(be){let Ke=be.getBoundingClientRect().height;return k(Ke),_(st=>[{toastId:f.id,height:Ke,position:f.position},...st]),()=>_(st=>st.filter(Hn=>Hn.toastId!==f.id))}},[_,f.id]),H.useLayoutEffect(()=>{if(!V)return;let be=ee.current,Ke=be.style.height;be.style.height="auto";let st=be.getBoundingClientRect().height;be.style.height=Ke,k(st),_(Hn=>Hn.find(An=>An.toastId===f.id)?Hn.map(An=>An.toastId===f.id?{...An,height:st}:An):[{toastId:f.id,height:st,position:f.position},...Hn])},[V,f.title,f.description,_,f.id]);let Us=H.useCallback(()=>{ge(!0),tn(is.current),_(be=>be.filter(Ke=>Ke.toastId!==f.id)),setTimeout(()=>{T(f)},gj)},[f,T,_,is]);H.useEffect(()=>{if(f.promise&&se==="loading"||f.duration===1/0||f.type==="loading")return;let be;return S||g||F&&Ol?(()=>{if(ui.current<Wn.current){let Ke=new Date().getTime()-Wn.current;M.current=M.current-Ke}ui.current=new Date().getTime()})():M.current!==1/0&&(Wn.current=new Date().getTime(),be=setTimeout(()=>{var Ke;(Ke=f.onAutoClose)==null||Ke.call(f,f),Us()},M.current)),()=>clearTimeout(be)},[S,g,f,se,F,Ol,Us]),H.useEffect(()=>{f.delete&&Us()},[Us,f.delete]);function Zp(){var be,Ke,st;return E!=null&&E.loading?H.createElement("div",{className:bs(U==null?void 0:U.loader,(be=f==null?void 0:f.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":se==="loading"},E.loading):ae?H.createElement("div",{className:bs(U==null?void 0:U.loader,(Ke=f==null?void 0:f.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":se==="loading"},ae):H.createElement(Q2,{className:bs(U==null?void 0:U.loader,(st=f==null?void 0:f.classNames)==null?void 0:st.loader),visible:se==="loading"})}return H.createElement("li",{tabIndex:0,ref:ee,className:bs(L,je,U==null?void 0:U.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[se],(n=f==null?void 0:f.classNames)==null?void 0:n[se]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:P,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":V,"data-promise":!!f.promise,"data-swiped":ze,"data-removed":we,"data-visible":G,"data-y-position":Dl,"data-x-position":rs,"data-index":x,"data-front":X,"data-swiping":Ce,"data-dismissible":Te,"data-type":se,"data-invert":Qp,"data-swipe-out":Ge,"data-swipe-direction":j,"data-expanded":!!(S||$&&V),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${we?Ue:is.current}px`,"--initial-height":$?"auto":`${Yt}px`,...O,...f.style},onDragEnd:()=>{Pe(!1),A(null),xs.current=null},onPointerDown:be=>{zs||!Te||(D.current=new Date,tn(is.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(Pe(!0),xs.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Ke,st,Hn;if(Ge||!Te)return;xs.current=null;let An=Number(((be=ee.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$s=Number(((Ke=ee.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ws=new Date().getTime()-((st=D.current)==null?void 0:st.getTime()),Rn=q==="x"?An:$s,Rt=Math.abs(Rn)/Ws;if(Math.abs(Rn)>=mj||Rt>.11){tn(is.current),(Hn=f.onDismiss)==null||Hn.call(f,f),W(q==="x"?An>0?"right":"left":$s>0?"down":"up"),Us(),ke(!0),Je(!1);return}Pe(!1),A(null)},onPointerMove:be=>{var Ke,st,Hn,An;if(!xs.current||!Te||((Ke=window.getSelection())==null?void 0:Ke.toString().length)>0)return;let $s=be.clientY-xs.current.y,Ws=be.clientX-xs.current.x,Rn=(st=t.swipeDirections)!=null?st:yj(ue);!q&&(Math.abs(Ws)>1||Math.abs($s)>1)&&A(Math.abs(Ws)>Math.abs($s)?"x":"y");let Rt={x:0,y:0};q==="y"?(Rn.includes("top")||Rn.includes("bottom"))&&(Rn.includes("top")&&$s<0||Rn.includes("bottom")&&$s>0)&&(Rt.y=$s):q==="x"&&(Rn.includes("left")||Rn.includes("right"))&&(Rn.includes("left")&&Ws<0||Rn.includes("right")&&Ws>0)&&(Rt.x=Ws),(Math.abs(Rt.x)>0||Math.abs(Rt.y)>0)&&Je(!0),(Hn=ee.current)==null||Hn.style.setProperty("--swipe-amount-x",`${Rt.x}px`),(An=ee.current)==null||An.style.setProperty("--swipe-amount-y",`${Rt.y}px`)}},At&&!f.jsx?H.createElement("button",{"aria-label":C,"data-disabled":zs,"data-close-button":!0,onClick:zs||!Te?()=>{}:()=>{var be;Us(),(be=f.onDismiss)==null||be.call(f,f)},className:bs(U==null?void 0:U.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(r=E==null?void 0:E.close)!=null?r:tj):null,f.jsx||w.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:H.createElement(H.Fragment,null,se||f.icon||f.promise?H.createElement("div",{"data-icon":"",className:bs(U==null?void 0:U.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Zp():null,f.type!=="loading"?f.icon||(E==null?void 0:E[se])||K2(se):null):null,H.createElement("div",{"data-content":"",className:bs(U==null?void 0:U.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:bs(U==null?void 0:U.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?H.createElement("div",{"data-description":"",className:bs(ie,Mt,U==null?void 0:U.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),w.isValidElement(f.cancel)?f.cancel:f.cancel&&Id(f.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||B,onClick:be=>{var Ke,st;Id(f.cancel)&&Te&&((st=(Ke=f.cancel).onClick)==null||st.call(Ke,be),Us())},className:bs(U==null?void 0:U.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,w.isValidElement(f.action)?f.action:f.action&&Id(f.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||Y,onClick:be=>{var Ke,st;Id(f.action)&&((st=(Ke=f.action).onClick)==null||st.call(Ke,be),!be.defaultPrevented&&Us())},className:bs(U==null?void 0:U.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function Kw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function _j(t,e){let n={};return[t,e].forEach((s,i)=>{let r=i===1,o=r?"--mobile-offset":"--offset",a=r?hj:dj;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(c=>{s[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof s[c]=="number"?`${s[c]}px`:s[c]}):l(a)}),n}var xj=w.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:m=uj,toastOptions:g,dir:_=Kw(),gap:v=pj,loadingIcon:y,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:S}=t,[T,P]=H.useState([]),I=H.useMemo(()=>Array.from(new Set([s].concat(T.filter(F=>F.position).map(F=>F.position)))),[T,s]),[O,B]=H.useState([]),[Y,L]=H.useState(!1),[ie,fe]=H.useState(!1),[ue,ne]=H.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=H.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=H.useRef(null),E=H.useRef(!1),C=H.useCallback(F=>{P(q=>{var A;return(A=q.find(j=>j.id===F.id))!=null&&A.delete||Ln.dismiss(F.id),q.filter(({id:j})=>j!==F.id)})},[]);return H.useEffect(()=>Ln.subscribe(F=>{if(F.dismiss){P(q=>q.map(A=>A.id===F.id?{...A,delete:!0}:A));return}setTimeout(()=>{e2.flushSync(()=>{P(q=>{let A=q.findIndex(j=>j.id===F.id);return A!==-1?[...q.slice(0,A),{...q[A],...F},...q.slice(A+1)]:[F,...q]})})})}),[]),H.useEffect(()=>{if(u!=="system"){ne(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:q})=>{ne(q?"dark":"light")})}catch{F.addListener(({matches:A})=>{try{ne(A?"dark":"light")}catch(j){console.error(j)}})}},[u]),H.useEffect(()=>{T.length<=1&&L(!1)},[T]),H.useEffect(()=>{let F=q=>{var A,j;i.every(W=>q[W]||q.code===W)&&(L(!0),(A=ae.current)==null||A.focus()),q.code==="Escape"&&(document.activeElement===ae.current||(j=ae.current)!=null&&j.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),H.useEffect(()=>{if(ae.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,E.current=!1)}},[ae.current]),H.createElement("section",{ref:e,"aria-label":`${b} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((F,q)=>{var A;let[j,W]=F.split("-");return T.length?H.createElement("ol",{key:F,dir:_==="auto"?Kw():_,tabIndex:-1,ref:ae,className:a,"data-sonner-toaster":!0,"data-theme":ue,"data-y-position":j,"data-lifted":Y&&T.length>1&&!r,"data-x-position":W,style:{"--front-toast-height":`${((A=O[0])==null?void 0:A.height)||0}px`,"--width":`${fj}px`,"--gap":`${v}px`,...f,..._j(l,c)},onBlur:V=>{E.current&&!V.currentTarget.contains(V.relatedTarget)&&(E.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||E.current||(E.current=!0,U.current=V.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{ie||L(!1)},onDragEnd:()=>L(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||fe(!0)},onPointerUp:()=>fe(!1)},T.filter(V=>!V.position&&q===0||V.position===F).map((V,te)=>{var we,ge;return H.createElement(vj,{key:V.id,icons:x,index:te,toast:V,defaultRichColors:d,duration:(we=g==null?void 0:g.duration)!=null?we:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:m,closeButton:(ge=g==null?void 0:g.closeButton)!=null?ge:o,interacting:ie,position:F,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:C,toasts:T.filter(Ce=>Ce.position==V.position),heights:O.filter(Ce=>Ce.position==V.position),setHeights:B,expandByDefault:r,gap:v,loadingIcon:y,expanded:Y,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))}),Hu=t=>t.type==="checkbox",go=t=>t instanceof Date,Sn=t=>t==null;const MI=t=>typeof t=="object";var zt=t=>!Sn(t)&&!Array.isArray(t)&&MI(t)&&!go(t),wj=t=>zt(t)&&t.target?Hu(t.target)?t.target.checked:t.target.value:t,bj=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Sj=(t,e)=>t.has(bj(e)),Cj=t=>{const e=t.constructor&&t.constructor.prototype;return zt(e)&&e.hasOwnProperty("isPrototypeOf")},T_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(T_&&(t instanceof Blob||s))&&(n||zt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!Cj(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Gt(t[i]));else return t;return e}var fp=t=>/^\w*$/.test(t),Lt=t=>t===void 0,E_=t=>Array.isArray(t)?t.filter(Boolean):[],I_=t=>E_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(t,e,n)=>{if(!e||!zt(t))return n;const s=(fp(e)?[e]:I_(e)).reduce((i,r)=>Sn(i)?i:i[r],t);return Lt(s)||s===t?Lt(t[e])?n:t[e]:s},Qs=t=>typeof t=="boolean",it=(t,e,n)=>{let s=-1;const i=fp(e)?[e]:I_(e),r=i.length,o=r-1;for(;++s<r;){const a=i[s];let l=n;if(s!==o){const c=t[a];l=zt(c)||Array.isArray(c)?c:isNaN(+i[s+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const qw={BLUR:"blur",FOCUS_OUT:"focusout"},Is={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},di={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kj=H.createContext(null);kj.displayName="HookFormContext";var Tj=(t,e,n,s=!0)=>{const i={defaultValues:e._defaultValues};for(const r in t)Object.defineProperty(i,r,{get:()=>{const o=r;return e._proxyFormState[o]!==Is.all&&(e._proxyFormState[o]=!s||Is.all),t[o]}});return i};const Ej=typeof window<"u"?H.useLayoutEffect:H.useEffect;var Gn=t=>typeof t=="string",Ij=(t,e,n,s,i)=>Gn(t)?(s&&e.watch.add(t),le(n,t,i)):Array.isArray(t)?t.map(r=>(s&&e.watch.add(r),le(n,r))):(s&&(e.watchAll=!0),n),by=t=>Sn(t)||!MI(t);function sr(t,e,n=new WeakSet){if(by(t)||by(e))return t===e;if(go(t)&&go(e))return t.getTime()===e.getTime();const s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const r of s){const o=t[r];if(!i.includes(r))return!1;if(r!=="ref"){const a=e[r];if(go(o)&&go(a)||zt(o)&&zt(a)||Array.isArray(o)&&Array.isArray(a)?!sr(o,a,n):o!==a)return!1}}return!0}var AI=(t,e,n,s,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:i||!0}}:{},Nc=t=>Array.isArray(t)?t:[t],Qw=()=>{let t=[];return{get observers(){return t},next:i=>{for(const r of t)r.next&&r.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(r=>r!==i)}}),unsubscribe:()=>{t=[]}}};function RI(t,e){const n={};for(const s in t)if(t.hasOwnProperty(s)){const i=t[s],r=e[s];if(i&&zt(i)&&r){const o=RI(i,r);zt(o)&&(n[s]=o)}else t[s]&&(n[s]=r)}return n}var On=t=>zt(t)&&!Object.keys(t).length,P_=t=>t.type==="file",Ps=t=>typeof t=="function",Kh=t=>{if(!T_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},DI=t=>t.type==="select-multiple",N_=t=>t.type==="radio",Pj=t=>N_(t)||Hu(t),Tm=t=>Kh(t)&&t.isConnected;function Nj(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=Lt(t)?s++:t[e[s++]];return t}function Mj(t){for(const e in t)if(t.hasOwnProperty(e)&&!Lt(t[e]))return!1;return!0}function Dt(t,e){const n=Array.isArray(e)?e:fp(e)?[e]:I_(e),s=n.length===1?t:Nj(t,n),i=n.length-1,r=n[i];return s&&delete s[r],i!==0&&(zt(s)&&On(s)||Array.isArray(s)&&Mj(s))&&Dt(t,n.slice(0,-1)),t}var Aj=t=>{for(const e in t)if(Ps(t[e]))return!0;return!1};function OI(t){return Array.isArray(t)||zt(t)&&!Aj(t)}function Sy(t,e={}){for(const n in t)OI(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Sy(t[n],e[n])):Sn(t[n])||(e[n]=!0);return e}function ra(t,e,n){n||(n=Sy(e));for(const s in t)OI(t[s])?Lt(e)||by(n[s])?n[s]=Sy(t[s],Array.isArray(t[s])?[]:{}):ra(t[s],Sn(e)?{}:e[s],n[s]):n[s]=!sr(t[s],e[s]);return n}const Zw={value:!1,isValid:!1},Xw={value:!0,isValid:!0};var LI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Lt(t[0].attributes.value)?Lt(t[0].value)||t[0].value===""?Xw:{value:t[0].value,isValid:!0}:Xw:Zw}return Zw},jI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Lt(t)?t:e?t===""?NaN:t&&+t:n&&Gn(t)?new Date(t):s?s(t):t;const Jw={isValid:!1,value:null};var FI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Jw):Jw;function eb(t){const e=t.ref;return P_(e)?e.files:N_(e)?FI(t.refs).value:DI(e)?[...e.selectedOptions].map(({value:n})=>n):Hu(e)?LI(t.refs).value:jI(Lt(e.value)?t.ref.value:e.value,t)}var Rj=(t,e,n,s)=>{const i={};for(const r of t){const o=le(e,r);o&&it(i,r,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:s}},qh=t=>t instanceof RegExp,Hl=t=>Lt(t)?t:qh(t)?t.source:zt(t)?qh(t.value)?t.value.source:t.value:t,tb=t=>({isOnSubmit:!t||t===Is.onSubmit,isOnBlur:t===Is.onBlur,isOnChange:t===Is.onChange,isOnAll:t===Is.all,isOnTouch:t===Is.onTouched});const nb="AsyncFunction";var Dj=t=>!!t&&!!t.validate&&!!(Ps(t.validate)&&t.validate.constructor.name===nb||zt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===nb)),Oj=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),sb=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Mc=(t,e,n,s)=>{for(const i of n||Object.keys(t)){const r=le(t,i);if(r){const{_f:o,...a}=r;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(Mc(a,e))break}else if(zt(a)&&Mc(a,e))break}}};function ib(t,e,n){const s=le(t,n);if(s||fp(n))return{error:s,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),o=le(e,r),a=le(t,r);if(o&&!Array.isArray(o)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};if(a&&a.root&&a.root.type)return{name:`${r}.root`,error:a.root};i.pop()}return{name:n}}var Lj=(t,e,n,s)=>{n(t);const{name:i,...r}=t;return On(r)||Object.keys(r).length>=Object.keys(e).length||Object.keys(r).find(o=>e[o]===(!s||Is.all))},jj=(t,e,n)=>!t||!e||t===e||Nc(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),Fj=(t,e,n,s,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?s.isOnBlur:i.isOnBlur)?!t:(n?s.isOnChange:i.isOnChange)?t:!0,Vj=(t,e)=>!E_(le(t,e)).length&&Dt(t,e),Bj=(t,e,n)=>{const s=Nc(le(t,n));return it(s,"root",e[n]),it(t,n,s),t};function rb(t,e,n="validate"){if(Gn(t)||Array.isArray(t)&&t.every(Gn)||Qs(t)&&!t)return{type:n,message:Gn(t)?t:"",ref:e}}var ta=t=>zt(t)&&!qh(t)?t:{value:t,message:""},ob=async(t,e,n,s,i,r)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:m,name:g,valueAsNumber:_,mount:v}=t._f,y=le(n,g);if(!v||e.has(g))return{};const x=a?a[0]:o,b=L=>{i&&x.reportValidity&&(x.setCustomValidity(Qs(L)?"":L||""),x.reportValidity())},S={},T=N_(o),P=Hu(o),I=T||P,O=(_||P_(o))&&Lt(o.value)&&Lt(y)||Kh(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,B=AI.bind(null,g,s,S),Y=(L,ie,fe,ue=di.maxLength,ne=di.minLength)=>{const ae=L?ie:fe;S[g]={type:L?ue:ne,message:ae,ref:o,...B(L?ue:ne,ae)}};if(r?!Array.isArray(y)||!y.length:l&&(!I&&(O||Sn(y))||Qs(y)&&!y||P&&!LI(a).isValid||T&&!FI(a).isValid)){const{value:L,message:ie}=Gn(l)?{value:!!l,message:l}:ta(l);if(L&&(S[g]={type:di.required,message:ie,ref:x,...B(di.required,ie)},!s))return b(ie),S}if(!O&&(!Sn(d)||!Sn(h))){let L,ie;const fe=ta(h),ue=ta(d);if(!Sn(y)&&!isNaN(y)){const ne=o.valueAsNumber||y&&+y;Sn(fe.value)||(L=ne>fe.value),Sn(ue.value)||(ie=ne<ue.value)}else{const ne=o.valueAsDate||new Date(y),ae=E=>new Date(new Date().toDateString()+" "+E),$=o.type=="time",U=o.type=="week";Gn(fe.value)&&y&&(L=$?ae(y)>ae(fe.value):U?y>fe.value:ne>new Date(fe.value)),Gn(ue.value)&&y&&(ie=$?ae(y)<ae(ue.value):U?y<ue.value:ne<new Date(ue.value))}if((L||ie)&&(Y(!!L,fe.message,ue.message,di.max,di.min),!s))return b(S[g].message),S}if((c||u)&&!O&&(Gn(y)||r&&Array.isArray(y))){const L=ta(c),ie=ta(u),fe=!Sn(L.value)&&y.length>+L.value,ue=!Sn(ie.value)&&y.length<+ie.value;if((fe||ue)&&(Y(fe,L.message,ie.message),!s))return b(S[g].message),S}if(f&&!O&&Gn(y)){const{value:L,message:ie}=ta(f);if(qh(L)&&!y.match(L)&&(S[g]={type:di.pattern,message:ie,ref:o,...B(di.pattern,ie)},!s))return b(ie),S}if(m){if(Ps(m)){const L=await m(y,n),ie=rb(L,x);if(ie&&(S[g]={...ie,...B(di.validate,ie.message)},!s))return b(ie.message),S}else if(zt(m)){let L={};for(const ie in m){if(!On(L)&&!s)break;const fe=rb(await m[ie](y,n),x,ie);fe&&(L={...fe,...B(ie,fe.message)},b(fe.message),s&&(S[g]=L))}if(!On(L)&&(S[g]={ref:x,...L},!s))return S}}return b(!0),S};const zj={mode:Is.onSubmit,reValidateMode:Is.onChange,shouldFocusError:!0};function Uj(t={}){let e={...zj,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ps(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},i=zt(e.defaultValues)||zt(e.values)?Gt(e.defaultValues||e.values)||{}:{},r=e.shouldUnregister?{}:Gt(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:Qw(),state:Qw()},f=e.criteriaMode===Is.all,m=k=>M=>{clearTimeout(c),c=setTimeout(k,M)},g=async k=>{if(!e.disabled&&(u.isValid||d.isValid||k)){const M=e.resolver?On((await P()).errors):await O(s,!0);M!==n.isValid&&h.state.next({isValid:M})}},_=(k,M)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((k||Array.from(a.mount)).forEach(D=>{D&&(M?it(n.validatingFields,D,M):Dt(n.validatingFields,D))}),h.state.next({validatingFields:n.validatingFields,isValidating:!On(n.validatingFields)}))},v=(k,M=[],D,ee,X=!0,G=!0)=>{if(ee&&D&&!e.disabled){if(o.action=!0,G&&Array.isArray(le(s,k))){const se=D(le(s,k),ee.argA,ee.argB);X&&it(s,k,se)}if(G&&Array.isArray(le(n.errors,k))){const se=D(le(n.errors,k),ee.argA,ee.argB);X&&it(n.errors,k,se),Vj(n.errors,k)}if((u.touchedFields||d.touchedFields)&&G&&Array.isArray(le(n.touchedFields,k))){const se=D(le(n.touchedFields,k),ee.argA,ee.argB);X&&it(n.touchedFields,k,se)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=ra(i,r)),h.state.next({name:k,isDirty:Y(k,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else it(r,k,M)},y=(k,M)=>{it(n.errors,k,M),h.state.next({errors:n.errors})},x=k=>{n.errors=k,h.state.next({errors:n.errors,isValid:!1})},b=(k,M,D,ee)=>{const X=le(s,k);if(X){const G=le(r,k,Lt(D)?le(i,k):D);Lt(G)||ee&&ee.defaultChecked||M?it(r,k,M?G:eb(X._f)):fe(k,G),o.mount&&g()}},S=(k,M,D,ee,X)=>{let G=!1,se=!1;const Te={name:k};if(!e.disabled){if(!D||ee){(u.isDirty||d.isDirty)&&(se=n.isDirty,n.isDirty=Te.isDirty=Y(),G=se!==Te.isDirty);const je=sr(le(i,k),M);se=!!le(n.dirtyFields,k),je?Dt(n.dirtyFields,k):it(n.dirtyFields,k,!0),Te.dirtyFields=n.dirtyFields,G=G||(u.dirtyFields||d.dirtyFields)&&se!==!je}if(D){const je=le(n.touchedFields,k);je||(it(n.touchedFields,k,D),Te.touchedFields=n.touchedFields,G=G||(u.touchedFields||d.touchedFields)&&je!==D)}G&&X&&h.state.next(Te)}return G?Te:{}},T=(k,M,D,ee)=>{const X=le(n.errors,k),G=(u.isValid||d.isValid)&&Qs(M)&&n.isValid!==M;if(e.delayError&&D?(l=m(()=>y(k,D)),l(e.delayError)):(clearTimeout(c),l=null,D?it(n.errors,k,D):Dt(n.errors,k)),(D?!sr(X,D):X)||!On(ee)||G){const se={...ee,...G&&Qs(M)?{isValid:M}:{},errors:n.errors,name:k};n={...n,...se},h.state.next(se)}},P=async k=>{_(k,!0);const M=await e.resolver(r,e.context,Rj(k||a.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return _(k),M},I=async k=>{const{errors:M}=await P(k);if(k)for(const D of k){const ee=le(M,D);ee?it(n.errors,D,ee):Dt(n.errors,D)}else n.errors=M;return M},O=async(k,M,D={valid:!0})=>{for(const ee in k){const X=k[ee];if(X){const{_f:G,...se}=X;if(G){const Te=a.array.has(G.name),je=X._f&&Dj(X._f);je&&u.validatingFields&&_([G.name],!0);const Mt=await ob(X,a.disabled,r,f,e.shouldUseNativeValidation&&!M,Te);if(je&&u.validatingFields&&_([G.name]),Mt[G.name]&&(D.valid=!1,M))break;!M&&(le(Mt,G.name)?Te?Bj(n.errors,Mt,G.name):it(n.errors,G.name,Mt[G.name]):Dt(n.errors,G.name))}!On(se)&&await O(se,M,D)}}return D.valid},B=()=>{for(const k of a.unMount){const M=le(s,k);M&&(M._f.refs?M._f.refs.every(D=>!Tm(D)):!Tm(M._f.ref))&&V(k)}a.unMount=new Set},Y=(k,M)=>!e.disabled&&(k&&M&&it(r,k,M),!sr(E(),i)),L=(k,M,D)=>Ij(k,a,{...o.mount?r:Lt(M)?i:Gn(k)?{[k]:M}:M},D,M),ie=k=>E_(le(o.mount?r:i,k,e.shouldUnregister?le(i,k,[]):[])),fe=(k,M,D={})=>{const ee=le(s,k);let X=M;if(ee){const G=ee._f;G&&(!G.disabled&&it(r,k,jI(M,G)),X=Kh(G.ref)&&Sn(M)?"":M,DI(G.ref)?[...G.ref.options].forEach(se=>se.selected=X.includes(se.value)):G.refs?Hu(G.ref)?G.refs.forEach(se=>{(!se.defaultChecked||!se.disabled)&&(Array.isArray(X)?se.checked=!!X.find(Te=>Te===se.value):se.checked=X===se.value||!!X)}):G.refs.forEach(se=>se.checked=se.value===X):P_(G.ref)?G.ref.value="":(G.ref.value=X,G.ref.type||h.state.next({name:k,values:Gt(r)})))}(D.shouldDirty||D.shouldTouch)&&S(k,X,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&U(k)},ue=(k,M,D)=>{for(const ee in M){if(!M.hasOwnProperty(ee))return;const X=M[ee],G=k+"."+ee,se=le(s,G);(a.array.has(k)||zt(X)||se&&!se._f)&&!go(X)?ue(G,X,D):fe(G,X,D)}},ne=(k,M,D={})=>{const ee=le(s,k),X=a.array.has(k),G=Gt(M);it(r,k,G),X?(h.array.next({name:k,values:Gt(r)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&D.shouldDirty&&h.state.next({name:k,dirtyFields:ra(i,r),isDirty:Y(k,G)})):ee&&!ee._f&&!Sn(G)?ue(k,G,D):fe(k,G,D),sb(k,a)&&h.state.next({...n,name:k}),h.state.next({name:o.mount?k:void 0,values:Gt(r)})},ae=async k=>{o.mount=!0;const M=k.target;let D=M.name,ee=!0;const X=le(s,D),G=je=>{ee=Number.isNaN(je)||go(je)&&isNaN(je.getTime())||sr(je,le(r,D,je))},se=tb(e.mode),Te=tb(e.reValidateMode);if(X){let je,Mt;const nn=M.type?eb(X._f):wj(k),At=k.type===qw.BLUR||k.type===qw.FOCUS_OUT,$i=!Oj(X._f)&&!e.resolver&&!le(n.errors,D)&&!X._f.deps||Fj(At,le(n.touchedFields,D),n.isSubmitted,Te,se),Wn=sb(D,a,At);it(r,D,nn),At?(!M||!M.readOnly)&&(X._f.onBlur&&X._f.onBlur(k),l&&l(0)):X._f.onChange&&X._f.onChange(k);const is=S(D,nn,At),ui=!On(is)||Wn;if(!At&&h.state.next({name:D,type:k.type,values:Gt(r)}),$i)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?At&&g():At||g()),ui&&h.state.next({name:D,...Wn?{}:is});if(!At&&Wn&&h.state.next({...n}),e.resolver){const{errors:xs}=await P([D]);if(G(nn),ee){const Dl=ib(n.errors,s,D),rs=ib(xs,s,Dl.name||D);je=rs.error,D=rs.name,Mt=On(xs)}}else _([D],!0),je=(await ob(X,a.disabled,r,f,e.shouldUseNativeValidation))[D],_([D]),G(nn),ee&&(je?Mt=!1:(u.isValid||d.isValid)&&(Mt=await O(s,!0)));ee&&(X._f.deps&&(!Array.isArray(X._f.deps)||X._f.deps.length>0)&&U(X._f.deps),T(D,Mt,je,is))}},$=(k,M)=>{if(le(n.errors,M)&&k.focus)return k.focus(),1},U=async(k,M={})=>{let D,ee;const X=Nc(k);if(e.resolver){const G=await I(Lt(k)?k:X);D=On(G),ee=k?!X.some(se=>le(G,se)):D}else k?(ee=(await Promise.all(X.map(async G=>{const se=le(s,G);return await O(se&&se._f?{[G]:se}:se)}))).every(Boolean),!(!ee&&!n.isValid)&&g()):ee=D=await O(s);return h.state.next({...!Gn(k)||(u.isValid||d.isValid)&&D!==n.isValid?{}:{name:k},...e.resolver||!k?{isValid:D}:{},errors:n.errors}),M.shouldFocus&&!ee&&Mc(s,$,k?X:a.mount),ee},E=(k,M)=>{let D={...o.mount?r:i};return M&&(D=RI(M.dirtyFields?n.dirtyFields:n.touchedFields,D)),Lt(k)?D:Gn(k)?le(D,k):k.map(ee=>le(D,ee))},C=(k,M)=>({invalid:!!le((M||n).errors,k),isDirty:!!le((M||n).dirtyFields,k),error:le((M||n).errors,k),isValidating:!!le(n.validatingFields,k),isTouched:!!le((M||n).touchedFields,k)}),F=k=>{k&&Nc(k).forEach(M=>Dt(n.errors,M)),h.state.next({errors:k?n.errors:{}})},q=(k,M,D)=>{const ee=(le(s,k,{_f:{}})._f||{}).ref,X=le(n.errors,k)||{},{ref:G,message:se,type:Te,...je}=X;it(n.errors,k,{...je,...M,ref:ee}),h.state.next({name:k,errors:n.errors,isValid:!1}),D&&D.shouldFocus&&ee&&ee.focus&&ee.focus()},A=(k,M)=>Ps(k)?h.state.subscribe({next:D=>"values"in D&&k(L(void 0,M),D)}):L(k,M,!0),j=k=>h.state.subscribe({next:M=>{jj(k.name,M.name,k.exact)&&Lj(M,k.formState||u,Ue,k.reRenderRoot)&&k.callback({values:{...r},...n,...M,defaultValues:i})}}).unsubscribe,W=k=>(o.mount=!0,d={...d,...k.formState},j({...k,formState:d})),V=(k,M={})=>{for(const D of k?Nc(k):a.mount)a.mount.delete(D),a.array.delete(D),M.keepValue||(Dt(s,D),Dt(r,D)),!M.keepError&&Dt(n.errors,D),!M.keepDirty&&Dt(n.dirtyFields,D),!M.keepTouched&&Dt(n.touchedFields,D),!M.keepIsValidating&&Dt(n.validatingFields,D),!e.shouldUnregister&&!M.keepDefaultValue&&Dt(i,D);h.state.next({values:Gt(r)}),h.state.next({...n,...M.keepDirty?{isDirty:Y()}:{}}),!M.keepIsValid&&g()},te=({disabled:k,name:M})=>{(Qs(k)&&o.mount||k||a.disabled.has(M))&&(k?a.disabled.add(M):a.disabled.delete(M))},we=(k,M={})=>{let D=le(s,k);const ee=Qs(M.disabled)||Qs(e.disabled);return it(s,k,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:k}},name:k,mount:!0,...M}}),a.mount.add(k),D?te({disabled:Qs(M.disabled)?M.disabled:e.disabled,name:k}):b(k,!0,M.value),{...ee?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Hl(M.min),max:Hl(M.max),minLength:Hl(M.minLength),maxLength:Hl(M.maxLength),pattern:Hl(M.pattern)}:{},name:k,onChange:ae,onBlur:ae,ref:X=>{if(X){we(k,M),D=le(s,k);const G=Lt(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,se=Pj(G),Te=D._f.refs||[];if(se?Te.find(je=>je===G):G===D._f.ref)return;it(s,k,{_f:{...D._f,...se?{refs:[...Te.filter(Tm),G,...Array.isArray(le(i,k))?[{}]:[]],ref:{type:G.type,name:k}}:{ref:G}}}),b(k,!1,void 0,G)}else D=le(s,k,{}),D._f&&(D._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(Sj(a.array,k)&&o.action)&&a.unMount.add(k)}}},ge=()=>e.shouldFocusError&&Mc(s,$,a.mount),Ce=k=>{Qs(k)&&(h.state.next({disabled:k}),Mc(s,(M,D)=>{const ee=le(s,D);ee&&(M.disabled=ee._f.disabled||k,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(X=>{X.disabled=ee._f.disabled||k}))},0,!1))},Pe=(k,M)=>async D=>{let ee;D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let X=Gt(r);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:G,values:se}=await P();n.errors=G,X=Gt(se)}else await O(s);if(a.disabled.size)for(const G of a.disabled)Dt(X,G);if(Dt(n.errors,"root"),On(n.errors)){h.state.next({errors:{}});try{await k(X,D)}catch(G){ee=G}}else M&&await M({...n.errors},D),ge(),setTimeout(ge);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(n.errors)&&!ee,submitCount:n.submitCount+1,errors:n.errors}),ee)throw ee},Ge=(k,M={})=>{le(s,k)&&(Lt(M.defaultValue)?ne(k,Gt(le(i,k))):(ne(k,M.defaultValue),it(i,k,Gt(M.defaultValue))),M.keepTouched||Dt(n.touchedFields,k),M.keepDirty||(Dt(n.dirtyFields,k),n.isDirty=M.defaultValue?Y(k,Gt(le(i,k))):Y()),M.keepError||(Dt(n.errors,k),u.isValid&&g()),h.state.next({...n}))},ke=(k,M={})=>{const D=k?Gt(k):i,ee=Gt(D),X=On(k),G=X?i:ee;if(M.keepDefaultValues||(i=D),!M.keepValues){if(M.keepDirtyValues){const se=new Set([...a.mount,...Object.keys(ra(i,r))]);for(const Te of Array.from(se))le(n.dirtyFields,Te)?it(G,Te,le(r,Te)):ne(Te,le(G,Te))}else{if(T_&&Lt(k))for(const se of a.mount){const Te=le(s,se);if(Te&&Te._f){const je=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(Kh(je)){const Mt=je.closest("form");if(Mt){Mt.reset();break}}}}if(M.keepFieldsRef)for(const se of a.mount)ne(se,le(G,se));else s={}}r=e.shouldUnregister?M.keepDefaultValues?Gt(i):{}:Gt(G),h.array.next({values:{...G}}),h.state.next({values:{...G}})}a={mount:M.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!M.keepIsValid||!!M.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:X?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!sr(k,i)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:X?{}:M.keepDirtyValues?M.keepDefaultValues&&r?ra(i,r):n.dirtyFields:M.keepDefaultValues&&k?ra(i,k):M.keepDirty?n.dirtyFields:{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ze=(k,M)=>ke(Ps(k)?k(r):k,M),Je=(k,M={})=>{const D=le(s,k),ee=D&&D._f;if(ee){const X=ee.refs?ee.refs[0]:ee.ref;X.focus&&(X.focus(),M.shouldSelect&&Ps(X.select)&&X.select())}},Ue=k=>{n={...n,...k}},Yt={control:{register:we,unregister:V,getFieldState:C,handleSubmit:Pe,setError:q,_subscribe:j,_runSchema:P,_focusError:ge,_getWatch:L,_getDirty:Y,_setValid:g,_setFieldArray:v,_setDisabledField:te,_setErrors:x,_getFieldArray:ie,_reset:ke,_resetDefaultValues:()=>Ps(e.defaultValues)&&e.defaultValues().then(k=>{ze(k,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:Ce,_subjects:h,_proxyFormState:u,get _fields(){return s},get _formValues(){return r},get _state(){return o},set _state(k){o=k},get _defaultValues(){return i},get _names(){return a},set _names(k){a=k},get _formState(){return n},get _options(){return e},set _options(k){e={...e,...k}}},subscribe:W,trigger:U,register:we,handleSubmit:Pe,watch:A,setValue:ne,getValues:E,reset:ze,resetField:Ge,clearErrors:F,unregister:V,setError:q,setFocus:Je,getFieldState:C};return{...Yt,formControl:Yt}}function Qh(t={}){const e=H.useRef(void 0),n=H.useRef(void 0),[s,i]=H.useState({isDirty:!1,isValidating:!1,isLoading:Ps(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ps(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!Ps(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=Uj(t);e.current={...a,formState:s}}const r=e.current.control;return r._options=t,Ej(()=>{const o=r._subscribe({formState:r._proxyFormState,callback:()=>i({...r._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),r._formState.isReady=!0,o},[r]),H.useEffect(()=>r._disableForm(t.disabled),[r,t.disabled]),H.useEffect(()=>{t.mode&&(r._options.mode=t.mode),t.reValidateMode&&(r._options.reValidateMode=t.reValidateMode)},[r,t.mode,t.reValidateMode]),H.useEffect(()=>{t.errors&&(r._setErrors(t.errors),r._focusError())},[r,t.errors]),H.useEffect(()=>{t.shouldUnregister&&r._subjects.state.next({values:r._getWatch()})},[r,t.shouldUnregister]),H.useEffect(()=>{if(r._proxyFormState.isDirty){const o=r._getDirty();o!==s.isDirty&&r._subjects.state.next({isDirty:o})}},[r,s.isDirty]),H.useEffect(()=>{t.values&&!sr(t.values,n.current)?(r._reset(t.values,{keepFieldsRef:!0,...r._options.resetOptions}),n.current=t.values,i(o=>({...o}))):r._resetDefaultValues()},[r,t.values]),H.useEffect(()=>{r._state.mount||(r._setValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next({...r._formState})),r._removeUnmounted()}),e.current.formState=Tj(s,r),e.current}var He;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const r={};for(const o of i)r[o]=o;return r},t.getValidEnumValues=i=>{const r=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of r)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(r){return i[r]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const r=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.push(o);return r},t.find=(i,r)=>{for(const o of i)if(r(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function s(i,r=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(r)}t.joinValues=s,t.jsonStringifyReplacer=(i,r)=>typeof r=="bigint"?r.toString():r})(He||(He={}));var ab;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ab||(ab={}));const ce=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),er=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},Q=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Li extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(r){return r.message},s={_errors:[]},i=r=>{for(const o of r.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let a=s,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),s}static assert(e){if(!(e instanceof Li))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const i of this.issues)if(i.path.length>0){const r=i.path[0];n[r]=n[r]||[],n[r].push(e(i))}else s.push(e(i));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Li.create=t=>new Li(t);const Cy=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,He.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${He.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${He.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${He.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:He.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,He.assertNever(t)}return{message:n}};let $j=Cy;function Wj(){return $j}const Hj=t=>{const{data:e,path:n,errorMaps:s,issueData:i}=t,r=[...n,...i.path||[]],o={...i,path:r};if(i.message!==void 0)return{...i,path:r,message:i.message};let a="";const l=s.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:r,message:a}};function re(t,e){const n=Wj(),s=Hj({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Cy?void 0:Cy].filter(i=>!!i)});t.common.issues.push(s)}class In{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const i of n){if(i.status==="aborted")return Se;i.status==="dirty"&&e.dirty(),s.push(i.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const i of n){const r=await i.key,o=await i.value;s.push({key:r,value:o})}return In.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const i of n){const{key:r,value:o}=i;if(r.status==="aborted"||o.status==="aborted")return Se;r.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(s[r.value]=o.value)}return{status:e.value,value:s}}}const Se=Object.freeze({status:"aborted"}),hc=t=>({status:"dirty",value:t}),_s=t=>({status:"valid",value:t}),lb=t=>t.status==="aborted",cb=t=>t.status==="dirty",Qa=t=>t.status==="valid",Zh=t=>typeof Promise<"u"&&t instanceof Promise;var he;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(he||(he={}));class ai{constructor(e,n,s,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ub=(t,e)=>{if(Qa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Li(t.common.issues);return this._error=n,this._error}}};function Ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:i}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??s??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class Be{get description(){return this._def.description}_getType(e){return er(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:er(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new In,ctx:{common:e.parent.common,data:e.data,parsedType:er(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Zh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:er(e)},i=this._parseSync({data:e,path:s.path,parent:s});return ub(s,i)}"~validate"(e){var s,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:er(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Qa(r)?{value:r.value}:{issues:n.common.issues}}catch(r){(i=(s=r==null?void 0:r.message)==null?void 0:s.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Qa(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:er(e)},i=this._parse({data:e,path:s.path,parent:s}),r=await(Zh(i)?i:Promise.resolve(i));return ub(s,r)}refine(e,n){const s=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,r)=>{const o=e(i),a=()=>r.addIssue({code:Q.custom,...s(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((s,i)=>e(s)?!0:(i.addIssue(typeof n=="function"?n(s,i):n),!1))}_refinement(e){return new Do({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return kr.create(this,this._def)}nullable(){return Ja.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ti.create(this)}promise(){return nf.create(this,this._def)}or(e){return Jh.create([this,e],this._def)}and(e){return ef.create(this,e,this._def)}transform(e){return new Do({...Ne(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ty({...Ne(this._def),innerType:this,defaultValue:n,typeName:xe.ZodDefault})}brand(){return new pF({typeName:xe.ZodBranded,type:this,...Ne(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ey({...Ne(this._def),innerType:this,catchValue:n,typeName:xe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return M_.create(this,e)}readonly(){return Iy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Yj=/^c[^\s-]{8,}$/i,Gj=/^[0-9a-z]+$/,Kj=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qj=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qj=/^[a-z0-9_-]{21}$/i,Zj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jj=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Em;const tF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,VI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aF=new RegExp(`^${VI}$`);function BI(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function lF(t){return new RegExp(`^${BI(t)}$`)}function cF(t){let e=`${VI}T${BI(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function uF(t,e){return!!((e==="v4"||!e)&&tF.test(t)||(e==="v6"||!e)&&sF.test(t))}function dF(t,e){if(!Zj.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(s));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function hF(t,e){return!!((e==="v4"||!e)&&nF.test(t)||(e==="v6"||!e)&&iF.test(t))}class wi extends Be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_type,expected:ce.string,received:r.parsedType}),Se}const s=new In;let i;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:Q.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="max")e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:Q.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="length"){const o=e.data.length>r.value,a=e.data.length<r.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?re(i,{code:Q.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&re(i,{code:Q.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),s.dirty())}else if(r.kind==="email")Jj.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"email",code:Q.invalid_string,message:r.message}),s.dirty());else if(r.kind==="emoji")Em||(Em=new RegExp(eF,"u")),Em.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"emoji",code:Q.invalid_string,message:r.message}),s.dirty());else if(r.kind==="uuid")qj.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"uuid",code:Q.invalid_string,message:r.message}),s.dirty());else if(r.kind==="nanoid")Qj.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"nanoid",code:Q.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid")Yj.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"cuid",code:Q.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid2")Gj.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"cuid2",code:Q.invalid_string,message:r.message}),s.dirty());else if(r.kind==="ulid")Kj.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"ulid",code:Q.invalid_string,message:r.message}),s.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),re(i,{validation:"url",code:Q.invalid_string,message:r.message}),s.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"regex",code:Q.invalid_string,message:r.message}),s.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),re(i,{code:Q.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),s.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),re(i,{code:Q.invalid_string,validation:{startsWith:r.value},message:r.message}),s.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),re(i,{code:Q.invalid_string,validation:{endsWith:r.value},message:r.message}),s.dirty()):r.kind==="datetime"?cF(r).test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{code:Q.invalid_string,validation:"datetime",message:r.message}),s.dirty()):r.kind==="date"?aF.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{code:Q.invalid_string,validation:"date",message:r.message}),s.dirty()):r.kind==="time"?lF(r).test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{code:Q.invalid_string,validation:"time",message:r.message}),s.dirty()):r.kind==="duration"?Xj.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"duration",code:Q.invalid_string,message:r.message}),s.dirty()):r.kind==="ip"?uF(e.data,r.version)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"ip",code:Q.invalid_string,message:r.message}),s.dirty()):r.kind==="jwt"?dF(e.data,r.alg)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"jwt",code:Q.invalid_string,message:r.message}),s.dirty()):r.kind==="cidr"?hF(e.data,r.version)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"cidr",code:Q.invalid_string,message:r.message}),s.dirty()):r.kind==="base64"?rF.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"base64",code:Q.invalid_string,message:r.message}),s.dirty()):r.kind==="base64url"?oF.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"base64url",code:Q.invalid_string,message:r.message}),s.dirty()):He.assertNever(r);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(i=>e.test(i),{validation:n,code:Q.invalid_string,...he.errToObj(s)})}_addCheck(e){return new wi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...he.errToObj(e)})}url(e){return this._addCheck({kind:"url",...he.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...he.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...he.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...he.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...he.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...he.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...he.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...he.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...he.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...he.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...he.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...he.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...he.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...he.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...he.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...he.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...he.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...he.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...he.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...he.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...he.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...he.errToObj(n)})}nonempty(e){return this.min(1,he.errToObj(e))}trim(){return new wi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}wi.create=t=>new wi({checks:[],typeName:xe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ne(t)});function fF(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,i=n>s?n:s,r=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return r%o/10**i}class Za extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_type,expected:ce.number,received:r.parsedType}),Se}let s;const i=new In;for(const r of this._def.checks)r.kind==="int"?He.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:Q.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="multipleOf"?fF(e.data,r.value)!==0&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:Q.not_finite,message:r.message}),i.dirty()):He.assertNever(r);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,s,i){return new Za({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:he.toString(i)}]})}_addCheck(e){return new Za({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:he.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:he.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&He.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Za.create=t=>new Za({checks:[],typeName:xe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ne(t)});class hu extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ce.bigint)return this._getInvalidInput(e);let s;const i=new In;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):He.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return re(n,{code:Q.invalid_type,expected:ce.bigint,received:n.parsedType}),Se}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,s,i){return new hu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:he.toString(i)}]})}_addCheck(e){return new hu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}hu.create=t=>new hu({checks:[],typeName:xe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ne(t)});class db extends Be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const s=this._getOrReturnCtx(e);return re(s,{code:Q.invalid_type,expected:ce.boolean,received:s.parsedType}),Se}return _s(e.data)}}db.create=t=>new db({typeName:xe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ne(t)});class Xh extends Be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_type,expected:ce.date,received:r.parsedType}),Se}if(Number.isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_date}),Se}const s=new In;let i;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:Q.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),s.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:Q.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),s.dirty()):He.assertNever(r);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:he.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:he.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Xh.create=t=>new Xh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:xe.ZodDate,...Ne(t)});class hb extends Be{_parse(e){if(this._getType(e)!==ce.symbol){const s=this._getOrReturnCtx(e);return re(s,{code:Q.invalid_type,expected:ce.symbol,received:s.parsedType}),Se}return _s(e.data)}}hb.create=t=>new hb({typeName:xe.ZodSymbol,...Ne(t)});class fb extends Be{_parse(e){if(this._getType(e)!==ce.undefined){const s=this._getOrReturnCtx(e);return re(s,{code:Q.invalid_type,expected:ce.undefined,received:s.parsedType}),Se}return _s(e.data)}}fb.create=t=>new fb({typeName:xe.ZodUndefined,...Ne(t)});class pb extends Be{_parse(e){if(this._getType(e)!==ce.null){const s=this._getOrReturnCtx(e);return re(s,{code:Q.invalid_type,expected:ce.null,received:s.parsedType}),Se}return _s(e.data)}}pb.create=t=>new pb({typeName:xe.ZodNull,...Ne(t)});class mb extends Be{constructor(){super(...arguments),this._any=!0}_parse(e){return _s(e.data)}}mb.create=t=>new mb({typeName:xe.ZodAny,...Ne(t)});class gb extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _s(e.data)}}gb.create=t=>new gb({typeName:xe.ZodUnknown,...Ne(t)});class jr extends Be{_parse(e){const n=this._getOrReturnCtx(e);return re(n,{code:Q.invalid_type,expected:ce.never,received:n.parsedType}),Se}}jr.create=t=>new jr({typeName:xe.ZodNever,...Ne(t)});class yb extends Be{_parse(e){if(this._getType(e)!==ce.undefined){const s=this._getOrReturnCtx(e);return re(s,{code:Q.invalid_type,expected:ce.void,received:s.parsedType}),Se}return _s(e.data)}}yb.create=t=>new yb({typeName:xe.ZodVoid,...Ne(t)});class ti extends Be{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),i=this._def;if(n.parsedType!==ce.array)return re(n,{code:Q.invalid_type,expected:ce.array,received:n.parsedType}),Se;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(re(n,{code:o?Q.too_big:Q.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(re(n,{code:Q.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(re(n,{code:Q.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new ai(n,o,n.path,a)))).then(o=>In.mergeArray(s,o));const r=[...n.data].map((o,a)=>i.type._parseSync(new ai(n,o,n.path,a)));return In.mergeArray(s,r)}get element(){return this._def.type}min(e,n){return new ti({...this._def,minLength:{value:e,message:he.toString(n)}})}max(e,n){return new ti({...this._def,maxLength:{value:e,message:he.toString(n)}})}length(e,n){return new ti({...this._def,exactLength:{value:e,message:he.toString(n)}})}nonempty(e){return this.min(1,e)}}ti.create=(t,e)=>new ti({type:t,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...Ne(e)});function oa(t){if(t instanceof Ot){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=kr.create(oa(s))}return new Ot({...t._def,shape:()=>e})}else return t instanceof ti?new ti({...t._def,type:oa(t.element)}):t instanceof kr?kr.create(oa(t.unwrap())):t instanceof Ja?Ja.create(oa(t.unwrap())):t instanceof Ro?Ro.create(t.items.map(e=>oa(e))):t}class Ot extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=He.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ce.object){const c=this._getOrReturnCtx(e);return re(c,{code:Q.invalid_type,expected:ce.object,received:c.parsedType}),Se}const{status:s,ctx:i}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof jr&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=r[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ai(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof jr){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(re(i,{code:Q.unrecognized_keys,keys:a}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ai(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>In.mergeObjectSync(s,c)):In.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return he.errToObj,new Ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var r,o;const i=((o=(r=this._def).errorMap)==null?void 0:o.call(r,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:he.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Ot({...this._def,unknownKeys:"strip"})}passthrough(){return new Ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ot({...this._def,catchall:e})}pick(e){const n={};for(const s of He.objectKeys(e))e[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new Ot({...this._def,shape:()=>n})}omit(e){const n={};for(const s of He.objectKeys(this.shape))e[s]||(n[s]=this.shape[s]);return new Ot({...this._def,shape:()=>n})}deepPartial(){return oa(this)}partial(e){const n={};for(const s of He.objectKeys(this.shape)){const i=this.shape[s];e&&!e[s]?n[s]=i:n[s]=i.optional()}return new Ot({...this._def,shape:()=>n})}required(e){const n={};for(const s of He.objectKeys(this.shape))if(e&&!e[s])n[s]=this.shape[s];else{let r=this.shape[s];for(;r instanceof kr;)r=r._def.innerType;n[s]=r}return new Ot({...this._def,shape:()=>n})}keyof(){return zI(He.objectKeys(this.shape))}}Ot.create=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strip",catchall:jr.create(),typeName:xe.ZodObject,...Ne(e)});Ot.strictCreate=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strict",catchall:jr.create(),typeName:xe.ZodObject,...Ne(e)});Ot.lazycreate=(t,e)=>new Ot({shape:t,unknownKeys:"strip",catchall:jr.create(),typeName:xe.ZodObject,...Ne(e)});class Jh extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function i(r){for(const a of r)if(a.result.status==="valid")return a.result;for(const a of r)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=r.map(a=>new Li(a.ctx.common.issues));return re(n,{code:Q.invalid_union,unionErrors:o}),Se}if(n.common.async)return Promise.all(s.map(async r=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await r._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let r;const o=[];for(const l of s){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!r&&(r={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(r)return n.common.issues.push(...r.ctx.common.issues),r.result;const a=o.map(l=>new Li(l));return re(n,{code:Q.invalid_union,unionErrors:a}),Se}}get options(){return this._def.options}}Jh.create=(t,e)=>new Jh({options:t,typeName:xe.ZodUnion,...Ne(e)});function ky(t,e){const n=er(t),s=er(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&s===ce.object){const i=He.objectKeys(e),r=He.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of r){const l=ky(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ce.array&&s===ce.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let r=0;r<t.length;r++){const o=t[r],a=e[r],l=ky(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ce.date&&s===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ef extends Be{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),i=(r,o)=>{if(lb(r)||lb(o))return Se;const a=ky(r.value,o.value);return a.valid?((cb(r)||cb(o))&&n.dirty(),{status:n.value,value:a.data}):(re(s,{code:Q.invalid_intersection_types}),Se)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([r,o])=>i(r,o)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ef.create=(t,e,n)=>new ef({left:t,right:e,typeName:xe.ZodIntersection,...Ne(n)});class Ro extends Be{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.array)return re(s,{code:Q.invalid_type,expected:ce.array,received:s.parsedType}),Se;if(s.data.length<this._def.items.length)return re(s,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Se;!this._def.rest&&s.data.length>this._def.items.length&&(re(s,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const r=[...s.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ai(s,o,s.path,a)):null}).filter(o=>!!o);return s.common.async?Promise.all(r).then(o=>In.mergeArray(n,o)):In.mergeArray(n,r)}get items(){return this._def.items}rest(e){return new Ro({...this._def,rest:e})}}Ro.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ro({items:t,typeName:xe.ZodTuple,rest:null,...Ne(e)})};class tf extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.object)return re(s,{code:Q.invalid_type,expected:ce.object,received:s.parsedType}),Se;const i=[],r=this._def.keyType,o=this._def.valueType;for(const a in s.data)i.push({key:r._parse(new ai(s,a,s.path,a)),value:o._parse(new ai(s,s.data[a],s.path,a)),alwaysSet:a in s.data});return s.common.async?In.mergeObjectAsync(n,i):In.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof Be?new tf({keyType:e,valueType:n,typeName:xe.ZodRecord,...Ne(s)}):new tf({keyType:wi.create(),valueType:e,typeName:xe.ZodRecord,...Ne(n)})}}class vb extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.map)return re(s,{code:Q.invalid_type,expected:ce.map,received:s.parsedType}),Se;const i=this._def.keyType,r=this._def.valueType,o=[...s.data.entries()].map(([a,l],c)=>({key:i._parse(new ai(s,a,s.path,[c,"key"])),value:r._parse(new ai(s,l,s.path,[c,"value"]))}));if(s.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Se;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Se;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}vb.create=(t,e,n)=>new vb({valueType:e,keyType:t,typeName:xe.ZodMap,...Ne(n)});class fu extends Be{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.set)return re(s,{code:Q.invalid_type,expected:ce.set,received:s.parsedType}),Se;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&(re(s,{code:Q.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&(re(s,{code:Q.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const r=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Se;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...s.data.values()].map((l,c)=>r._parse(new ai(s,l,s.path,c)));return s.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new fu({...this._def,minSize:{value:e,message:he.toString(n)}})}max(e,n){return new fu({...this._def,maxSize:{value:e,message:he.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}fu.create=(t,e)=>new fu({valueType:t,minSize:null,maxSize:null,typeName:xe.ZodSet,...Ne(e)});class _b extends Be{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_b.create=(t,e)=>new _b({getter:t,typeName:xe.ZodLazy,...Ne(e)});class xb extends Be{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return re(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),Se}return{status:"valid",value:e.data}}get value(){return this._def.value}}xb.create=(t,e)=>new xb({value:t,typeName:xe.ZodLiteral,...Ne(e)});function zI(t,e){return new Xa({values:t,typeName:xe.ZodEnum,...Ne(e)})}class Xa extends Be{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return re(n,{expected:He.joinValues(s),received:n.parsedType,code:Q.invalid_type}),Se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return re(n,{received:n.data,code:Q.invalid_enum_value,options:s}),Se}return _s(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Xa.create(e,{...this._def,...n})}exclude(e,n=this._def){return Xa.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}Xa.create=zI;class wb extends Be{_parse(e){const n=He.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==ce.string&&s.parsedType!==ce.number){const i=He.objectValues(n);return re(s,{expected:He.joinValues(i),received:s.parsedType,code:Q.invalid_type}),Se}if(this._cache||(this._cache=new Set(He.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=He.objectValues(n);return re(s,{received:s.data,code:Q.invalid_enum_value,options:i}),Se}return _s(e.data)}get enum(){return this._def.values}}wb.create=(t,e)=>new wb({values:t,typeName:xe.ZodNativeEnum,...Ne(e)});class nf extends Be{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return re(n,{code:Q.invalid_type,expected:ce.promise,received:n.parsedType}),Se;const s=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return _s(s.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}nf.create=(t,e)=>new nf({type:t,typeName:xe.ZodPromise,...Ne(e)});class Do extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),i=this._def.effect||null,r={addIssue:o=>{re(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(r.addIssue=r.addIssue.bind(r),i.type==="preprocess"){const o=i.transform(s.data,r);if(s.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Se;const l=await this._def.schema._parseAsync({data:a,path:s.path,parent:s});return l.status==="aborted"?Se:l.status==="dirty"||n.value==="dirty"?hc(l.value):l});{if(n.value==="aborted")return Se;const a=this._def.schema._parseSync({data:o,path:s.path,parent:s});return a.status==="aborted"?Se:a.status==="dirty"||n.value==="dirty"?hc(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,r);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Se:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>a.status==="aborted"?Se:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Qa(o))return Se;const a=i.transform(o.value,r);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Qa(o)?Promise.resolve(i.transform(o.value,r)).then(a=>({status:n.value,value:a})):Se);He.assertNever(i)}}Do.create=(t,e,n)=>new Do({schema:t,typeName:xe.ZodEffects,effect:e,...Ne(n)});Do.createWithPreprocess=(t,e,n)=>new Do({schema:e,effect:{type:"preprocess",transform:t},typeName:xe.ZodEffects,...Ne(n)});class kr extends Be{_parse(e){return this._getType(e)===ce.undefined?_s(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kr.create=(t,e)=>new kr({innerType:t,typeName:xe.ZodOptional,...Ne(e)});class Ja extends Be{_parse(e){return this._getType(e)===ce.null?_s(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ja.create=(t,e)=>new Ja({innerType:t,typeName:xe.ZodNullable,...Ne(e)});class Ty extends Be{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===ce.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ty.create=(t,e)=>new Ty({innerType:t,typeName:xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ne(e)});class Ey extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Zh(i)?i.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Li(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Li(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Ey.create=(t,e)=>new Ey({innerType:t,typeName:xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ne(e)});class bb extends Be{_parse(e){if(this._getType(e)!==ce.nan){const s=this._getOrReturnCtx(e);return re(s,{code:Q.invalid_type,expected:ce.nan,received:s.parsedType}),Se}return{status:"valid",value:e.data}}}bb.create=t=>new bb({typeName:xe.ZodNaN,...Ne(t)});class pF extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class M_ extends Be{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?Se:r.status==="dirty"?(n.dirty(),hc(r.value)):this._def.out._parseAsync({data:r.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Se:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(e,n){return new M_({in:e,out:n,typeName:xe.ZodPipeline})}}class Iy extends Be{_parse(e){const n=this._def.innerType._parse(e),s=i=>(Qa(i)&&(i.value=Object.freeze(i.value)),i);return Zh(n)?n.then(i=>s(i)):s(n)}unwrap(){return this._def.innerType}}Iy.create=(t,e)=>new Iy({innerType:t,typeName:xe.ZodReadonly,...Ne(e)});var xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(xe||(xe={}));const Tr=wi.create,Es=Za.create;jr.create;ti.create;const pp=Ot.create;Jh.create;ef.create;Ro.create;const mF=tf.create;Xa.create;nf.create;kr.create;Ja.create;const UI=Do.createWithPreprocess,Sb=(t,e,n)=>{if(t&&"reportValidity"in t){const s=le(n,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},$I=(t,e)=>{for(const n in e.fields){const s=e.fields[n];s&&s.ref&&"reportValidity"in s.ref?Sb(s.ref,n,t):s.refs&&s.refs.forEach(i=>Sb(i,n,t))}},gF=(t,e)=>{e.shouldUseNativeValidation&&$I(t,e);const n={};for(const s in t){const i=le(e.fields,s),r=Object.assign(t[s]||{},{ref:i&&i.ref});if(yF(e.names||Object.keys(t),s)){const o=Object.assign({},le(n,s));it(o,"root",r),it(n,s,o)}else it(n,s,r)}return n},yF=(t,e)=>t.some(n=>n.startsWith(e+"."));var vF=function(t,e){for(var n={};t.length;){var s=t[0],i=s.code,r=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var a=s.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:r,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[o].types,c=l&&l[s.code];n[o]=AI(o,e,n,i,c?[].concat(c,s.message):s.message)}t.shift()}return n},sf=function(t,e,n){return n===void 0&&(n={}),function(s,i,r){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(c){return r.shouldUseNativeValidation&&$I({},r),{errors:{},values:n.raw?s:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:gF(vF(o.errors,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)};throw o}))}catch(o){return Promise.reject(o)}}};const WI=w.createContext({});function _F(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const A_=w.createContext(null),HI=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xF(t=!0){const e=w.useContext(A_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,r=w.useId();w.useEffect(()=>{t&&i(r)},[t]);const o=w.useCallback(()=>t&&s&&s(r),[r,s,t]);return!n&&s?[!1,o]:[!0]}const R_=typeof window<"u",wF=R_?w.useLayoutEffect:w.useEffect,Zn=t=>t;let YI=Zn;function D_(t){let e;return()=>(e===void 0&&(e=t()),e)}const el=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},Ii=t=>t*1e3,Pi=t=>t/1e3,bF={useManualTiming:!1};function SF(t){let e=new Set,n=new Set,s=!1,i=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){r.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const f=d&&s?e:n;return u&&r.add(c),f.has(c)||f.add(c),c},cancel:c=>{n.delete(c),r.delete(c)},process:c=>{if(o=c,s){i=!0;return}s=!0,[e,n]=[n,e],e.forEach(a),e.clear(),s=!1,i&&(i=!1,l.process(c))}};return l}const Pd=["read","resolveKeyframes","update","preRender","render","postRender"],CF=40;function GI(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Pd.reduce((v,y)=>(v[y]=SF(r),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,f=()=>{const v=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(v-i.timestamp,CF),1),i.timestamp=v,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(f))},m=()=>{n=!0,s=!0,i.isProcessing||t(f)};return{schedule:Pd.reduce((v,y)=>{const x=o[y];return v[y]=(b,S=!1,T=!1)=>(n||m(),x.schedule(b,S,T)),v},{}),cancel:v=>{for(let y=0;y<Pd.length;y++)o[Pd[y]].cancel(v)},state:i,steps:o}}const{schedule:yt,cancel:Fr,state:rn,steps:Im}=GI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0),KI=w.createContext({strict:!1}),Cb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const t in Cb)tl[t]={isEnabled:e=>Cb[t].some(n=>!!e[n])};function kF(t){for(const e in t)tl[e]={...tl[e],...t[e]}}const TF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TF.has(t)}let qI=t=>!rf(t);function EF(t){t&&(qI=e=>e.startsWith("on")?!rf(e):t(e))}try{EF(require("@emotion/is-prop-valid").default)}catch{}function IF(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(qI(i)||n===!0&&rf(i)||!e&&!rf(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function PF(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const mp=w.createContext({});function pu(t){return typeof t=="string"||Array.isArray(t)}function gp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const O_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],L_=["initial",...O_];function yp(t){return gp(t.animate)||L_.some(e=>pu(t[e]))}function QI(t){return!!(yp(t)||t.variants)}function NF(t,e){if(yp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||pu(n)?n:void 0,animate:pu(s)?s:void 0}}return t.inherit!==!1?e:{}}function MF(t){const{initial:e,animate:n}=NF(t,w.useContext(mp));return w.useMemo(()=>({initial:e,animate:n}),[kb(e),kb(n)])}function kb(t){return Array.isArray(t)?t.join(" "):t}const AF=Symbol.for("motionComponentSymbol");function xa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RF(t,e,n){return w.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):xa(n)&&(n.current=s))},[e])}const j_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DF="framerAppearId",ZI="data-"+j_(DF),{schedule:F_}=GI(queueMicrotask,!1),XI=w.createContext({});function OF(t,e,n,s,i){var r,o;const{visualElement:a}=w.useContext(mp),l=w.useContext(KI),c=w.useContext(A_),u=w.useContext(HI).reducedMotion,d=w.useRef(null);s=s||l.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,f=w.useContext(XI);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&LF(d.current,n,i,f);const m=w.useRef(!1);w.useInsertionEffect(()=>{h&&m.current&&h.update(n,c)});const g=n[ZI],_=w.useRef(!!g&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return wF(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),F_.render(h.render),_.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!_.current&&h.animationState&&h.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),_.current=!1))}),h}function LF(t,e,n,s){const{layoutId:i,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:JI(t.parent)),t.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||a&&xa(a),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,layoutScroll:l,layoutRoot:c})}function JI(t){if(t)return t.options.allowProjection!==!1?t.projection:JI(t.parent)}function jF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:i}){var r,o;t&&kF(t);function a(c,u){let d;const h={...w.useContext(HI),...c,layoutId:FF(c)},{isStatic:f}=h,m=MF(c),g=s(c,f);if(!f&&R_){VF();const _=BF(h);d=_.MeasureLayout,m.visualElement=OF(i,g,h,e,_.ProjectionNode)}return p.jsxs(mp.Provider,{value:m,children:[d&&m.visualElement?p.jsx(d,{visualElement:m.visualElement,...h}):null,n(i,c,RF(g,m.visualElement,u),g,f,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(r=i.displayName)!==null&&r!==void 0?r:i.name)!==null&&o!==void 0?o:""})`}`;const l=w.forwardRef(a);return l[AF]=i,l}function FF({layoutId:t}){const e=w.useContext(WI).id;return e&&t!==void 0?e+"-"+t:t}function VF(t,e){w.useContext(KI).strict}function BF(t){const{drag:e,layout:n}=tl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const zF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function V_(t){return typeof t!="string"||t.includes("-")?!1:!!(zF.indexOf(t)>-1||/[A-Z]/u.test(t))}function Tb(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function B_(t,e,n,s){if(typeof e=="function"){const[i,r]=Tb(s);e=e(n!==void 0?n:t.custom,i,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,r]=Tb(s);e=e(n!==void 0?n:t.custom,i,r)}return e}const Py=t=>Array.isArray(t),UF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$F=t=>Py(t)?t[t.length-1]||0:t,vn=t=>!!(t&&t.getVelocity);function uh(t){const e=vn(t)?t.get():t;return UF(e)?e.toValue():e}function WF({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,i,r){const o={latestValues:HF(s,i,r,t),renderState:e()};return n&&(o.onMount=a=>n({props:s,current:a,...o}),o.onUpdate=a=>n(a)),o}const eP=t=>(e,n)=>{const s=w.useContext(mp),i=w.useContext(A_),r=()=>WF(t,e,s,i);return n?r():_F(r)};function HF(t,e,n,s){const i={},r=s(t,{});for(const h in r)i[h]=uh(r[h]);let{initial:o,animate:a}=t;const l=yp(t),c=QI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!gp(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const m=B_(t,h[f]);if(m){const{transitionEnd:g,transition:_,...v}=m;for(const y in v){let x=v[y];if(Array.isArray(x)){const b=u?x.length-1:0;x=x[b]}x!==null&&(i[y]=x)}for(const y in g)i[y]=g[y]}}}return i}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yo=new Set(_l),tP=t=>e=>typeof e=="string"&&e.startsWith(t),nP=tP("--"),YF=tP("var(--"),z_=t=>YF(t)?GF.test(t.split("/*")[0].trim()):!1,GF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ji=(t,e,n)=>n>e?e:n<t?t:n,xl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mu={...xl,transform:t=>ji(0,1,t)},Nd={...xl,default:1},Yu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zi=Yu("deg"),ni=Yu("%"),pe=Yu("px"),KF=Yu("vh"),qF=Yu("vw"),Eb={...ni,parse:t=>ni.parse(t)/100,transform:t=>ni.transform(t*100)},QF={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe},ZF={rotate:Zi,rotateX:Zi,rotateY:Zi,rotateZ:Zi,scale:Nd,scaleX:Nd,scaleY:Nd,scaleZ:Nd,skew:Zi,skewX:Zi,skewY:Zi,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:mu,originX:Eb,originY:Eb,originZ:pe},Ib={...xl,transform:Math.round},U_={...QF,...ZF,zIndex:Ib,size:pe,fillOpacity:mu,strokeOpacity:mu,numOctaves:Ib},XF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JF=_l.length;function eV(t,e,n){let s="",i=!0;for(let r=0;r<JF;r++){const o=_l[r],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=sP(a,U_[o]);if(!l){i=!1;const u=XF[o]||o;s+=`${u}(${c}) `}n&&(e[o]=c)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function $_(t,e,n){const{style:s,vars:i,transformOrigin:r}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Yo.has(l)){o=!0;continue}else if(nP(l)){i[l]=c;continue}else{const u=sP(c,U_[l]);l.startsWith("origin")?(a=!0,r[l]=u):s[l]=u}}if(e.transform||(o||n?s.transform=eV(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=r;s.transformOrigin=`${l} ${c} ${u}`}}const tV={offset:"stroke-dashoffset",array:"stroke-dasharray"},nV={offset:"strokeDashoffset",array:"strokeDasharray"};function sV(t,e,n=1,s=0,i=!0){t.pathLength=1;const r=i?tV:nV;t[r.offset]=pe.transform(-s);const o=pe.transform(e),a=pe.transform(n);t[r.array]=`${o} ${a}`}function Pb(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function iV(t,e,n){const s=Pb(e,t.x,t.width),i=Pb(n,t.y,t.height);return`${s} ${i}`}function W_(t,{attrX:e,attrY:n,attrScale:s,originX:i,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if($_(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f,dimensions:m}=t;h.transform&&(m&&(f.transform=h.transform),delete h.transform),m&&(i!==void 0||r!==void 0||f.transform)&&(f.transformOrigin=iV(m,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),o!==void 0&&sV(h,o,a,l,!1)}const H_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),iP=()=>({...H_(),attrs:{}}),Y_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rP(t,{style:e,vars:n},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const r in n)t.style.setProperty(r,n[r])}const oP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aP(t,e,n,s){rP(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(oP.has(i)?i:j_(i),e.attrs[i])}const of={};function rV(t){Object.assign(of,t)}function lP(t,{layout:e,layoutId:n}){return Yo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!of[t]||t==="opacity")}function G_(t,e,n){var s;const{style:i}=t,r={};for(const o in i)(vn(i[o])||e.style&&vn(e.style[o])||lP(o,t)||((s=n==null?void 0:n.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(r[o]=i[o]);return r}function cP(t,e,n){const s=G_(t,e,n);for(const i in t)if(vn(t[i])||vn(e[i])){const r=_l.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=t[i]}return s}function oV(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Nb=["x","y","width","height","cx","cy","r"],aV={useVisualState:eP({scrapeMotionValuesFromProps:cP,createRenderState:iP,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:i})=>{if(!n)return;let r=!!t.drag;if(!r){for(const a in i)if(Yo.has(a)){r=!0;break}}if(!r)return;let o=!e;if(e)for(let a=0;a<Nb.length;a++){const l=Nb[a];t[l]!==e[l]&&(o=!0)}o&&yt.read(()=>{oV(n,s),yt.render(()=>{W_(s,i,Y_(n.tagName),t.transformTemplate),aP(n,s)})})}})},lV={useVisualState:eP({scrapeMotionValuesFromProps:G_,createRenderState:H_})};function uP(t,e,n){for(const s in e)!vn(e[s])&&!lP(s,n)&&(t[s]=e[s])}function cV({transformTemplate:t},e){return w.useMemo(()=>{const n=H_();return $_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uV(t,e){const n=t.style||{},s={};return uP(s,n,t),Object.assign(s,cV(t,e)),s}function dV(t,e){const n={},s=uV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function hV(t,e,n,s){const i=w.useMemo(()=>{const r=iP();return W_(r,e,Y_(s),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};uP(r,t.style,t),i.style={...r,...i.style}}return i}function fV(t=!1){return(n,s,i,{latestValues:r},o)=>{const l=(V_(n)?hV:dV)(s,r,o,n),c=IF(s,typeof n=="string",t),u=n!==w.Fragment?{...c,...l,ref:i}:{},{children:d}=s,h=w.useMemo(()=>vn(d)?d.get():d,[d]);return w.createElement(n,{...u,children:h})}}function pV(t,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...V_(s)?aV:lV,preloadedFeatures:t,useRender:fV(i),createVisualElement:e,Component:s};return jF(o)}}function dP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function vp(t,e,n){const s=t.getProps();return B_(s,e,n!==void 0?n:s.custom,t)}const mV=D_(()=>window.ScrollTimeline!==void 0);class gV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(i=>{if(mV()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{s.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class yV extends gV{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function K_(t,e){return t?t[e]||t.default||t:void 0}const Ny=2e4;function hP(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Ny;)e+=n,s=t.next(e);return e>=Ny?1/0:e}function q_(t){return typeof t=="function"}function Mb(t,e){t.timeline=e,t.onfinish=null}const Q_=t=>Array.isArray(t)&&typeof t[0]=="number",vV={linearEasing:void 0};function _V(t,e){const n=D_(t);return()=>{var s;return(s=vV[e])!==null&&s!==void 0?s:n()}}const af=_V(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fP=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let r=0;r<i;r++)s+=t(el(0,i-1,r))+", ";return`linear(${s.substring(0,s.length-2)})`};function pP(t){return!!(typeof t=="function"&&af()||!t||typeof t=="string"&&(t in My||af())||Q_(t)||Array.isArray(t)&&t.every(pP))}const fc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,My={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fc([0,.65,.55,1]),circOut:fc([.55,0,1,.45]),backIn:fc([.31,.01,.66,-.59]),backOut:fc([.33,1.53,.69,.99])};function mP(t,e){if(t)return typeof t=="function"&&af()?fP(t,e):Q_(t)?fc(t):Array.isArray(t)?t.map(n=>mP(n,e)||My.easeOut):My[t]}const Ss={x:!1,y:!1};function gP(){return Ss.x||Ss.y}function xV(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const r=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}function yP(t,e){const n=xV(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function Ab(t){return e=>{e.pointerType==="touch"||gP()||t(e)}}function wV(t,e,n={}){const[s,i,r]=yP(t,n),o=Ab(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=Ab(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return s.forEach(a=>{a.addEventListener("pointerenter",o,i)}),r}const vP=(t,e)=>e?t===e?!0:vP(t,e.parentElement):!1,Z_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,bV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SV(t){return bV.has(t.tagName)||t.tabIndex!==-1}const pc=new WeakSet;function Rb(t){return e=>{e.key==="Enter"&&t(e)}}function Pm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CV=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Rb(()=>{if(pc.has(n))return;Pm(n,"down");const i=Rb(()=>{Pm(n,"up")}),r=()=>Pm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Db(t){return Z_(t)&&!gP()}function kV(t,e,n={}){const[s,i,r]=yP(t,n),o=a=>{const l=a.currentTarget;if(!Db(a)||pc.has(l))return;pc.add(l);const c=e(a),u=(f,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!Db(f)||!pc.has(l))&&(pc.delete(l),typeof c=="function"&&c(f,{success:m}))},d=f=>{u(f,n.useGlobalTarget||vP(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return s.forEach(a=>{!SV(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>CV(c,i),i)}),r}function TV(t){return t==="x"||t==="y"?Ss[t]?null:(Ss[t]=!0,()=>{Ss[t]=!1}):Ss.x||Ss.y?null:(Ss.x=Ss.y=!0,()=>{Ss.x=Ss.y=!1})}const _P=new Set(["width","height","top","left","right","bottom",..._l]);let dh;function EV(){dh=void 0}const si={now:()=>(dh===void 0&&si.set(rn.isProcessing||bF.useManualTiming?rn.timestamp:performance.now()),dh),set:t=>{dh=t,queueMicrotask(EV)}};function X_(t,e){t.indexOf(e)===-1&&t.push(e)}function J_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class e0{constructor(){this.subscriptions=[]}add(e){return X_(this.subscriptions,e),()=>J_(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function xP(t,e){return e?t*(1e3/e):0}const Ob=30,IV=t=>!isNaN(parseFloat(t));class PV{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const r=si.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=si.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=IV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new e0);const s=this.events[e].add(n);return e==="change"?()=>{s(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ob)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ob);return xP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gu(t,e){return new PV(t,e)}function NV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gu(n))}function MV(t,e){const n=vp(t,e);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const o in r){const a=$F(r[o]);NV(t,o,a)}}function AV(t){return!!(vn(t)&&t.add)}function Ay(t,e){const n=t.getValue("willChange");if(AV(n))return n.add(e)}function wP(t){return t.props[ZI]}const bP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,RV=1e-7,DV=12;function OV(t,e,n,s,i){let r,o,a=0;do o=e+(n-e)/2,r=bP(o,s,i)-t,r>0?n=o:e=o;while(Math.abs(r)>RV&&++a<DV);return o}function Gu(t,e,n,s){if(t===e&&n===s)return Zn;const i=r=>OV(r,0,1,t,n);return r=>r===0||r===1?r:bP(i(r),e,s)}const SP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,CP=t=>e=>1-t(1-e),kP=Gu(.33,1.53,.69,.99),t0=CP(kP),TP=SP(t0),EP=t=>(t*=2)<1?.5*t0(t):.5*(2-Math.pow(2,-10*(t-1))),n0=t=>1-Math.sin(Math.acos(t)),IP=CP(n0),PP=SP(n0),NP=t=>/^0[^.\s]+$/u.test(t);function LV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NP(t):!0}const Ac=t=>Math.round(t*1e5)/1e5,s0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jV(t){return t==null}const FV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i0=(t,e)=>n=>!!(typeof n=="string"&&FV.test(n)&&n.startsWith(t)||e&&!jV(n)&&Object.prototype.hasOwnProperty.call(n,e)),MP=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,r,o,a]=s.match(s0);return{[t]:parseFloat(i),[e]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},VV=t=>ji(0,255,t),Nm={...xl,transform:t=>Math.round(VV(t))},yo={test:i0("rgb","red"),parse:MP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Nm.transform(t)+", "+Nm.transform(e)+", "+Nm.transform(n)+", "+Ac(mu.transform(s))+")"};function BV(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Ry={test:i0("#"),parse:BV,transform:yo.transform},wa={test:i0("hsl","hue"),parse:MP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ni.transform(Ac(e))+", "+ni.transform(Ac(n))+", "+Ac(mu.transform(s))+")"},gn={test:t=>yo.test(t)||Ry.test(t)||wa.test(t),parse:t=>yo.test(t)?yo.parse(t):wa.test(t)?wa.parse(t):Ry.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yo.transform(t):wa.transform(t)},zV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(s0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(zV))===null||n===void 0?void 0:n.length)||0)>0}const AP="number",RP="color",$V="var",WV="var(",Lb="${}",HV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const a=e.replace(HV,l=>(gn.test(l)?(s.color.push(r),i.push(RP),n.push(gn.parse(l))):l.startsWith(WV)?(s.var.push(r),i.push($V),n.push(l)):(s.number.push(r),i.push(AP),n.push(parseFloat(l))),++r,Lb)).split(Lb);return{values:n,split:a,indexes:s,types:i}}function DP(t){return yu(t).values}function OP(t){const{split:e,types:n}=yu(t),s=e.length;return i=>{let r="";for(let o=0;o<s;o++)if(r+=e[o],i[o]!==void 0){const a=n[o];a===AP?r+=Ac(i[o]):a===RP?r+=gn.transform(i[o]):r+=i[o]}return r}}const YV=t=>typeof t=="number"?0:t;function GV(t){const e=DP(t);return OP(t)(e.map(YV))}const Vr={test:UV,parse:DP,createTransformer:OP,getAnimatableNone:GV},KV=new Set(["brightness","contrast","saturate","opacity"]);function qV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(s0)||[];if(!s)return t;const i=n.replace(s,"");let r=KV.has(e)?1:0;return s!==n&&(r*=100),e+"("+r+i+")"}const QV=/\b([a-z-]*)\(.*?\)/gu,Dy={...Vr,getAnimatableNone:t=>{const e=t.match(QV);return e?e.map(qV).join(" "):t}},ZV={...U_,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:Dy,WebkitFilter:Dy},r0=t=>ZV[t];function LP(t,e){let n=r0(t);return n!==Dy&&(n=Vr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const XV=new Set(["auto","none","0"]);function JV(t,e,n){let s=0,i;for(;s<t.length&&!i;){const r=t[s];typeof r=="string"&&!XV.has(r)&&yu(r).values.length&&(i=t[s]),s++}if(i&&n)for(const r of e)t[r]=LP(n,i)}const jb=t=>t===xl||t===pe,Fb=(t,e)=>parseFloat(t.split(", ")[e]),Vb=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return Fb(i[1],e);{const r=s.match(/^matrix\((.+)\)$/u);return r?Fb(r[1],t):0}},eB=new Set(["x","y","z"]),tB=_l.filter(t=>!eB.has(t));function nB(t){const e=[];return tB.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Vb(4,13),y:Vb(5,14)};nl.translateX=nl.x;nl.translateY=nl.y;const To=new Set;let Oy=!1,Ly=!1;function jP(){if(Ly){const t=Array.from(To).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=nB(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,o])=>{var a;(a=s.getValue(r))===null||a===void 0||a.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ly=!1,Oy=!1,To.forEach(t=>t.complete()),To.clear()}function FP(){To.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ly=!0)})}function sB(){FP(),jP()}class o0{constructor(e,n,s,i,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(To.add(this),Oy||(Oy=!0,yt.read(FP),yt.resolveKeyframes(jP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const l=s.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),To.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,To.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const VP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),iB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rB(t){const e=iB.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function BP(t,e,n=1){const[s,i]=rB(t);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const o=r.trim();return VP(o)?parseFloat(o):o}return z_(i)?BP(i,e,n+1):i}const zP=t=>e=>e.test(t),oB={test:t=>t==="auto",parse:t=>t},UP=[xl,pe,ni,Zi,qF,KF,oB],Bb=t=>UP.find(zP(t));class $P extends o0{constructor(e,n,s,i,r){super(e,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),z_(c))){const u=BP(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!_P.has(s)||e.length!==2)return;const[i,r]=e,o=Bb(i),a=Bb(r);if(o!==a)if(jb(o)&&jb(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)LV(e[i])&&s.push(i);s.length&&JV(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nl[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const r=n.getValue(s);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=nl[s](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const zb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vr.test(t)||t==="0")&&!t.startsWith("url("));function aB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function lB(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],o=zb(i,e),a=zb(r,e);return!o||!a?!1:aB(t)||(n==="spring"||q_(n))&&s}const cB=t=>t!==null;function _p(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(cB),r=e&&n!=="loop"&&e%2===1?0:i.length-1;return!r||s===void 0?i[r]:s}const uB=40;class WP{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=si.now(),this.options={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>uB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sB(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=si.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:r,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!lB(e,s,i,r))if(o)this.options.duration=0;else{l&&l(_p(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xt=(t,e,n)=>t+(e-t)*n;function Mm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dB({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,r=0,o=0;if(!e)i=r=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Mm(l,a,t+1/3),r=Mm(l,a,t),o=Mm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}function lf(t,e){return n=>n>0?e:t}const Am=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},hB=[Ry,yo,wa],fB=t=>hB.find(e=>e.test(t));function Ub(t){const e=fB(t);if(!e)return!1;let n=e.parse(t);return e===wa&&(n=dB(n)),n}const $b=(t,e)=>{const n=Ub(t),s=Ub(e);if(!n||!s)return lf(t,e);const i={...n};return r=>(i.red=Am(n.red,s.red,r),i.green=Am(n.green,s.green,r),i.blue=Am(n.blue,s.blue,r),i.alpha=xt(n.alpha,s.alpha,r),yo.transform(i))},pB=(t,e)=>n=>e(t(n)),Ku=(...t)=>t.reduce(pB),jy=new Set(["none","hidden"]);function mB(t,e){return jy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gB(t,e){return n=>xt(t,e,n)}function a0(t){return typeof t=="number"?gB:typeof t=="string"?z_(t)?lf:gn.test(t)?$b:_B:Array.isArray(t)?HP:typeof t=="object"?gn.test(t)?$b:yB:lf}function HP(t,e){const n=[...t],s=n.length,i=t.map((r,o)=>a0(r)(r,e[o]));return r=>{for(let o=0;o<s;o++)n[o]=i[o](r);return n}}function yB(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=a0(t[i])(t[i],e[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function vB(t,e){var n;const s=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;s[r]=l,i[o]++}return s}const _B=(t,e)=>{const n=Vr.createTransformer(e),s=yu(t),i=yu(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?jy.has(t)&&!i.values.length||jy.has(e)&&!s.values.length?mB(t,e):Ku(HP(vB(s,i),i.values),n):lf(t,e)};function YP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):a0(t)(t,e)}const xB=5;function GP(t,e,n){const s=Math.max(e-xB,0);return xP(n-t(s),e-s)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rm=.001;function wB({duration:t=Ct.duration,bounce:e=Ct.bounce,velocity:n=Ct.velocity,mass:s=Ct.mass}){let i,r,o=1-e;o=ji(Ct.minDamping,Ct.maxDamping,o),t=ji(Ct.minDuration,Ct.maxDuration,Pi(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,f=Fy(c,o),m=Math.exp(-d);return Rm-h/f*m},r=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-d),g=Fy(Math.pow(c,2),o);return(-i(c)+Rm>0?-1:1)*((h-f)*m)/g}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Rm+u*d},r=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=SB(i,r,a);if(t=Ii(t),isNaN(l))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:t};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:o*2*Math.sqrt(s*c),duration:t}}}const bB=12;function SB(t,e,n){let s=n;for(let i=1;i<bB;i++)s=s-t(s)/e(s);return s}function Fy(t,e){return t*Math.sqrt(1-e*e)}const CB=["duration","bounce"],kB=["stiffness","damping","mass"];function Wb(t,e){return e.some(n=>t[n]!==void 0)}function TB(t){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...t};if(!Wb(t,kB)&&Wb(t,CB))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*ji(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ct.mass,stiffness:i,damping:r}}else{const n=wB(t);e={...e,...n,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function KP(t=Ct.visualDuration,e=Ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=TB({...n,velocity:-Pi(n.velocity||0)}),m=h||0,g=c/(2*Math.sqrt(l*u)),_=o-r,v=Pi(Math.sqrt(l/u)),y=Math.abs(_)<5;s||(s=y?Ct.restSpeed.granular:Ct.restSpeed.default),i||(i=y?Ct.restDelta.granular:Ct.restDelta.default);let x;if(g<1){const S=Fy(v,g);x=T=>{const P=Math.exp(-g*v*T);return o-P*((m+g*v*_)/S*Math.sin(S*T)+_*Math.cos(S*T))}}else if(g===1)x=S=>o-Math.exp(-v*S)*(_+(m+v*_)*S);else{const S=v*Math.sqrt(g*g-1);x=T=>{const P=Math.exp(-g*v*T),I=Math.min(S*T,300);return o-P*((m+g*v*_)*Math.sinh(I)+S*_*Math.cosh(I))/S}}const b={calculatedDuration:f&&d||null,next:S=>{const T=x(S);if(f)a.done=S>=d;else{let P=0;g<1&&(P=S===0?Ii(m):GP(x,S,T));const I=Math.abs(P)<=s,O=Math.abs(o-T)<=i;a.done=I&&O}return a.value=a.done?o:T,a},toString:()=>{const S=Math.min(hP(b),Ny),T=fP(P=>b.next(S*P).value,S,30);return S+"ms "+T}};return b}function Hb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=I=>a!==void 0&&I<a||l!==void 0&&I>l,m=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let g=n*e;const _=d+g,v=o===void 0?_:o(_);v!==_&&(g=v-d);const y=I=>-g*Math.exp(-I/s),x=I=>v+y(I),b=I=>{const O=y(I),B=x(I);h.done=Math.abs(O)<=c,h.value=h.done?v:B};let S,T;const P=I=>{f(h.value)&&(S=I,T=KP({keyframes:[h.value,m(h.value)],velocity:GP(x,I,h.value),damping:i,stiffness:r,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:I=>{let O=!1;return!T&&S===void 0&&(O=!0,b(I),P(I)),S!==void 0&&I>=S?T.next(I-S):(!O&&b(I),h)}}}const EB=Gu(.42,0,1,1),IB=Gu(0,0,.58,1),qP=Gu(.42,0,.58,1),PB=t=>Array.isArray(t)&&typeof t[0]!="number",NB={linear:Zn,easeIn:EB,easeInOut:qP,easeOut:IB,circIn:n0,circInOut:PP,circOut:IP,backIn:t0,backInOut:TP,backOut:kP,anticipate:EP},Yb=t=>{if(Q_(t)){YI(t.length===4);const[e,n,s,i]=t;return Gu(e,n,s,i)}else if(typeof t=="string")return NB[t];return t};function MB(t,e,n){const s=[],i=n||YP,r=t.length-1;for(let o=0;o<r;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Zn:e;a=Ku(l,a)}s.push(a)}return s}function AB(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const r=t.length;if(YI(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=MB(e,s,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=el(t[d],t[d+1],u);return a[d](h)};return n?u=>c(ji(t[0],t[r-1],u)):c}function RB(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=el(0,e,s);t.push(xt(n,1,i))}}function DB(t){const e=[0];return RB(e,t.length-1),e}function OB(t,e){return t.map(n=>n*e)}function LB(t,e){return t.map(()=>e||qP).splice(0,t.length-1)}function cf({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=PB(s)?s.map(Yb):Yb(s),r={done:!1,value:e[0]},o=OB(n&&n.length===e.length?n:DB(e),t),a=AB(o,e,{ease:Array.isArray(i)?i:LB(e,i)});return{calculatedDuration:t,next:l=>(r.value=a(l),r.done=l>=t,r)}}const jB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>yt.update(e,!0),stop:()=>Fr(e),now:()=>rn.isProcessing?rn.timestamp:si.now()}},FB={decay:Hb,inertia:Hb,tween:cf,keyframes:cf,spring:KP},VB=t=>t/100;class l0 extends WP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:s,element:i,keyframes:r}=this.options,o=(i==null?void 0:i.KeyframeResolver)||o0,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(r,a,n,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=this.options,a=q_(n)?n:FB[n]||cf;let l,c;a!==cf&&typeof e[0]!="number"&&(l=Ku(VB,YP(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});r==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=hP(u));const{calculatedDuration:d}=u,h=d+i,f=h*(s+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=s;if(this.startTime===null)return r.next(0);const{delay:h,repeat:f,repeatType:m,repeatDelay:g,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,b=r;if(f){const I=Math.min(this.currentTime,u)/d;let O=Math.floor(I),B=I%1;!B&&I>=1&&(B=1),B===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(m==="reverse"?(B=1-B,g&&(B-=g/d)):m==="mirror"&&(b=o)),x=ji(0,1,B)*d}const S=y?{done:!1,value:l[0]}:b.next(x);a&&(S.value=a(S.value));let{done:T}=S;!y&&c!==null&&(T=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return P&&i!==void 0&&(S.value=_p(l,this.options,i)),_&&_(S.value),P&&this.finish(),S}get duration(){const{resolved:e}=this;return e?Pi(e.calculatedDuration):0}get time(){return Pi(this.currentTime)}set time(e){e=Ii(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=jB,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const BB=new Set(["opacity","clipPath","filter","transform"]);function zB(t,e,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=mP(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}const UB=D_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uf=10,$B=2e4;function WB(t){return q_(t.type)||t.type==="spring"||!pP(t.ease)}function HB(t,e){const n=new l0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const i=[];let r=0;for(;!s.done&&r<$B;)s=n.sample(r),i.push(s.value),r+=uf;return{times:void 0,keyframes:i,duration:r-uf,ease:"linear"}}const QP={anticipate:EP,backInOut:TP,circInOut:PP};function YB(t){return t in QP}class Gb extends WP{constructor(e){super(e);const{name:n,motionValue:s,element:i,keyframes:r}=this.options;this.resolver=new $P(r,(o,a)=>this.onKeyframesResolved(o,a),n,s,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:i,ease:r,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof r=="string"&&af()&&YB(r)&&(r=QP[r]),WB(this.options)){const{onComplete:d,onUpdate:h,motionValue:f,element:m,...g}=this.options,_=HB(e,g);e=_.keyframes,e.length===1&&(e[1]=e[0]),s=_.duration,i=_.times,r=_.ease,o="keyframes"}const u=zB(a.owner.current,l,e,{...this.options,duration:s,times:i,ease:r});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(Mb(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(_p(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:i,type:o,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Pi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Pi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Ii(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Zn;const{animation:s}=n;Mb(s,e)}return Zn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:i,type:r,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...f}=this.options,m=new l0({...f,keyframes:s,duration:i,type:r,ease:o,times:a,isGenerator:!0}),g=Ii(this.time);c.setWithVelocity(m.sample(g-uf).value,m.sample(g).value,uf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:i,repeatType:r,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return UB()&&s&&BB.has(s)&&!l&&!c&&!i&&r!=="mirror"&&o!==0&&a!=="inertia"}}const GB={type:"spring",stiffness:500,damping:25,restSpeed:10},KB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qB={type:"keyframes",duration:.8},QB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZB=(t,{keyframes:e})=>e.length>2?qB:Yo.has(t)?t.startsWith("scale")?KB(e[1]):GB:QB;function XB({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const c0=(t,e,n,s={},i,r)=>o=>{const a=K_(s,t)||{},l=a.delay||s.delay||0;let{elapsed:c=0}=s;c=c-Ii(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:r?void 0:i};XB(a)||(u={...u,...ZB(t,u)}),u.duration&&(u.duration=Ii(u.duration)),u.repeatDelay&&(u.repeatDelay=Ii(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!r&&e.get()!==void 0){const h=_p(u.keyframes,a);if(h!==void 0)return yt.update(()=>{u.onUpdate(h),u.onComplete()}),new yV([])}return!r&&Gb.supports(u)?new Gb(u):new l0(u)};function JB({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function ZP(t,e,{delay:n=0,transitionOverride:s,type:i}={}){var r;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;s&&(o=s);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const h=t.getValue(d,(r=t.latestValues[d])!==null&&r!==void 0?r:null),f=l[d];if(f===void 0||u&&JB(u,d))continue;const m={delay:n,...K_(o||{},d)};let g=!1;if(window.MotionHandoffAnimation){const v=wP(t);if(v){const y=window.MotionHandoffAnimation(v,d,yt);y!==null&&(m.startTime=y,g=!0)}}Ay(t,d),h.start(c0(d,h,f,t.shouldReduceMotion&&_P.has(d)?{type:!1}:m,t,g));const _=h.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{yt.update(()=>{a&&MV(t,a)})}),c}function Vy(t,e,n={}){var s;const i=vp(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(ZP(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return ez(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function ez(t,e,n=0,s=0,i=1,r){const o=[],a=(t.variantChildren.size-1)*s,l=i===1?(c=0)=>c*s:(c=0)=>a-c*s;return Array.from(t.variantChildren).sort(tz).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Vy(c,e,{...r,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function tz(t,e){return t.sortNodePosition(e)}function nz(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>Vy(t,r,n));s=Promise.all(i)}else if(typeof e=="string")s=Vy(t,e,n);else{const i=typeof e=="function"?vp(t,e,n.custom):e;s=Promise.all(ZP(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const sz=L_.length;function XP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?XP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<sz;n++){const s=L_[n],i=t.props[s];(pu(i)||i===!1)&&(e[s]=i)}return e}const iz=[...O_].reverse(),rz=O_.length;function oz(t){return e=>Promise.all(e.map(({animation:n,options:s})=>nz(t,n,s)))}function az(t){let e=oz(t),n=Kb(),s=!0;const i=l=>(c,u)=>{var d;const h=vp(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:m,...g}=h;c={...c,...g,...m}}return c};function r(l){e=l(t)}function o(l){const{props:c}=t,u=XP(t.parent)||{},d=[],h=new Set;let f={},m=1/0;for(let _=0;_<rz;_++){const v=iz[_],y=n[v],x=c[v]!==void 0?c[v]:u[v],b=pu(x),S=v===l?y.isActive:null;S===!1&&(m=_);let T=x===u[v]&&x!==c[v]&&b;if(T&&s&&t.manuallyAnimateOnMount&&(T=!1),y.protectedKeys={...f},!y.isActive&&S===null||!x&&!y.prevProp||gp(x)||typeof x=="boolean")continue;const P=lz(y.prevProp,x);let I=P||v===l&&y.isActive&&!T&&b||_>m&&b,O=!1;const B=Array.isArray(x)?x:[x];let Y=B.reduce(i(v),{});S===!1&&(Y={});const{prevResolvedValues:L={}}=y,ie={...L,...Y},fe=ae=>{I=!0,h.has(ae)&&(O=!0,h.delete(ae)),y.needsAnimating[ae]=!0;const $=t.getValue(ae);$&&($.liveStyle=!1)};for(const ae in ie){const $=Y[ae],U=L[ae];if(f.hasOwnProperty(ae))continue;let E=!1;Py($)&&Py(U)?E=!dP($,U):E=$!==U,E?$!=null?fe(ae):h.add(ae):$!==void 0&&h.has(ae)?fe(ae):y.protectedKeys[ae]=!0}y.prevProp=x,y.prevResolvedValues=Y,y.isActive&&(f={...f,...Y}),s&&t.blockInitialAnimation&&(I=!1),I&&(!(T&&P)||O)&&d.push(...B.map(ae=>({animation:ae,options:{type:v}})))}if(h.size){const _={};h.forEach(v=>{const y=t.getBaseTarget(v),x=t.getValue(v);x&&(x.liveStyle=!0),_[v]=y??null}),d.push({animation:_})}let g=!!d.length;return s&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),s=!1,g?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Kb(),s=!0}}}function lz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dP(e,t):!1}function Xr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kb(){return{animate:Xr(!0),whileInView:Xr(),whileHover:Xr(),whileTap:Xr(),whileDrag:Xr(),whileFocus:Xr(),exit:Xr()}}class Gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cz extends Gr{constructor(e){super(e),e.animationState||(e.animationState=az(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let uz=0;class dz extends Gr{constructor(){super(...arguments),this.id=uz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const hz={animation:{Feature:cz},exit:{Feature:dz}};function vu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function qu(t){return{point:{x:t.pageX,y:t.pageY}}}const fz=t=>e=>Z_(e)&&t(e,qu(e));function Rc(t,e,n,s){return vu(t,e,fz(n),s)}const qb=(t,e)=>Math.abs(t-e);function pz(t,e){const n=qb(t.x,e.x),s=qb(t.y,e.y);return Math.sqrt(n**2+s**2)}class JP{constructor(e,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Om(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=pz(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:m}=d,{timestamp:g}=rn;this.history.push({...m,timestamp:g});const{onStart:_,onMove:v}=this.handlers;h||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Dm(h,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Om(d.type==="pointercancel"?this.lastMoveEventInfo:Dm(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,_),m&&m(d,_)},!Z_(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const o=qu(e),a=Dm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=rn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Om(a,this.history)),this.removeListeners=Ku(Rc(this.contextWindow,"pointermove",this.handlePointerMove),Rc(this.contextWindow,"pointerup",this.handlePointerUp),Rc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fr(this.updatePoint)}}function Dm(t,e){return e?{point:e(t.point)}:t}function Qb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Om({point:t},e){return{point:t,delta:Qb(t,eN(e)),offset:Qb(t,mz(e)),velocity:gz(e,.1)}}function mz(t){return t[0]}function eN(t){return t[t.length-1]}function gz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=eN(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>Ii(e)));)n--;if(!s)return{x:0,y:0};const r=Pi(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const tN=1e-4,yz=1-tN,vz=1+tN,nN=.01,_z=0-nN,xz=0+nN;function Jn(t){return t.max-t.min}function wz(t,e,n){return Math.abs(t-e)<=n}function Zb(t,e,n,s=.5){t.origin=s,t.originPoint=xt(e.min,e.max,t.origin),t.scale=Jn(n)/Jn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=yz&&t.scale<=vz||isNaN(t.scale))&&(t.scale=1),(t.translate>=_z&&t.translate<=xz||isNaN(t.translate))&&(t.translate=0)}function Dc(t,e,n,s){Zb(t.x,e.x,n.x,s?s.originX:void 0),Zb(t.y,e.y,n.y,s?s.originY:void 0)}function Xb(t,e,n){t.min=n.min+e.min,t.max=t.min+Jn(e)}function bz(t,e,n){Xb(t.x,e.x,n.x),Xb(t.y,e.y,n.y)}function Jb(t,e,n){t.min=e.min-n.min,t.max=t.min+Jn(e)}function Oc(t,e,n){Jb(t.x,e.x,n.x),Jb(t.y,e.y,n.y)}function Sz(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?xt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?xt(n,t,s.max):Math.min(t,n)),t}function eS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Cz(t,{top:e,left:n,bottom:s,right:i}){return{x:eS(t.x,n,i),y:eS(t.y,e,s)}}function tS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function kz(t,e){return{x:tS(t.x,e.x),y:tS(t.y,e.y)}}function Tz(t,e){let n=.5;const s=Jn(t),i=Jn(e);return i>s?n=el(e.min,e.max-s,t.min):s>i&&(n=el(t.min,t.max-i,e.min)),ji(0,1,n)}function Ez(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const By=.35;function Iz(t=By){return t===!1?t=0:t===!0&&(t=By),{x:nS(t,"left","right"),y:nS(t,"top","bottom")}}function nS(t,e,n){return{min:sS(t,e),max:sS(t,n)}}function sS(t,e){return typeof t=="number"?t:t[e]||0}const iS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ba=()=>({x:iS(),y:iS()}),rS=()=>({min:0,max:0}),It=()=>({x:rS(),y:rS()});function ls(t){return[t("x"),t("y")]}function sN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Pz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Nz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Lm(t){return t===void 0||t===1}function zy({scale:t,scaleX:e,scaleY:n}){return!Lm(t)||!Lm(e)||!Lm(n)}function ro(t){return zy(t)||iN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function iN(t){return oS(t.x)||oS(t.y)}function oS(t){return t&&t!=="0%"}function df(t,e,n){const s=t-n,i=e*s;return n+i}function aS(t,e,n,s,i){return i!==void 0&&(t=df(t,i,s)),df(t,n,s)+e}function Uy(t,e=0,n=1,s,i){t.min=aS(t.min,e,n,s,i),t.max=aS(t.max,e,n,s,i)}function rN(t,{x:e,y:n}){Uy(t.x,e.translate,e.scale,e.originPoint),Uy(t.y,n.translate,n.scale,n.originPoint)}const lS=.999999999999,cS=1.0000000000001;function Mz(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let r,o;for(let a=0;a<i;a++){r=n[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ca(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,rN(t,o)),s&&ro(r.latestValues)&&Ca(t,r.latestValues))}e.x<cS&&e.x>lS&&(e.x=1),e.y<cS&&e.y>lS&&(e.y=1)}function Sa(t,e){t.min=t.min+e,t.max=t.max+e}function uS(t,e,n,s,i=.5){const r=xt(t.min,t.max,i);Uy(t,e,n,r,s)}function Ca(t,e){uS(t.x,e.x,e.scaleX,e.scale,e.originX),uS(t.y,e.y,e.scaleY,e.scale,e.originY)}function oN(t,e){return sN(Nz(t.getBoundingClientRect(),e))}function Az(t,e,n){const s=oN(t,n),{scroll:i}=e;return i&&(Sa(s.x,i.offset.x),Sa(s.y,i.offset.y)),s}const aN=({current:t})=>t?t.ownerDocument.defaultView:null,Rz=new WeakMap;class Dz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qu(u).point)},r=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:m}=this.getProps();if(h&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TV(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ls(_=>{let v=this.getAxisMotionValue(_).get()||0;if(ni.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[_];x&&(v=Jn(x)*(parseFloat(v)/100))}}this.originPoint[_]=v}),m&&yt.postRender(()=>m(u,d)),Ay(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:_}=d;if(f&&this.currentDirection===null){this.currentDirection=Oz(_),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>ls(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new JP(e,{onSessionStart:i,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:aN(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&yt.postRender(()=>r(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Md(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=Sz(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;n&&xa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Cz(i.layoutBox,n):this.constraints=!1,this.elastic=Iz(s),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ls(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ez(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xa(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=Az(s,i.root,this.visualElement.getTransformPagePoint());let o=kz(i.layout.layoutBox,r);if(n){const a=n(Pz(o));this.hasMutatedConstraints=!!a,a&&(o=sN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ls(u=>{if(!Md(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,m={type:"inertia",velocity:s?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ay(this.visualElement,e),s.start(c0(e,s,0,n,this.visualElement,!1))}stopAnimation(){ls(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ls(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ls(n=>{const{drag:s}=this.getProps();if(!Md(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];r.set(e[n]-xt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!xa(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ls(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Tz({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ls(o=>{if(!Md(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(xt(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Rz.set(this.visualElement,this);const e=this.visualElement.current,n=Rc(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();xa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yt.read(s);const o=vu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ls(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=By,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function Md(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Oz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Lz extends Gr{constructor(e){super(e),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new Dz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const dS=t=>(e,n)=>{t&&yt.postRender(()=>t(e,n))};class jz extends Gr{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(e){this.session=new JP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:dS(e),onStart:dS(n),onMove:s,onEnd:(r,o)=>{delete this.session,i&&yt.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=Rc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=hS(t,e.target.x),s=hS(t,e.target.y);return`${n}% ${s}%`}},Fz={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Vr.parse(t);if(i.length>5)return s;const r=Vr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=xt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),r(i)}};class Vz extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;rV(Bz),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,o=s.projection;return o&&(o.isPresent=r,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||yt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),F_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lN(t){const[e,n]=xF(),s=w.useContext(WI);return p.jsx(Vz,{...t,layoutGroup:s,switchLayoutGroup:w.useContext(XI),isPresent:e,safeToRemove:n})}const Bz={borderRadius:{...Yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:Fz};function zz(t,e,n){const s=vn(t)?t:gu(t);return s.start(c0("",s,e,n)),s.animation}function Uz(t){return t instanceof SVGElement&&t.tagName!=="svg"}const $z=(t,e)=>t.depth-e.depth;class Wz{constructor(){this.children=[],this.isDirty=!1}add(e){X_(this.children,e),this.isDirty=!0}remove(e){J_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($z),this.isDirty=!1,this.children.forEach(e)}}function Hz(t,e){const n=si.now(),s=({timestamp:i})=>{const r=i-n;r>=e&&(Fr(s),t(r-e))};return yt.read(s,!0),()=>Fr(s)}const cN=["TopLeft","TopRight","BottomLeft","BottomRight"],Yz=cN.length,fS=t=>typeof t=="string"?parseFloat(t):t,pS=t=>typeof t=="number"||pe.test(t);function Gz(t,e,n,s,i,r){i?(t.opacity=xt(0,n.opacity!==void 0?n.opacity:1,Kz(s)),t.opacityExit=xt(e.opacity!==void 0?e.opacity:1,0,qz(s))):r&&(t.opacity=xt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<Yz;o++){const a=`border${cN[o]}Radius`;let l=mS(e,a),c=mS(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pS(l)===pS(c)?(t[a]=Math.max(xt(fS(l),fS(c),s),0),(ni.test(c)||ni.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,s))}function mS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kz=uN(0,.5,IP),qz=uN(.5,.95,Zn);function uN(t,e,n){return s=>s<t?0:s>e?1:n(el(t,e,s))}function gS(t,e){t.min=e.min,t.max=e.max}function os(t,e){gS(t.x,e.x),gS(t.y,e.y)}function yS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vS(t,e,n,s,i){return t-=e,t=df(t,1/n,s),i!==void 0&&(t=df(t,1/i,s)),t}function Qz(t,e=0,n=1,s=.5,i,r=t,o=t){if(ni.test(e)&&(e=parseFloat(e),e=xt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=xt(r.min,r.max,s);t===r&&(a-=e),t.min=vS(t.min,e,n,a,i),t.max=vS(t.max,e,n,a,i)}function _S(t,e,[n,s,i],r,o){Qz(t,e[n],e[s],e[i],e.scale,r,o)}const Zz=["x","scaleX","originX"],Xz=["y","scaleY","originY"];function xS(t,e,n,s){_S(t.x,e,Zz,n?n.x:void 0,s?s.x:void 0),_S(t.y,e,Xz,n?n.y:void 0,s?s.y:void 0)}function wS(t){return t.translate===0&&t.scale===1}function dN(t){return wS(t.x)&&wS(t.y)}function bS(t,e){return t.min===e.min&&t.max===e.max}function Jz(t,e){return bS(t.x,e.x)&&bS(t.y,e.y)}function SS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function hN(t,e){return SS(t.x,e.x)&&SS(t.y,e.y)}function CS(t){return Jn(t.x)/Jn(t.y)}function kS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eU{constructor(){this.members=[]}add(e){X_(this.members,e),e.scheduleRender()}remove(e){if(J_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tU(t,e,n){let s="";const i=t.x.translate/e.x,r=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||r||o)&&(s=`translate3d(${i}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:m}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),d&&(s+=`rotateX(${d}deg) `),h&&(s+=`rotateY(${h}deg) `),f&&(s+=`skewX(${f}deg) `),m&&(s+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const oo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},mc=typeof window<"u"&&window.MotionDebug!==void 0,jm=["","X","Y","Z"],nU={visibility:"hidden"},TS=1e3;let sU=0;function Fm(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function fN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yt,!(i||r))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&fN(s)}function pN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mc&&(oo.totalNodes=oo.resolvedTargetDeltas=oo.recalculatedProjection=0),this.nodes.forEach(oU),this.nodes.forEach(dU),this.nodes.forEach(hU),this.nodes.forEach(aU),mc&&window.MotionDebug.record(oo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new e0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Uz(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Hz(h,250),hh.hasAnimatedSinceResize&&(hh.hasAnimatedSinceResize=!1,this.nodes.forEach(IS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||yU,{onLayoutAnimationStart:_,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!hN(this.targetLayout,m)||f,x=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const b={...K_(g,"layout"),onPlay:_,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||IS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ES);return}this.isUpdating||this.nodes.forEach(cU),this.isUpdating=!1,this.nodes.forEach(uU),this.nodes.forEach(iU),this.nodes.forEach(rU),this.clearAllSnapshots();const a=si.now();rn.delta=ji(0,1e3/60,a-rn.timestamp),rn.timestamp=a,rn.isProcessing=!0,Im.update.process(rn),Im.preRender.process(rn),Im.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,F_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lU),this.sharedNodes.forEach(pU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!dN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||ro(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),vU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return It();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(_U))){const{scroll:u}=this.root;u&&(Sa(l.x,u.offset.x),Sa(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=It();if(os(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&os(l,o),Sa(l.x,d.offset.x),Sa(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=It();os(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ca(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ro(u.latestValues)&&Ca(l,u.latestValues)}return ro(this.latestValues)&&Ca(l,this.latestValues),l}removeTransform(o){const a=It();os(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ro(c.latestValues))continue;zy(c.latestValues)&&c.updateSnapshot();const u=It(),d=c.measurePageBox();os(u,d),xS(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ro(this.latestValues)&&xS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Oc(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):os(this.target,this.layout.layoutBox),rN(this.target,this.targetDelta)):os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Oc(this.relativeTargetOrigin,this.target,f.target),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mc&&oo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zy(this.parent.latestValues)||iN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;os(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Mz(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=It());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yS(this.prevProjectionDelta.x,this.projectionDelta.x),yS(this.prevProjectionDelta.y,this.projectionDelta.y)),Dc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!kS(this.projectionDelta.x,this.prevProjectionDelta.x)||!kS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),mc&&oo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ba(),this.projectionDelta=ba(),this.projectionDeltaWithTransform=ba()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=ba();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=It(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=f!==m,_=this.getStack(),v=!_||_.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(gU));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const S=b/1e3;PS(d.x,o.x,S),PS(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mU(this.relativeTarget,this.relativeTargetOrigin,h,S),x&&Jz(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=It()),os(x,this.relativeTarget)),g&&(this.animationValues=u,Gz(u,c,this.latestValues,S,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{hh.hasAnimatedSinceResize=!0,this.currentAnimation=zz(0,TS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&mN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||It();const d=Jn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Jn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}os(a,l),Ca(a,u),Dc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eU),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Fm("z",o,c,this.animationValues);for(let u=0;u<jm.length;u++)Fm(`rotate${jm[u]}`,o,c,this.animationValues),Fm(`skew${jm[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nU;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=uh(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=uh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=tU(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:m}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in of){if(h[g]===void 0)continue;const{correct:_,applyTo:v}=of[g],y=c.transform==="none"?h[g]:_(h[g],d);if(v){const x=v.length;for(let b=0;b<x;b++)c[v[b]]=y}else c[g]=y}return this.options.layoutId&&(c.pointerEvents=d===this?uh(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ES),this.root.sharedNodes.clear()}}}function iU(t){t.updateLayout()}function rU(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:r}=t.options,o=n.source!==t.layout.source;r==="size"?ls(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Jn(h);h.min=s[d].min,h.max=h.min+f}):mN(r,n.layoutBox,s)&&ls(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Jn(s[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=ba();Dc(a,s,n.layoutBox);const l=ba();o?Dc(l,t.applyTransform(i,!0),n.measuredBox):Dc(l,s,n.layoutBox);const c=!dN(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=It();Oc(m,n.layoutBox,h.layoutBox);const g=It();Oc(g,s,f.layoutBox),hN(m,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function oU(t){mc&&oo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lU(t){t.clearSnapshot()}function ES(t){t.clearMeasurements()}function cU(t){t.isLayoutDirty=!1}function uU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dU(t){t.resolveTargetDelta()}function hU(t){t.calcProjection()}function fU(t){t.resetSkewAndRotation()}function pU(t){t.removeLeadSnapshot()}function PS(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function NS(t,e,n,s){t.min=xt(e.min,n.min,s),t.max=xt(e.max,n.max,s)}function mU(t,e,n,s){NS(t.x,e.x,n.x,s),NS(t.y,e.y,n.y,s)}function gU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yU={duration:.45,ease:[.4,0,.1,1]},MS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AS=MS("applewebkit/")&&!MS("chrome/")?Math.round:Zn;function RS(t){t.min=AS(t.min),t.max=AS(t.max)}function vU(t){RS(t.x),RS(t.y)}function mN(t,e,n){return t==="position"||t==="preserve-aspect"&&!wz(CS(e),CS(n),.2)}function _U(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const xU=pN({attachResizeListener:(t,e)=>vu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vm={current:void 0},gN=pN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vm.current){const t=new xU({});t.mount(window),t.setOptions({layoutScroll:!0}),Vm.current=t}return Vm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wU={pan:{Feature:jz},drag:{Feature:Lz,ProjectionNode:gN,MeasureLayout:lN}};function DS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&yt.postRender(()=>r(e,qu(e)))}class bU extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=wV(e,n=>(DS(this.node,n,"Start"),s=>DS(this.node,s,"End"))))}unmount(){}}class SU extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ku(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function OS(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&yt.postRender(()=>r(e,qu(e)))}class CU extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=kV(e,n=>(OS(this.node,n,"Start"),(s,{success:i})=>OS(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $y=new WeakMap,Bm=new WeakMap,kU=t=>{const e=$y.get(t.target);e&&e(t)},TU=t=>{t.forEach(kU)};function EU({root:t,...e}){const n=t||document;Bm.has(n)||Bm.set(n,{});const s=Bm.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(TU,{root:t,...e})),s[i]}function IU(t,e,n){const s=EU(e);return $y.set(t,n),s.observe(t),()=>{$y.delete(t),s.unobserve(t)}}const PU={some:0,all:1};class NU extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:PU[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return IU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(MU(e,n))&&this.startObserver()}unmount(){}}function MU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const AU={inView:{Feature:NU},tap:{Feature:CU},focus:{Feature:SU},hover:{Feature:bU}},RU={layout:{ProjectionNode:gN,MeasureLayout:lN}},Wy={current:null},yN={current:!1};function DU(){if(yN.current=!0,!!R_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wy.current=t.matches;t.addListener(e),e()}else Wy.current=!1}const OU=[...UP,gn,Vr],LU=t=>OU.find(zP(t)),LS=new WeakMap;function jU(t,e,n){for(const s in e){const i=e[s],r=n[s];if(vn(i))t.addValue(s,i);else if(vn(r))t.addValue(s,gu(i,{owner:t}));else if(r!==i)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(s);t.addValue(s,gu(o!==void 0?o:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const jS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FU{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=o0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=si.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,yt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=yp(n),this.isVariantNode=QI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&vn(m)&&m.set(l[f],!1)}}mount(e){this.current=e,LS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),yN.current||DU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){LS.delete(this.current),this.projection&&this.projection.unmount(),Fr(this.notifyUpdate),Fr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Yo.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&yt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tl){const n=tl[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<jS.length;s++){const i=jS[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=e[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=jU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=gu(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(VP(i)||NP(i))?i=parseFloat(i):!LU(i)&&Vr.test(n)&&(i=LP(e,n)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const o=B_(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(s&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!vn(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new e0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vN extends FU{constructor(){super(...arguments),this.KeyframeResolver=$P}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function VU(t){return window.getComputedStyle(t)}class BU extends vN{constructor(){super(...arguments),this.type="html",this.renderInstance=rP}readValueFromInstance(e,n){if(Yo.has(n)){const s=r0(n);return s&&s.default||0}else{const s=VU(e),i=(nP(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oN(e,n)}build(e,n,s){$_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return G_(e,n,s)}}class zU extends vN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yo.has(n)){const s=r0(n);return s&&s.default||0}return n=oP.has(n)?n:j_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return cP(e,n,s)}build(e,n,s){W_(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,i){aP(e,n,s,i)}mount(e){this.isSVGTag=Y_(e.tagName),super.mount(e)}}const UU=(t,e)=>V_(t)?new zU(e):new BU(e,{allowProjection:t!==w.Fragment}),$U=pV({...hz,...AU,...wU,...RU},UU),WU=PF($U);var FS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(t,e){if(!t)throw wl(e)},wl=function(t){return new Error("Firebase Database ("+_N.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HU=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),s.push(n[u],n[d],n[h],n[f])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new YU;const h=r<<2|a>>4;if(s.push(h),c!==64){const f=a<<4&240|c>>2;if(s.push(f),d!==64){const m=c<<6&192|d;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wN=function(t){const e=xN(t);return u0.encodeByteArray(e,!0)},hf=function(t){return wN(t).replace(/\./g,"")},ff=function(t){try{return u0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){return bN(void 0,t)}function bN(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!KU(n)||(t[n]=bN(t[n],e[n]));return t}function KU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=()=>qU().__FIREBASE_DEFAULTS__,ZU=()=>{if(typeof process>"u"||typeof FS>"u")return;const t=FS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ff(t[1]);return e&&JSON.parse(e)},d0=()=>{try{return QU()||ZU()||XU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SN=t=>{var e,n;return(n=(e=d0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JU=t=>{const e=SN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},CN=()=>{var t;return(t=d0())===null||t===void 0?void 0:t.config},kN=t=>{var e;return(e=d0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hf(JSON.stringify(n)),hf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function t5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s5(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i5(){return _N.NODE_ADMIN===!0}function r5(){try{return typeof indexedDB=="object"}catch{return!1}}function o5(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="FirebaseError";class Kr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=a5,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?l5(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kr(i,a,s)}}function l5(t,e){return t.replace(c5,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const c5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){return JSON.parse(t)}function Wt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=_u(ff(r[0])||""),n=_u(ff(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},u5=function(t){const e=EN(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},d5=function(t){const e=EN(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Oo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Hy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pf(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function mf(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(VS(r)&&VS(o)){if(!mf(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function VS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function yc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function f5(t,e){const n=new p5(t,e);return n.subscribe.bind(n)}class p5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");m5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=zm),i.error===void 0&&(i.error=zm),i.complete===void 0&&(i.complete=zm);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zm(){}function xp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,J(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wp=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bl;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_5(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:v5(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v5(t){return t===ao?void 0:t}function _5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const w5={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},b5=tt.INFO,S5={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},C5=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=S5[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f0{constructor(e){this.name=e,this._logLevel=b5,this._logHandler=C5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const k5=(t,e)=>e.some(n=>t instanceof n);let BS,zS;function T5(){return BS||(BS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E5(){return zS||(zS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IN=new WeakMap,Yy=new WeakMap,PN=new WeakMap,Um=new WeakMap,p0=new WeakMap;function I5(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Er(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IN.set(n,t)}).catch(()=>{}),p0.set(e,t),e}function P5(t){if(Yy.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Yy.set(t,e)}let Gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N5(t){Gy=t(Gy)}function M5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call($m(this),e,...n);return PN.set(s,e.sort?e.sort():[e]),Er(s)}:E5().includes(t)?function(...e){return t.apply($m(this),e),Er(IN.get(this))}:function(...e){return Er(t.apply($m(this),e))}}function A5(t){return typeof t=="function"?M5(t):(t instanceof IDBTransaction&&P5(t),k5(t,T5())?new Proxy(t,Gy):t)}function Er(t){if(t instanceof IDBRequest)return I5(t);if(Um.has(t))return Um.get(t);const e=A5(t);return e!==t&&(Um.set(t,e),p0.set(e,t)),e}const $m=t=>p0.get(t);function R5(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Er(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Er(o.result),l.oldVersion,l.newVersion,Er(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const D5=["get","getKey","getAll","getAllKeys","count"],O5=["put","add","delete","clear"],Wm=new Map;function US(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=O5.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||D5.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Wm.set(e,r),r}N5(t=>({...t,get:(e,n,s)=>US(e,n)||t.get(e,n,s),has:(e,n)=>!!US(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j5(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function j5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ky="@firebase/app",$S="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new f0("@firebase/app"),F5="@firebase/app-compat",V5="@firebase/analytics-compat",B5="@firebase/analytics",z5="@firebase/app-check-compat",U5="@firebase/app-check",$5="@firebase/auth",W5="@firebase/auth-compat",H5="@firebase/database",Y5="@firebase/data-connect",G5="@firebase/database-compat",K5="@firebase/functions",q5="@firebase/functions-compat",Q5="@firebase/installations",Z5="@firebase/installations-compat",X5="@firebase/messaging",J5="@firebase/messaging-compat",e4="@firebase/performance",t4="@firebase/performance-compat",n4="@firebase/remote-config",s4="@firebase/remote-config-compat",i4="@firebase/storage",r4="@firebase/storage-compat",o4="@firebase/firestore",a4="@firebase/vertexai-preview",l4="@firebase/firestore-compat",c4="firebase",u4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="[DEFAULT]",d4={[Ky]:"fire-core",[F5]:"fire-core-compat",[B5]:"fire-analytics",[V5]:"fire-analytics-compat",[U5]:"fire-app-check",[z5]:"fire-app-check-compat",[$5]:"fire-auth",[W5]:"fire-auth-compat",[H5]:"fire-rtdb",[Y5]:"fire-data-connect",[G5]:"fire-rtdb-compat",[K5]:"fire-fn",[q5]:"fire-fn-compat",[Q5]:"fire-iid",[Z5]:"fire-iid-compat",[X5]:"fire-fcm",[J5]:"fire-fcm-compat",[e4]:"fire-perf",[t4]:"fire-perf-compat",[n4]:"fire-rc",[s4]:"fire-rc-compat",[i4]:"fire-gcs",[r4]:"fire-gcs-compat",[o4]:"fire-fst",[l4]:"fire-fst-compat",[a4]:"fire-vertex","fire-js":"fire-js",[c4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,h4=new Map,Qy=new Map;function WS(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sl(t){const e=t.name;if(Qy.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Qy.set(e,t);for(const n of gf.values())WS(n,t);for(const n of h4.values())WS(n,t);return!0}function m0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Qu("app","Firebase",f4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=u4;function NN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qy,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=CN()),!n)throw Ir.create("no-options");const r=gf.get(i);if(r){if(mf(n,r.options)&&mf(s,r.config))return r;throw Ir.create("duplicate-app",{appName:i})}const o=new x5(i);for(const l of Qy.values())o.addComponent(l);const a=new p4(n,s,o);return gf.set(i,a),a}function MN(t=qy){const e=gf.get(t);if(!e&&t===qy&&CN())return NN();if(!e)throw Ir.create("no-app",{appName:t});return e}function Pr(t,e,n){var s;let i=(s=d4[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}sl(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="firebase-heartbeat-database",g4=1,xu="firebase-heartbeat-store";let Hm=null;function AN(){return Hm||(Hm=R5(m4,g4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),Hm}async function y4(t){try{const n=(await AN()).transaction(xu),s=await n.objectStore(xu).get(RN(t));return await n.done,s}catch(e){if(e instanceof Kr)Fi.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(n.message)}}}async function HS(t,e){try{const s=(await AN()).transaction(xu,"readwrite");await s.objectStore(xu).put(e,RN(t)),await s.done}catch(n){if(n instanceof Kr)Fi.warn(n.message);else{const s=Ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(s.message)}}}function RN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=1024,_4=30*24*60*60*1e3;class x4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=YS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=_4}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Fi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YS(),{heartbeatsToSend:s,unsentEntries:i}=w4(this._heartbeatsCache.heartbeats),r=hf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Fi.warn(n),""}}}function YS(){return new Date().toISOString().substring(0,10)}function w4(t,e=v4){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),GS(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GS(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class b4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r5()?o5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function GS(t){return hf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){sl(new Lo("platform-logger",e=>new L5(e),"PRIVATE")),sl(new Lo("heartbeat",e=>new x4(e),"PRIVATE")),Pr(Ky,$S,t),Pr(Ky,$S,"esm2017"),Pr("fire-js","")}S4("");function g0(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function DN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C4=DN,ON=new Qu("auth","Firebase",DN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new f0("@firebase/auth");function k4(t,...e){yf.logLevel<=tt.WARN&&yf.warn(`Auth (${Cl}): ${t}`,...e)}function fh(t,...e){yf.logLevel<=tt.ERROR&&yf.error(`Auth (${Cl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,...e){throw y0(t,...e)}function ii(t,...e){return y0(t,...e)}function LN(t,e,n){const s=Object.assign(Object.assign({},C4()),{[e]:n});return new Qu("auth","Firebase",s).create(e,{appName:t.name})}function Nr(t){return LN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ON.create(t,...e)}function ve(t,e,...n){if(!t)throw y0(e,...n)}function Si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fh(e),new Error(e)}function Vi(t,e){t||Si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function T4(){return KS()==="http:"||KS()==="https:"}function KS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T4()||n5()||"connection"in navigator)?navigator.onLine:!0}function I4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=h0()||TN()}get(){return E4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new Zu(3e4,6e4);function Go(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qr(t,e,n,s,i={}){return FN(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=Sl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},r);return t5()||(c.referrerPolicy="no-referrer"),jN.fetch()(VN(t,t.config.apiHost,n,a),c)})}async function FN(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},P4),e);try{const i=new A4(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Ad(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ad(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ad(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ad(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw LN(t,u,c);Fs(t,u)}}catch(i){if(i instanceof Kr)throw i;Fs(t,"network-request-failed",{message:String(i)})}}async function bp(t,e,n,s,i={}){const r=await qr(t,e,n,s,i);return"mfaPendingCredential"in r&&Fs(t,"multi-factor-auth-required",{_serverResponse:r}),r}function VN(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?v0(t.config,i):`${t.config.apiScheme}://${i}`}function M4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),N4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ad(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=ii(t,e,s);return i.customData._tokenResponse=n,i}function qS(t){return t!==void 0&&t.enterprise!==void 0}class R4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function D4(t,e){return qr(t,"GET","/v2/recaptchaConfig",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e){return qr(t,"POST","/v1/accounts:delete",e)}async function BN(t,e){return qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L4(t,e=!1){const n=hn(t),s=await n.getIdToken(e),i=_0(s);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Lc(Ym(i.auth_time)),issuedAtTime:Lc(Ym(i.iat)),expirationTime:Lc(Ym(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Ym(t){return Number(t)*1e3}function _0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const i=ff(n);return i?JSON.parse(i):(fh("Failed to decode base64 JWT payload"),null)}catch(i){return fh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QS(t){const e=_0(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Kr&&j4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function j4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){var e;const n=t.auth,s=await t.getIdToken(),i=await wu(t,BN(n,{idToken:s}));ve(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?zN(r.providerUserInfo):[],a=B4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Xy(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function V4(t){const e=hn(t);await vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B4(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function zN(t){return t.map(e=>{var{providerId:n}=e,s=g0(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e){const n=await FN(t,{},async()=>{const s=Sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=VN(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jN.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function U4(t,e){return qr(t,"POST","/v2/accounts:revokeToken",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=QS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await z4(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Da;return s&&(ve(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ve(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ve(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=g0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Xy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await wu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L4(this,e)}reload(){return V4(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await wu(this,O4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:b,isAnonymous:S,providerData:T,stsTokenManager:P}=n;ve(x&&P,e,"internal-error");const I=Da.fromJSON(this.name,P);ve(typeof x=="string",e,"internal-error"),Yi(d,e.name),Yi(h,e.name),ve(typeof b=="boolean",e,"internal-error"),ve(typeof S=="boolean",e,"internal-error"),Yi(f,e.name),Yi(m,e.name),Yi(g,e.name),Yi(_,e.name),Yi(v,e.name),Yi(y,e.name);const O=new Ci({uid:x,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:f,tenantId:g,stsTokenManager:I,createdAt:v,lastLoginAt:y});return T&&Array.isArray(T)&&(O.providerData=T.map(B=>Object.assign({},B))),_&&(O._redirectEventId=_),O}static async _fromIdTokenResponse(e,n,s=!1){const i=new Da;i.updateFromServerResponse(n);const r=new Ci({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await vf(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];ve(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?zN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),a=new Da;a.updateFromIdToken(s);const l=new Ci({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Xy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Map;function ki(t){Vi(t instanceof Function,"Expected a class definition");let e=ZS.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UN.type="NONE";const XS=UN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t,e,n){return`firebase:${t}:${e}:${n}`}class Oa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=ph(this.userKey,i.apiKey,r),this.fullPersistenceKey=ph("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Oa(ki(XS),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||ki(XS);const o=ph(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Ci._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Oa(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Oa(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($N(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KN(e))return"Blackberry";if(qN(e))return"Webos";if(WN(e))return"Safari";if((e.includes("chrome/")||HN(e))&&!e.includes("edge/"))return"Chrome";if(GN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function $N(t=Pn()){return/firefox\//i.test(t)}function WN(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HN(t=Pn()){return/crios\//i.test(t)}function YN(t=Pn()){return/iemobile/i.test(t)}function GN(t=Pn()){return/android/i.test(t)}function KN(t=Pn()){return/blackberry/i.test(t)}function qN(t=Pn()){return/webos/i.test(t)}function x0(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $4(t=Pn()){var e;return x0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W4(){return s5()&&document.documentMode===10}function QN(t=Pn()){return x0(t)||GN(t)||qN(t)||KN(t)||/windows phone/i.test(t)||YN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e=[]){let n;switch(t){case"Browser":n=JS(Pn());break;case"Worker":n=`${JS(Pn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e={}){return qr(t,"GET","/v2/passwordPolicy",Go(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=6;class K4{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:G4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eC(this),this.idTokenSubscription=new eC(this),this.beforeStateQueue=new H4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ON,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await BN(this,{idToken:e}),s=await Ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bi(this.app))return Promise.reject(Nr(this));const n=e?hn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bi(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y4(this),n=new K4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await U4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kl(t){return hn(t)}class eC{constructor(e){this.auth=e,this.observer=null,this.addObserver=f5(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q4(t){Sp=t}function XN(t){return Sp.loadJS(t)}function Z4(){return Sp.recaptchaEnterpriseScript}function X4(){return Sp.gapiScript}function J4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const e3="recaptcha-enterprise",t3="NO_RECAPTCHA";class n3{constructor(e){this.type=e3,this.auth=kl(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{D4(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new R4(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;qS(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(t3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&qS(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Z4();l.length!==0&&(l+=a),XN(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function tC(t,e,n,s=!1){const i=new n3(t);let r;try{r=await i.verify(n)}catch{r=await i.verify(n,!0)}const o=Object.assign({},e);return s?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function nC(t,e,n,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await tC(t,e,n,n==="getOobCode");return s(t,r)}else return s(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await tC(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){const n=m0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(mf(r,e??{}))return i;Fs(i,"already-initialized")}return n.initialize({options:e})}function i3(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function r3(t,e,n){const s=kl(t);ve(s._canInitEmulator,s,"emulator-config-failed"),ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=JN(e),{host:o,port:a}=o3(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),a3()}function JN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o3(t){const e=JN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:sC(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:sC(o)}}}function sC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}async function l3(t,e){return qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return bp(t,"POST","/v1/accounts:signInWithPassword",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t,e){return bp(t,"POST","/v1/accounts:signInWithEmailLink",Go(t,e))}async function d3(t,e){return bp(t,"POST","/v1/accounts:signInWithEmailLink",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends w0{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nC(e,n,"signInWithPassword",c3);case"emailLink":return u3(e,{email:this._email,oobCode:this._password});default:Fs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nC(e,s,"signUpPassword",l3);case"emailLink":return d3(e,{idToken:n,email:this._email,oobCode:this._password});default:Fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e){return bp(t,"POST","/v1/accounts:signInWithIdp",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="http://localhost";class jo extends w0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=g0(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new jo(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,La(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:h3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p3(t){const e=gc(yc(t)).link,n=e?gc(yc(e)).deep_link_id:null,s=gc(yc(t)).deep_link_id;return(s?gc(yc(s)).link:null)||s||n||e||t}class b0{constructor(e){var n,s,i,r,o,a;const l=gc(yc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,d=f3((i=l.mode)!==null&&i!==void 0?i:null);ve(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=p3(e);try{return new b0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=b0.parseLink(n);return ve(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends eM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Xu{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jo._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rr.credential(n,s)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Xu{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Xu{constructor(){super("twitter.com")}static credential(e,n){return jo._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ar.credential(n,s)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Ci._fromIdTokenResponse(e,s,i),o=iC(s);return new il({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=iC(s);return new il({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function iC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends Kr{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new _f(e,n,s,i)}}function tM(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(t,r,e,s):r})}async function m3(t,e,n=!1){const s=await wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return il._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e,n=!1){const{auth:s}=t;if(bi(s.app))return Promise.reject(Nr(s));const i="reauthenticate";try{const r=await wu(t,tM(s,i,e,t),n);ve(r.idToken,s,"internal-error");const o=_0(r.idToken);ve(o,s,"internal-error");const{sub:a}=o;return ve(t.uid===a,s,"user-mismatch"),il._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Fs(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e,n=!1){if(bi(t.app))return Promise.reject(Nr(t));const s="signIn",i=await tM(t,s,e),r=await il._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function y3(t,e){return nM(kl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t){const e=kl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _3(t,e,n){return bi(t.app)?Promise.reject(Nr(t)):y3(hn(t),Tl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&v3(t),s})}function x3(t,e,n,s){return hn(t).onIdTokenChanged(e,n,s)}function w3(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function b3(t,e,n,s){return hn(t).onAuthStateChanged(e,n,s)}function S3(t){return hn(t).signOut()}const xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xf,"1"),this.storage.removeItem(xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=1e3,k3=10;class iM extends sM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);W4()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,k3):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},C3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iM.type="LOCAL";const T3=iM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM extends sM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rM.type="SESSION";const oM=rM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Cp(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await E3(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=S0("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(h.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function P3(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function N3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A3(){return aM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="firebaseLocalStorageDb",R3=1,wf="firebaseLocalStorage",cM="fbase_key";class Ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kp(t,e){return t.transaction([wf],e?"readwrite":"readonly").objectStore(wf)}function D3(){const t=indexedDB.deleteDatabase(lM);return new Ju(t).toPromise()}function Jy(){const t=indexedDB.open(lM,R3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(wf,{keyPath:cM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(wf)?e(s):(s.close(),await D3(),e(await Jy()))})})}async function rC(t,e,n){const s=kp(t,!0).put({[cM]:e,value:n});return new Ju(s).toPromise()}async function O3(t,e){const n=kp(t,!1).get(e),s=await new Ju(n).toPromise();return s===void 0?null:s.value}function oC(t,e){const n=kp(t,!0).delete(e);return new Ju(n).toPromise()}const L3=800,j3=3;class uM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>j3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cp._getInstance(A3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await N3(),!this.activeServiceWorker)return;this.sender=new I3(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jy();return await rC(e,xf,"1"),await oC(e,xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rC(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>O3(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=kp(i,!1).getAll();return new Ju(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uM.type="LOCAL";const F3=uM;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t,e){return e?ki(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends w0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B3(t){return nM(t.auth,new C0(t),t.bypassAuthState)}function z3(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),g3(n,new C0(t),t.bypassAuthState)}async function U3(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),m3(n,new C0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B3;case"linkViaPopup":case"linkViaRedirect":return U3;case"reauthViaPopup":case"reauthViaRedirect":return z3;default:Fs(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new Zu(2e3,1e4);class ka extends dM{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=S0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$3.get())};e()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="pendingRedirect",mh=new Map;class H3 extends dM{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await Y3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y3(t,e){const n=q3(e),s=K3(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function G3(t,e){mh.set(t._key(),e)}function K3(t){return ki(t._redirectPersistence)}function q3(t){return ph(W3,t.config.apiKey,t.name)}async function Q3(t,e,n=!1){if(bi(t.app))return Promise.reject(Nr(t));const s=kl(t),i=V3(s,e),o=await new H3(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=10*60*1e3;class X3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!hM(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z3&&this.cachedEventUids.clear(),this.cachedEventUids.has(aC(e))}saveEventToCache(e){this.cachedEventUids.add(aC(e)),this.lastProcessedEventTime=Date.now()}}function aC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(t,e={}){return qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n$=/^https?/;async function s$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await e$(t);for(const n of e)try{if(i$(n))return}catch{}Fs(t,"unauthorized-domain")}function i$(t){const e=Zy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!n$.test(n))return!1;if(t$.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=new Zu(3e4,6e4);function lC(){const t=ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o$(t){return new Promise((e,n)=>{var s,i,r;function o(){lC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lC(),n(ii(t,"network-request-failed"))},timeout:r$.get()})}if(!((i=(s=ri().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=ri().gapi)===null||r===void 0)&&r.load)o();else{const a=J4("iframefcb");return ri()[a]=()=>{gapi.load?o():n(ii(t,"network-request-failed"))},XN(`${X4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gh=null,e})}let gh=null;function a$(t){return gh=gh||o$(t),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=new Zu(5e3,15e3),c$="__/auth/iframe",u$="emulator/auth/iframe",d$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f$(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,u$):`https://${t.config.authDomain}/${c$}`,s={apiKey:e.apiKey,appName:t.name,v:Cl},i=h$.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Sl(s).slice(1)}`}async function p$(t){const e=await a$(t),n=ri().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:f$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d$,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=ii(t,"network-request-failed"),a=ri().setTimeout(()=>{r(o)},l$.get());function l(){ri().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g$=500,y$=600,v$="_blank",_$="http://localhost";class cC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x$(t,e,n,s=g$,i=y$){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},m$),{width:s.toString(),height:i.toString(),top:r,left:o}),c=Pn().toLowerCase();n&&(a=HN(c)?v$:n),$N(c)&&(e=e||_$,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if($4(c)&&a!=="_self")return w$(e||"",a),new cC(null);const d=window.open(e||"",a,u);ve(d,t,"popup-blocked");try{d.focus()}catch{}return new cC(d)}function w$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$="__/auth/handler",S$="emulator/auth/handler",C$=encodeURIComponent("fac");async function uC(t,e,n,s,i,r){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Cl,eventId:i};if(e instanceof eM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Hy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Xu){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${C$}=${encodeURIComponent(l)}`:"";return`${k$(t)}?${Sl(a).slice(1)}${c}`}function k$({config:t}){return t.emulator?v0(t,S$):`https://${t.authDomain}/${b$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class T${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oM,this._completeRedirectFn=Q3,this._overrideRedirectResult=G3}async _openPopup(e,n,s,i){var r;Vi((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await uC(e,n,s,Zy(),i);return x$(e,o,S0())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await uC(e,n,s,Zy(),i);return P3(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Vi(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await p$(e),s=new X3(e);return n.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Gm];o!==void 0&&n(!!o),Fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QN()||WN()||x0()}}const E$=T$;var dC="@firebase/auth",hC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N$(t){sl(new Lo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZN(t)},c=new q4(s,i,r,l);return i3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),sl(new Lo("auth-internal",e=>{const n=kl(e.getProvider("auth").getImmediate());return(s=>new I$(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(dC,hC,P$(t)),Pr(dC,hC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=5*60,A$=kN("authIdTokenMaxAge")||M$;let fC=null;const R$=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>A$)return;const i=n==null?void 0:n.token;fC!==i&&(fC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function D$(t=MN()){const e=m0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s3(t,{popupRedirectResolver:E$,persistence:[F3,T3,oM]}),s=kN("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=R$(r.toString());w3(n,o,()=>o(n.currentUser)),x3(n,a=>o(a))}}const i=SN("auth");return i&&r3(n,`http://${i}`),n}function O$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Q4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=ii("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",O$().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N$("Browser");var L$="firebase",j$="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(L$,j$,"app");var pC={};const mC="@firebase/database",gC="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fM="";function F$(t){fM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Wt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_u(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Vs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new V$(e)}}catch{}return new B$},vo=pM("localStorage"),z$=pM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new f0("@firebase/database"),mM=function(){let t=1;return function(){return t++}}(),gM=function(t){const e=g5(t),n=new h5;n.update(e);const s=n.digest();return u0.encodeByteArray(s)},ed=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=ed.apply(null,s):typeof s=="object"?e+=Wt(s):e+=s,e+=" "}return e};let jc=null,yC=!0;const U$=function(t,e){J(!0,"Can't turn on custom loggers persistently."),ja.logLevel=tt.VERBOSE,jc=ja.log.bind(ja)},on=function(...t){if(yC===!0&&(yC=!1,jc===null&&z$.get("logging_enabled")===!0&&U$()),jc){const e=ed.apply(null,t);jc(e)}},td=function(t){return function(...e){on(t,...e)}},ev=function(...t){const e="FIREBASE INTERNAL ERROR: "+ed(...t);ja.error(e)},Bi=function(...t){const e=`FIREBASE FATAL ERROR: ${ed(...t)}`;throw ja.error(e),new Error(e)},En=function(...t){const e="FIREBASE WARNING: "+ed(...t);ja.warn(e)},$$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&En("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},k0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},W$=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},rl="[MIN_NAME]",Fo="[MAX_NAME]",Ko=function(t,e){if(t===e)return 0;if(t===rl||e===Fo)return-1;if(e===rl||t===Fo)return 1;{const n=vC(t),s=vC(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},H$=function(t,e){return t===e?0:t<e?-1:1},Gl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Wt(e))},T0=function(t){if(typeof t!="object"||t===null)return Wt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Wt(e[s]),n+=":",n+=T0(t[e[s]]);return n+="}",n},yM=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function un(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const vM=function(t){J(!k0(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Y$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},G$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function K$(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const q$=new RegExp("^-?(0*)\\d{1,10}$"),Q$=-2147483648,Z$=2147483647,vC=function(t){if(q$.test(t)){const e=Number(t);if(e>=Q$&&e<=Z$)return e}return null},El=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw En("Exception was thrown by user callback.",n),e},Math.floor(0))}},X$=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){En(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',En(e)}}class yh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}yh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="5",_M="v",xM="s",wM="r",bM="f",SM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CM="ls",kM="p",tv="ac",TM="websocket",EM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function tW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function PM(t,e,n){J(typeof e=="string","typeof type must == string"),J(typeof n=="object","typeof params must == object");let s;if(e===TM)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===EM)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);tW(t)&&(n.ns=t.namespace);const i=[];return un(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(){this.counters_={}}incrementCounter(e,n=1){Vs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return GU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km={},qm={};function I0(t){const e=t.toString();return Km[e]||(Km[e]=new nW),Km[e]}function sW(t,e){const n=t.toString();return qm[n]||(qm[n]=e()),qm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&El(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="start",rW="close",oW="pLPCommand",aW="pRTLPCB",NM="id",MM="pw",AM="ser",lW="cb",cW="seg",uW="ts",dW="d",hW="dframe",RM=1870,DM=30,fW=RM-DM,pW=25e3,mW=3e4;class Ta{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=td(e),this.stats_=I0(n),this.urlFn=l=>(this.appCheckToken&&(l[tv]=this.appCheckToken),PM(n,EM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new iW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(mW)),W$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new P0((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===_C)this.id=a,this.password=l;else if(o===rW)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[_C]="t",s[AM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[lW]=this.scriptTagHolder.uniqueCallbackIdentifier),s[_M]=E0,this.transportSessionId&&(s[xM]=this.transportSessionId),this.lastSessionId&&(s[CM]=this.lastSessionId),this.applicationId&&(s[kM]=this.applicationId),this.appCheckToken&&(s[tv]=this.appCheckToken),typeof location<"u"&&location.hostname&&SM.test(location.hostname)&&(s[wM]=bM);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ta.forceAllow_=!0}static forceDisallow(){Ta.forceDisallow_=!0}static isAvailable(){return Ta.forceAllow_?!0:!Ta.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Y$()&&!G$()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Wt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=wN(n),i=yM(s,fW);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[hW]="t",s[NM]=e,s[MM]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Wt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class P0{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mM(),window[oW+this.uniqueCallbackIdentifier]=e,window[aW+this.uniqueCallbackIdentifier]=n,this.myIFrame=P0.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){on("frame writing exception"),a.stack&&on(a.stack),on(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||on("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[NM]=this.myID,e[MM]=this.myPW,e[AM]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+DM+s.length<=RM;){const o=this.pendingSegs.shift();s=s+"&"+cW+i+"="+o.seg+"&"+uW+i+"="+o.ts+"&"+dW+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(pW)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{on("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=16384,yW=45e3;let bf=null;typeof MozWebSocket<"u"?bf=MozWebSocket:typeof WebSocket<"u"&&(bf=WebSocket);class Ns{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=td(this.connId),this.stats_=I0(n),this.connURL=Ns.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[_M]=E0,typeof location<"u"&&location.hostname&&SM.test(location.hostname)&&(o[wM]=bM),n&&(o[xM]=n),s&&(o[CM]=s),i&&(o[tv]=i),r&&(o[kM]=r),PM(e,TM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vo.set("previous_websocket_failure",!0);try{let s;i5(),this.mySock=new bf(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ns.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&bf!==null&&!Ns.forceDisallow_}static previouslyFailed(){return vo.isInMemoryStorage||vo.get("previous_websocket_failure")===!0}markConnectionHealthy(){vo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=_u(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(J(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Wt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=yM(n,gW);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(yW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ns.responsesRequiredToBeHealthy=2;Ns.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ta,Ns]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ns&&Ns.isAvailable();let s=n&&!Ns.previouslyFailed();if(e.webSocketOnly&&(n||En("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Ns];else{const i=this.transports_=[];for(const r of Su.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);Su.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Su.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=6e4,_W=5e3,xW=10*1024,wW=100*1024,Qm="t",xC="d",bW="s",wC="r",SW="e",bC="o",SC="a",CC="n",kC="p",CW="h";class kW{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=td("c:"+this.id+":"),this.transportManager_=new Su(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qm in e){const n=e[Qm];n===SC?this.upgradeIfSecondaryHealthy_():n===wC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===bC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Gl("t",e),s=Gl("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:CC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Gl("t",e),s=Gl("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Gl(Qm,e);if(xC in e){const s=e[xC];if(n===CW){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===CC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===bW?this.onConnectionShutdown_(s):n===wC?this.onReset_(s):n===SW?ev("Server Error: "+s):n===bC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ev("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),E0!==s&&En("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Fc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(vW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_W))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){J(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends LM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!h0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sf}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=32,EC=768;class nt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ye(){return new nt("")}function Ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Br(t){return t.pieces_.length-t.pieceNum_}function ct(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new nt(t.pieces_,e)}function N0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function TW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Cu(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function jM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new nt(e,0)}function Tt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof nt)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new nt(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function kn(t,e){const n=Ae(t),s=Ae(e);if(n===null)return e;if(n===s)return kn(ct(t),ct(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function EW(t,e){const n=Cu(t,0),s=Cu(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=Ko(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function M0(t,e){if(Br(t)!==Br(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function fs(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Br(t)>Br(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class IW{constructor(e,n){this.errorPrefix_=n,this.parts_=Cu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=wp(this.parts_[s]);FM(this)}}function PW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wp(e),FM(t)}function NW(t){const e=t.parts_.pop();t.byteLength_-=wp(e),t.parts_.length>0&&(t.byteLength_-=1)}function FM(t){if(t.byteLength_>EC)throw new Error(t.errorPrefix_+"has a key path longer than "+EC+" bytes ("+t.byteLength_+").");if(t.parts_.length>TC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+TC+") or object contains a cycle "+lo(t))}function lo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends LM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new A0}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=1e3,MW=60*5*1e3,IC=30*1e3,AW=1.3,RW=3e4,DW="server_kill",PC=3;class Ni extends OM{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ni.nextPersistentConnectionId_++,this.log_=td("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kl,this.maxReconnectDelay_=MW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");A0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(Wt(r)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new bl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Ni.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Vs(e,"w")){const s=Oo(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();En(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||d5(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=IC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=u5(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Wt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ev("Unrecognized action received from server: "+Wt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Kl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RW&&(this.reconnectDelay_=Kl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*AW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ni.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){J(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new kW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,f=>{En(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(DW)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&En(d),l())}}}interrupt(e){on("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){on("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Hy(this.interruptReasons_)&&(this.reconnectDelay_=Kl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>T0(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new nt(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){on("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=PC&&(this.reconnectDelay_=IC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){on("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=PC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+fM.replace(/\./g,"-")]=1,h0()?e["framework.cordova"]=1:TN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sf.getInstance().currentlyOnline();return Hy(this.interruptReasons_)&&e}}Ni.nextPersistentConnectionId_=0;Ni.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new De(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new De(rl,e),i=new De(rl,n);return this.compare(s,i)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;class VM extends Tp{static get __EMPTY_NODE(){return Rd}static set __EMPTY_NODE(e){Rd=e}compare(e,n){return Ko(e.name,n.name)}isDefinedOn(e){throw wl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return De.MIN}maxPost(){return new De(Fo,Rd)}makePost(e,n){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,Rd)}toString(){return".key"}}const Fa=new VM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=i??Bn.EMPTY_NODE,this.right=r??Bn.EMPTY_NODE}copy(e,n,s,i,r){return new Qt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Bn.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qt.RED=!0;Qt.BLACK=!1;class OW{copy(e,n,s,i,r){return this}insert(e,n,s){return new Qt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bn{constructor(e,n=Bn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qt.BLACK,null,null))}remove(e){return new Bn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Dd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Dd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Dd(this.root_,null,this.comparator_,!0,e)}}Bn.EMPTY_NODE=new OW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t,e){return Ko(t.name,e.name)}function R0(t,e){return Ko(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv;function jW(t){nv=t}const BM=function(t){return typeof t=="number"?"number:"+vM(t):"string:"+t},zM=function(t){if(t.isLeafNode()){const e=t.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Vs(e,".sv"),"Priority must be a string or number.")}else J(t===nv||t.isEmpty(),"priority of unexpected type.");J(t===nv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NC;class Kt{constructor(e,n=Kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),zM(this.priorityNode_)}static set __childrenNodeConstructor(e){NC=e}static get __childrenNodeConstructor(){return NC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Kt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Ae(e)===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Ae(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(J(s!==".priority"||Br(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+BM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=vM(this.value_):e+=this.value_,this.lazyHash_=gM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Kt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Kt.__childrenNodeConstructor?-1:(J(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=Kt.VALUE_TYPE_ORDER.indexOf(n),r=Kt.VALUE_TYPE_ORDER.indexOf(s);return J(i>=0,"Unknown leaf type: "+n),J(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UM,$M;function FW(t){UM=t}function VW(t){$M=t}class BW extends Tp{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?Ko(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return De.MIN}maxPost(){return new De(Fo,new Kt("[PRIORITY-POST]",$M))}makePost(e,n){const s=UM(e);return new De(n,new Kt("[PRIORITY-POST]",s))}toString(){return".priority"}}const wt=new BW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=Math.log(2);class UW{constructor(e){const n=r=>parseInt(Math.log(r)/zW,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cf=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Qt(h,d.node,Qt.BLACK,null,null);{const f=parseInt(u/2,10)+l,m=i(l,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new Qt(h,d.node,Qt.BLACK,m,g)}},r=function(l){let c=null,u=null,d=t.length;const h=function(m,g){const _=d-m,v=d;d-=m;const y=i(_+1,v),x=t[_],b=n?n(x):x;f(new Qt(b,x.node,g,null,y))},f=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(m+1));g?h(_,Qt.BLACK):(h(_,Qt.BLACK),h(_,Qt.RED))}return u},o=new UW(t.length),a=r(o);return new Bn(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm;const na={};class Ti{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return J(na&&wt,"ChildrenNode.ts has not been loaded"),Zm=Zm||new Ti({".priority":na},{".priority":wt}),Zm}get(e){const n=Oo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bn?n:null}hasIndex(e){return Vs(this.indexSet_,e.toString())}addIndex(e,n){J(e!==Fa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(De.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=Cf(s,e.getCompare()):a=na;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ti(u,c)}addToIndexes(e,n){const s=pf(this.indexes_,(i,r)=>{const o=Oo(this.indexSet_,r);if(J(o,"Missing index implementation for "+r),i===na)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(De.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Cf(a,o.getCompare())}else return na;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new De(e.name,a))),l.insert(e,e.node)}});return new Ti(s,this.indexSet_)}removeFromIndexes(e,n){const s=pf(this.indexes_,i=>{if(i===na)return i;{const r=n.get(e.name);return r?i.remove(new De(e.name,r)):i}});return new Ti(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql;class me{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&zM(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ql||(ql=new me(new Bn(R0),null,Ti.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ql}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ql:n}}getChild(e){const n=Ae(e);return n===null?this:this.getImmediateChild(n).getChild(ct(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(J(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new De(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?ql:this.priorityNode_;return new me(i,o,r)}}updateChild(e,n){const s=Ae(e);if(s===null)return n;{J(Ae(e)!==".priority"||Br(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(ct(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(wt,(o,a)=>{n[o]=a.val(e),s++,r&&me.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+BM(this.getPriority().val())+":"),this.forEachChild(wt,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":gM(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new De(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new De(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new De(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,De.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,De.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nd?-1:0}withIndex(e){if(e===Fa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Fa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(wt),i=n.getIterator(wt);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Fa?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $W extends me{constructor(){super(new Bn(R0),me.EMPTY_NODE,Ti.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const nd=new $W;Object.defineProperties(De,{MIN:{value:new De(rl,me.EMPTY_NODE)},MAX:{value:new De(Fo,nd)}});VM.__EMPTY_NODE=me.EMPTY_NODE;Kt.__childrenNodeConstructor=me;jW(nd);VW(nd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=!0;function jt(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Kt(n,jt(e))}if(!(t instanceof Array)&&WW){const n=[];let s=!1;if(un(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=jt(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new De(o,l)))}}),n.length===0)return me.EMPTY_NODE;const r=Cf(n,LW,o=>o.name,R0);if(s){const o=Cf(n,wt.getCompare());return new me(r,jt(e),new Ti({".priority":o},{".priority":wt}))}else return new me(r,jt(e),Ti.Default)}else{let n=me.EMPTY_NODE;return un(t,(s,i)=>{if(Vs(t,s)&&s.substring(0,1)!=="."){const r=jt(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(jt(e))}}FW(jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW extends Tp{constructor(e){super(),this.indexPath_=e,J(!Oe(e)&&Ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?Ko(e.name,n.name):r}makePost(e,n){const s=jt(e),i=me.EMPTY_NODE.updateChild(this.indexPath_,s);return new De(n,i)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,nd);return new De(Fo,e)}toString(){return Cu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW extends Tp{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Ko(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,n){const s=jt(e);return new De(n,s)}toString(){return".value"}}const GW=new YW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){return{type:"value",snapshotNode:t}}function ol(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ku(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Tu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function KW(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){J(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(ku(n,a)):J(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ol(n,s)):o.trackChildChange(Tu(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(wt,(i,r)=>{n.hasChild(i)||s.trackChildChange(ku(i,r))}),n.isLeafNode()||n.forEachChild(wt,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(Tu(i,r,o))}else s.trackChildChange(ol(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.indexedFilter_=new D0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Eu.getStartPost_(e),this.endPost_=Eu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new De(n,s))||(s=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=me.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(me.EMPTY_NODE);const r=this;return n.forEachChild(wt,(o,a)=>{r.matches(new De(o,a))||(i=i.updateImmediateChild(o,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Eu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new De(n,s))||(s=me.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=me.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(me.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;J(a.numChildren()===this.limit_,"");const l=new De(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(u&&!s.isEmpty()&&f>=0)return r!=null&&r.trackChildChange(Tu(n,s,d)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(ku(n,d));const g=a.updateImmediateChild(n,me.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(r!=null&&r.trackChildChange(ol(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(ku(c.name,c.node)),r.trackChildChange(ol(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,me.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rl}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wt}copy(){const e=new O0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QW(t){return t.loadsAllData()?new D0(t.getIndex()):t.hasLimit()?new qW(t):new Eu(t)}function MC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===wt?n="$priority":t.index_===GW?n="$value":t.index_===Fa?n="$key":(J(t.index_ instanceof HW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Wt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Wt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Wt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Wt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Wt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function AC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==wt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends OM{constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=td("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=kf.getListenId_(e,s),a={};this.listens_[o]=a;const l=MC(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,s),Oo(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const s=kf.getListenId_(e,n);delete this.listens_[s]}get(e){const n=MC(e._queryParams),s=e._path.toString(),i=new bl;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=_u(a.responseText)}catch{En("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&En("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(){return{value:null,children:new Map}}function HM(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Ae(e);t.children.has(s)||t.children.set(s,Tf());const i=t.children.get(s);e=ct(e),HM(i,e,n)}}function sv(t,e,n){t.value!==null?n(e,t.value):XW(t,(s,i)=>{const r=new nt(e.toString()+"/"+s);sv(i,r,n)})}function XW(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&un(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=10*1e3,e6=30*1e3,t6=5*60*1e3;class n6{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new JW(e);const s=RC+(e6-RC)*Math.random();Fc(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;un(e,(i,r)=>{r>0&&Vs(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),Fc(this.reportStats_.bind(this),Math.floor(Math.random()*2*t6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ms||(Ms={}));function L0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function j0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function F0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Ms.ACK_USER_WRITE,this.source=L0()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new nt(e));return new Ef(Ye(),n,this.revert)}}else return J(Ae(this.path)===e,"operationForChild called for unrelated child."),new Ef(ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.source=e,this.path=n,this.type=Ms.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new Iu(this.source,Ye()):new Iu(this.source,ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Ms.OVERWRITE}operationForChild(e){return Oe(this.path)?new Vo(this.source,Ye(),this.snap.getImmediateChild(e)):new Vo(this.source,ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Ms.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new nt(e));return n.isEmpty()?null:n.value?new Vo(this.source,Ye(),n.value):new al(this.source,Ye(),n)}else return J(Ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new al(this.source,ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function i6(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(KW(o.childName,o.snapshotNode))}),Ql(t,i,"child_removed",e,s,n),Ql(t,i,"child_added",e,s,n),Ql(t,i,"child_moved",r,s,n),Ql(t,i,"child_changed",e,s,n),Ql(t,i,"value",e,s,n),i}function Ql(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>o6(t,a,l)),o.forEach(a=>{const l=r6(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function r6(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function o6(t,e,n){if(e.childName==null||n.childName==null)throw wl("Should only compare child_ events.");const s=new De(e.childName,e.snapshotNode),i=new De(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t,e){return{eventCache:t,serverCache:e}}function Vc(t,e,n,s){return Ep(new zr(e,n,s),t.serverCache)}function YM(t,e,n,s){return Ep(t.eventCache,new zr(e,n,s))}function If(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm;const a6=()=>(Xm||(Xm=new Bn(H$)),Xm);class rt{constructor(e,n=a6()){this.value=e,this.children=n}static fromObject(e){let n=new rt(null);return un(e,(s,i)=>{n=n.set(new nt(s),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ye(),value:this.value};if(Oe(e))return null;{const s=Ae(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(ct(e),n);return r!=null?{path:Tt(new nt(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=Ae(e),s=this.children.get(n);return s!==null?s.subtree(ct(e)):new rt(null)}}set(e,n){if(Oe(e))return new rt(n,this.children);{const s=Ae(e),r=(this.children.get(s)||new rt(null)).set(ct(e),n),o=this.children.insert(s,r);return new rt(this.value,o)}}remove(e){if(Oe(e))return this.children.isEmpty()?new rt(null):new rt(null,this.children);{const n=Ae(e),s=this.children.get(n);if(s){const i=s.remove(ct(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new rt(null):new rt(this.value,r)}else return this}}get(e){if(Oe(e))return this.value;{const n=Ae(e),s=this.children.get(n);return s?s.get(ct(e)):null}}setTree(e,n){if(Oe(e))return n;{const s=Ae(e),r=(this.children.get(s)||new rt(null)).setTree(ct(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new rt(this.value,o)}}fold(e){return this.fold_(Ye(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(Tt(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ye(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(Oe(e))return null;{const r=Ae(e),o=this.children.get(r);return o?o.findOnPath_(ct(e),Tt(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ye(),n)}foreachOnPath_(e,n,s){if(Oe(e))return this;{this.value&&s(n,this.value);const i=Ae(e),r=this.children.get(i);return r?r.foreachOnPath_(ct(e),Tt(n,i),s):new rt(null)}}foreach(e){this.foreach_(Ye(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(Tt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.writeTree_=e}static empty(){return new Os(new rt(null))}}function Bc(t,e,n){if(Oe(e))return new Os(new rt(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=kn(i,e);return r=r.updateChild(o,n),new Os(t.writeTree_.set(i,r))}else{const i=new rt(n),r=t.writeTree_.setTree(e,i);return new Os(r)}}}function iv(t,e,n){let s=t;return un(n,(i,r)=>{s=Bc(s,Tt(e,i),r)}),s}function DC(t,e){if(Oe(e))return Os.empty();{const n=t.writeTree_.setTree(e,new rt(null));return new Os(n)}}function rv(t,e){return qo(t,e)!=null}function qo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kn(n.path,e)):null}function OC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(wt,(s,i)=>{e.push(new De(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new De(s,i.value))}),e}function Mr(t,e){if(Oe(e))return t;{const n=qo(t,e);return n!=null?new Os(new rt(n)):new Os(t.writeTree_.subtree(e))}}function ov(t){return t.writeTree_.isEmpty()}function ll(t,e){return GM(Ye(),t.writeTree_,e)}function GM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(J(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=GM(Tt(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Tt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t,e){return ZM(e,t)}function l6(t,e,n,s,i){J(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Bc(t.visibleWrites,e,n)),t.lastWriteId=s}function c6(t,e,n,s){J(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=iv(t.visibleWrites,e,n),t.lastWriteId=s}function u6(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function d6(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);J(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&h6(a,s.path)?i=!1:fs(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return f6(t),!0;if(s.snap)t.visibleWrites=DC(t.visibleWrites,s.path);else{const a=s.children;un(a,l=>{t.visibleWrites=DC(t.visibleWrites,Tt(s.path,l))})}return!0}else return!1}function h6(t,e){if(t.snap)return fs(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fs(Tt(t.path,n),e))return!0;return!1}function f6(t){t.visibleWrites=KM(t.allWrites,p6,Ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function p6(t){return t.visible}function KM(t,e,n){let s=Os.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)fs(n,o)?(a=kn(n,o),s=Bc(s,a,r.snap)):fs(o,n)&&(a=kn(o,n),s=Bc(s,Ye(),r.snap.getChild(a)));else if(r.children){if(fs(n,o))a=kn(n,o),s=iv(s,a,r.children);else if(fs(o,n))if(a=kn(o,n),Oe(a))s=iv(s,Ye(),r.children);else{const l=Oo(r.children,Ae(a));if(l){const c=l.getChild(ct(a));s=Bc(s,Ye(),c)}}}else throw wl("WriteRecord should have .snap or .children")}}return s}function qM(t,e,n,s,i){if(!s&&!i){const r=qo(t.visibleWrites,e);if(r!=null)return r;{const o=Mr(t.visibleWrites,e);if(ov(o))return n;if(n==null&&!rv(o,Ye()))return null;{const a=n||me.EMPTY_NODE;return ll(o,a)}}}else{const r=Mr(t.visibleWrites,e);if(!i&&ov(r))return n;if(!i&&n==null&&!rv(r,Ye()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(fs(c.path,e)||fs(e,c.path))},a=KM(t.allWrites,o,e),l=n||me.EMPTY_NODE;return ll(a,l)}}}function m6(t,e,n){let s=me.EMPTY_NODE;const i=qo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(wt,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=Mr(t.visibleWrites,e);return n.forEachChild(wt,(o,a)=>{const l=ll(Mr(r,new nt(o)),a);s=s.updateImmediateChild(o,l)}),OC(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=Mr(t.visibleWrites,e);return OC(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function g6(t,e,n,s,i){J(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=Tt(e,n);if(rv(t.visibleWrites,r))return null;{const o=Mr(t.visibleWrites,r);return ov(o)?i.getChild(n):ll(o,i.getChild(n))}}function y6(t,e,n,s){const i=Tt(e,n),r=qo(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=Mr(t.visibleWrites,i);return ll(o,s.getNode().getImmediateChild(n))}else return null}function v6(t,e){return qo(t.visibleWrites,e)}function _6(t,e,n,s,i,r,o){let a;const l=Mr(t.visibleWrites,e),c=qo(l,Ye());if(c!=null)a=c;else if(n!=null)a=ll(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let f=h.getNext();for(;f&&u.length<i;)d(f,s)!==0&&u.push(f),f=h.getNext();return u}else return[]}function x6(){return{visibleWrites:Os.empty(),allWrites:[],lastWriteId:-1}}function Pf(t,e,n,s){return qM(t.writeTree,t.treePath,e,n,s)}function V0(t,e){return m6(t.writeTree,t.treePath,e)}function LC(t,e,n,s){return g6(t.writeTree,t.treePath,e,n,s)}function Nf(t,e){return v6(t.writeTree,Tt(t.treePath,e))}function w6(t,e,n,s,i,r){return _6(t.writeTree,t.treePath,e,n,s,i,r)}function B0(t,e,n){return y6(t.writeTree,t.treePath,e,n)}function QM(t,e){return ZM(Tt(t.treePath,e),t.writeTree)}function ZM(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;J(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),J(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,Tu(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,ku(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,ol(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,Tu(s,e.snapshotNode,i.oldSnap));else throw wl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const XM=new S6;class z0{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new zr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return B0(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bo(this.viewCache_),r=w6(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){return{filter:t}}function k6(t,e){J(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function T6(t,e,n,s,i){const r=new b6;let o,a;if(n.type===Ms.OVERWRITE){const c=n;c.source.fromUser?o=av(t,e,c.path,c.snap,s,i,r):(J(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Oe(c.path),o=Mf(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===Ms.MERGE){const c=n;c.source.fromUser?o=I6(t,e,c.path,c.children,s,i,r):(J(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=lv(t,e,c.path,c.children,s,i,a,r))}else if(n.type===Ms.ACK_USER_WRITE){const c=n;c.revert?o=M6(t,e,c.path,s,i,r):o=P6(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===Ms.LISTEN_COMPLETE)o=N6(t,e,n.path,s,r);else throw wl("Unknown operation type: "+n.type);const l=r.getChanges();return E6(e,o,l),{viewCache:o,changes:l}}function E6(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=If(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(WM(If(e)))}}function JM(t,e,n,s,i,r){const o=e.eventCache;if(Nf(s,n)!=null)return e;{let a,l;if(Oe(n))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Bo(e),u=c instanceof me?c:me.EMPTY_NODE,d=V0(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Pf(s,Bo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=Ae(n);if(c===".priority"){J(Br(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=LC(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=ct(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=LC(s,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=B0(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,r):a=o.getNode()}}return Vc(e,a,o.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function Mf(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Oe(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Ae(n);if(!l.isCompleteForPath(n)&&Br(n)>1)return e;const m=ct(n),_=l.getNode().getImmediateChild(f).updateChild(m,s);f===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),f,_,m,XM,null)}const d=YM(e,c,l.isFullyInitialized()||Oe(n),u.filtersNodes()),h=new z0(i,d,r);return JM(t,d,n,i,h,a)}function av(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new z0(i,e,r);if(Oe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Vc(e,c,!0,t.filter.filtersNodes());else{const d=Ae(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Vc(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ct(n),f=a.getNode().getImmediateChild(d);let m;if(Oe(h))m=s;else{const g=u.getCompleteChild(d);g!=null?N0(h)===".priority"&&g.getChild(jM(h)).isEmpty()?m=g:m=g.updateChild(h,s):m=me.EMPTY_NODE}if(f.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),d,m,h,u,o);l=Vc(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function jC(t,e){return t.eventCache.isCompleteForChild(e)}function I6(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=Tt(n,l);jC(e,Ae(u))&&(a=av(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=Tt(n,l);jC(e,Ae(u))||(a=av(t,a,u,c,i,r,o))}),a}function FC(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function lv(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Oe(n)?c=s:c=new rt(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),m=FC(t,f,h);l=Mf(t,l,new nt(d),m,i,r,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const m=e.serverCache.getNode().getImmediateChild(d),g=FC(t,m,h);l=Mf(t,l,new nt(d),g,i,r,o,a)}}),l}function P6(t,e,n,s,i,r,o){if(Nf(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(Oe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Mf(t,e,n,l.getNode().getChild(n),i,r,a,o);if(Oe(n)){let c=new rt(null);return l.getNode().forEachChild(Fa,(u,d)=>{c=c.set(new nt(u),d)}),lv(t,e,n,c,i,r,a,o)}else return e}else{let c=new rt(null);return s.foreach((u,d)=>{const h=Tt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),lv(t,e,n,c,i,r,a,o)}}function N6(t,e,n,s,i){const r=e.serverCache,o=YM(e,r.getNode(),r.isFullyInitialized()||Oe(n),r.isFiltered());return JM(t,o,n,s,XM,i)}function M6(t,e,n,s,i,r){let o;if(Nf(s,n)!=null)return e;{const a=new z0(s,e,i),l=e.eventCache.getNode();let c;if(Oe(n)||Ae(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Pf(s,Bo(e));else{const d=e.serverCache.getNode();J(d instanceof me,"serverChildren would be complete if leaf node"),u=V0(s,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=Ae(n);let d=B0(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ct(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,me.EMPTY_NODE,ct(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Pf(s,Bo(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Nf(s,Ye())!=null,Vc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new D0(s.getIndex()),r=QW(s);this.processor_=C6(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(me.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(me.EMPTY_NODE,a.getNode(),null),u=new zr(l,o.isFullyInitialized(),i.filtersNodes()),d=new zr(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Ep(d,u),this.eventGenerator_=new s6(this.query_)}get query(){return this.query_}}function R6(t){return t.viewCache_.serverCache.getNode()}function D6(t){return If(t.viewCache_)}function O6(t,e){const n=Bo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(Ae(e)).isEmpty())?n.getChild(e):null}function VC(t){return t.eventRegistrations_.length===0}function L6(t,e){t.eventRegistrations_.push(e)}function BC(t,e,n){const s=[];if(n){J(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function zC(t,e,n,s){e.type===Ms.MERGE&&e.source.queryId!==null&&(J(Bo(t.viewCache_),"We should always have a full cache before handling merges"),J(If(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=T6(t.processor_,i,e,n,s);return k6(t.processor_,r.viewCache),J(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,eA(t,r.changes,r.viewCache.eventCache.getNode(),null)}function j6(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(wt,(r,o)=>{s.push(ol(r,o))}),n.isFullyInitialized()&&s.push(WM(n.getNode())),eA(t,s,n.getNode(),e)}function eA(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return i6(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;class tA{constructor(){this.views=new Map}}function F6(t){J(!Af,"__referenceConstructor has already been defined"),Af=t}function V6(){return J(Af,"Reference.ts has not been loaded"),Af}function B6(t){return t.views.size===0}function U0(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return J(r!=null,"SyncTree gave us an op for an invalid query."),zC(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(zC(o,e,n,s));return r}}function nA(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Pf(n,i?s:null),l=!1;a?l=!0:s instanceof me?(a=V0(n,s),l=!1):(a=me.EMPTY_NODE,l=!1);const c=Ep(new zr(a,l,!1),new zr(s,i,!1));return new A6(e,c)}return o}function z6(t,e,n,s,i,r){const o=nA(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),L6(o,n),j6(o,n)}function U6(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=Ur(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(BC(c,n,s)),VC(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(BC(l,n,s)),VC(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!Ur(t)&&r.push(new(V6())(e._repo,e._path)),{removed:r,events:o}}function sA(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ar(t,e){let n=null;for(const s of t.views.values())n=n||O6(s,e);return n}function iA(t,e){if(e._queryParams.loadsAllData())return Pp(t);{const s=e._queryIdentifier;return t.views.get(s)}}function rA(t,e){return iA(t,e)!=null}function Ur(t){return Pp(t)!=null}function Pp(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf;function $6(t){J(!Rf,"__referenceConstructor has already been defined"),Rf=t}function W6(){return J(Rf,"Reference.ts has not been loaded"),Rf}let H6=1;class UC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rt(null),this.pendingWriteTree_=x6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $0(t,e,n,s,i){return l6(t.pendingWriteTree_,e,n,s,i),i?Il(t,new Vo(L0(),e,n)):[]}function Y6(t,e,n,s){c6(t.pendingWriteTree_,e,n,s);const i=rt.fromObject(n);return Il(t,new al(L0(),e,i))}function dr(t,e,n=!1){const s=u6(t.pendingWriteTree_,e);if(d6(t.pendingWriteTree_,e)){let r=new rt(null);return s.snap!=null?r=r.set(Ye(),!0):un(s.children,o=>{r=r.set(new nt(o),!0)}),Il(t,new Ef(s.path,r,n))}else return[]}function sd(t,e,n){return Il(t,new Vo(j0(),e,n))}function G6(t,e,n){const s=rt.fromObject(n);return Il(t,new al(j0(),e,s))}function K6(t,e){return Il(t,new Iu(j0(),e))}function q6(t,e,n){const s=W0(t,n);if(s){const i=H0(s),r=i.path,o=i.queryId,a=kn(r,e),l=new Iu(F0(o),a);return Y0(t,r,l)}else return[]}function Df(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||rA(o,e))){const l=U6(o,e,n,s);B6(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(h,f)=>Ur(f));if(u&&!d){const h=t.syncPointTree_.subtree(r);if(!h.isEmpty()){const f=X6(h);for(let m=0;m<f.length;++m){const g=f[m],_=g.query,v=cA(t,g);t.listenProvider_.startListening(zc(_),Pu(t,_),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(zc(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(Mp(h));t.listenProvider_.stopListening(zc(h),f)}))}J6(t,c)}return a}function oA(t,e,n,s){const i=W0(t,s);if(i!=null){const r=H0(i),o=r.path,a=r.queryId,l=kn(o,e),c=new Vo(F0(a),l,n);return Y0(t,o,c)}else return[]}function Q6(t,e,n,s){const i=W0(t,s);if(i){const r=H0(i),o=r.path,a=r.queryId,l=kn(o,e),c=rt.fromObject(n),u=new al(F0(a),l,c);return Y0(t,o,u)}else return[]}function cv(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const m=kn(h,i);r=r||Ar(f,m),o=o||Ur(f)});let a=t.syncPointTree_.get(i);a?(o=o||Ur(a),r=r||Ar(a,Ye())):(a=new tA,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=me.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,m)=>{const g=Ar(m,Ye());g&&(r=r.updateImmediateChild(f,g))}));const c=rA(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Mp(e);J(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=eH();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=Ip(t.pendingWriteTree_,i);let d=z6(a,e,n,u,r,l);if(!c&&!o&&!s){const h=iA(a,e);d=d.concat(tH(t,e,h))}return d}function Np(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=kn(o,e),c=Ar(a,l);if(c)return c});return qM(i,e,r,n,!0)}function Z6(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=kn(c,n);s=s||Ar(u,d)});let i=t.syncPointTree_.get(n);i?s=s||Ar(i,Ye()):(i=new tA,t.syncPointTree_=t.syncPointTree_.set(n,i));const r=s!=null,o=r?new zr(s,!0,!1):null,a=Ip(t.pendingWriteTree_,e._path),l=nA(i,e,a,r?o.getNode():me.EMPTY_NODE,r);return D6(l)}function Il(t,e){return aA(e,t.syncPointTree_,null,Ip(t.pendingWriteTree_,Ye()))}function aA(t,e,n,s){if(Oe(t.path))return lA(t,e,n,s);{const i=e.get(Ye());n==null&&i!=null&&(n=Ar(i,Ye()));let r=[];const o=Ae(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=QM(s,o);r=r.concat(aA(a,l,c,u))}return i&&(r=r.concat(U0(i,t,s,n))),r}}function lA(t,e,n,s){const i=e.get(Ye());n==null&&i!=null&&(n=Ar(i,Ye()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=QM(s,o),u=t.operationForChild(o);u&&(r=r.concat(lA(u,a,l,c)))}),i&&(r=r.concat(U0(i,t,s,n))),r}function cA(t,e){const n=e.query,s=Pu(t,n);return{hashFn:()=>(R6(e)||me.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?q6(t,n._path,s):K6(t,n._path);{const r=K$(i,n);return Df(t,n,null,r)}}}}function Pu(t,e){const n=Mp(e);return t.queryToTagMap.get(n)}function Mp(t){return t._path.toString()+"$"+t._queryIdentifier}function W0(t,e){return t.tagToQueryMap.get(e)}function H0(t){const e=t.indexOf("$");return J(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new nt(t.substr(0,e))}}function Y0(t,e,n){const s=t.syncPointTree_.get(e);J(s,"Missing sync point for query tag that we're tracking");const i=Ip(t.pendingWriteTree_,e);return U0(s,n,i,null)}function X6(t){return t.fold((e,n,s)=>{if(n&&Ur(n))return[Pp(n)];{let i=[];return n&&(i=sA(n)),un(s,(r,o)=>{i=i.concat(o)}),i}})}function zc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(W6())(t._repo,t._path):t}function J6(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Mp(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function eH(){return H6++}function tH(t,e,n){const s=e._path,i=Pu(t,e),r=cA(t,n),o=t.listenProvider_.startListening(zc(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)J(!Ur(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Oe(c)&&u&&Ur(u))return[Pp(u).query];{let h=[];return u&&(h=h.concat(sA(u).map(f=>f.query))),un(d,(f,m)=>{h=h.concat(m)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(zc(u),Pu(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new G0(n)}node(){return this.node_}}class K0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Tt(this.path_,e);return new K0(this.syncTree_,n)}node(){return Np(this.syncTree_,this.path_)}}const nH=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$C=function(t,e,n){if(!t||typeof t!="object")return t;if(J(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return sH(t[".sv"],e,n);if(typeof t[".sv"]=="object")return iH(t[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},sH=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:J(!1,"Unexpected server value: "+t)}},iH=function(t,e,n){t.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&J(!1,"Unexpected increment value: "+s);const i=e.node();if(J(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},uA=function(t,e,n,s){return Q0(e,new K0(n,t),s)},q0=function(t,e,n){return Q0(t,new G0(e),n)};function Q0(t,e,n){const s=t.getPriority().val(),i=$C(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=$C(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Kt(a,jt(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Kt(i))),o.forEachChild(wt,(a,l)=>{const c=Q0(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Ap(t,e){let n=e instanceof nt?e:new nt(e),s=t,i=Ae(n);for(;i!==null;){const r=Oo(s.node.children,i)||{children:{},childCount:0};s=new Z0(i,s,r),n=ct(n),i=Ae(n)}return s}function Qo(t){return t.node.value}function X0(t,e){t.node.value=e,uv(t)}function dA(t){return t.node.childCount>0}function rH(t){return Qo(t)===void 0&&!dA(t)}function Rp(t,e){un(t.node.children,(n,s)=>{e(new Z0(n,t,s))})}function hA(t,e,n,s){n&&e(t),Rp(t,i=>{hA(i,e,!0)})}function oH(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function id(t){return new nt(t.parent===null?t.name:id(t.parent)+"/"+t.name)}function uv(t){t.parent!==null&&aH(t.parent,t.name,t)}function aH(t,e,n){const s=rH(n),i=Vs(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,uv(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,uv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=/[\[\].#$\/\u0000-\u001F\u007F]/,cH=/[\[\].#$\u0000-\u001F\u007F]/,Jm=10*1024*1024,J0=function(t){return typeof t=="string"&&t.length!==0&&!lH.test(t)},fA=function(t){return typeof t=="string"&&t.length!==0&&!cH.test(t)},uH=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fA(t)},pA=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!k0(t)||t&&typeof t=="object"&&Vs(t,".sv")},mA=function(t,e,n,s){s&&e===void 0||rd(xp(t,"value"),e,n)},rd=function(t,e,n){const s=n instanceof nt?new IW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+lo(s));if(typeof e=="function")throw new Error(t+"contains a function "+lo(s)+" with contents = "+e.toString());if(k0(e))throw new Error(t+"contains "+e.toString()+" "+lo(s));if(typeof e=="string"&&e.length>Jm/3&&wp(e)>Jm)throw new Error(t+"contains a string greater than "+Jm+" utf8 bytes "+lo(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(un(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!J0(o)))throw new Error(t+" contains an invalid key ("+o+") "+lo(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PW(s,o),rd(t,a,s),NW(s)}),i&&r)throw new Error(t+' contains ".value" child '+lo(s)+" in addition to actual children.")}},dH=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=Cu(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!J0(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(EW);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&fs(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},hH=function(t,e,n,s){const i=xp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];un(e,(o,a)=>{const l=new nt(o);if(rd(i,a,Tt(n,l)),N0(l)===".priority"&&!pA(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),dH(i,r)},gA=function(t,e,n,s){if(!fA(n))throw new Error(xp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fH=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gA(t,e,n)},ex=function(t,e){if(Ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},pH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!J0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uH(n))throw new Error(xp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dp(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!M0(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function yA(t,e,n){Dp(t,n),vA(t,s=>M0(s,e))}function es(t,e,n){Dp(t,n),vA(t,s=>fs(s,e)||fs(e,s))}function vA(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(gH(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gH(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();jc&&on("event: "+n.toString()),El(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH="repo_interrupt",vH=25;class _H{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tf(),this.transactionQueueTree_=new Z0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xH(t,e,n){if(t.stats_=I0(t.repoInfo_),t.forceRestClient_||X$())t.server_=new kf(t.repoInfo_,(s,i,r,o)=>{WC(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>HC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Wt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Ni(t.repoInfo_,e,(s,i,r,o)=>{WC(t,s,i,r,o)},s=>{HC(t,s)},s=>{wH(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=sW(t.repoInfo_,()=>new n6(t.stats_,t.server_)),t.infoData_=new ZW,t.infoSyncTree_=new UC({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=sd(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),tx(t,"connected",!1),t.serverSyncTree_=new UC({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);es(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function _A(t){const n=t.infoData_.getNode(new nt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function od(t){return nH({timestamp:_A(t)})}function WC(t,e,n,s,i){t.dataUpdateCount++;const r=new nt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=pf(n,c=>jt(c));o=Q6(t.serverSyncTree_,r,l,i)}else{const l=jt(n);o=oA(t.serverSyncTree_,r,l,i)}else if(s){const l=pf(n,c=>jt(c));o=G6(t.serverSyncTree_,r,l)}else{const l=jt(n);o=sd(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=cl(t,r)),es(t.eventQueue_,a,o)}function HC(t,e){tx(t,"connected",e),e===!1&&kH(t)}function wH(t,e){un(e,(n,s)=>{tx(t,n,s)})}function tx(t,e,n){const s=new nt("/.info/"+e),i=jt(n);t.infoData_.updateSnapshot(s,i);const r=sd(t.infoSyncTree_,s,i);es(t.eventQueue_,s,r)}function Op(t){return t.nextWriteId_++}function bH(t,e,n){const s=Z6(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const r=jt(i).withIndex(e._queryParams.getIndex());cv(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=sd(t.serverSyncTree_,e._path,r);else{const a=Pu(t.serverSyncTree_,e);o=oA(t.serverSyncTree_,e._path,r,a)}return es(t.eventQueue_,e._path,o),Df(t.serverSyncTree_,e,n,null,!0),r},i=>(Pl(t,"get for query "+Wt(e)+" failed: "+i),Promise.reject(new Error(i))))}function SH(t,e,n,s,i){Pl(t,"set",{path:e.toString(),value:n,priority:s});const r=od(t),o=jt(n,s),a=Np(t.serverSyncTree_,e),l=q0(o,a,r),c=Op(t),u=$0(t.serverSyncTree_,e,l,c,!0);Dp(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const m=h==="ok";m||En("set at "+e+" failed: "+h);const g=dr(t.serverSyncTree_,c,!m);es(t.eventQueue_,e,g),dv(t,i,h,f)});const d=sx(t,e);cl(t,d),es(t.eventQueue_,d,[])}function CH(t,e,n,s){Pl(t,"update",{path:e.toString(),value:n});let i=!0;const r=od(t),o={};if(un(n,(a,l)=>{i=!1,o[a]=uA(Tt(e,a),jt(l),t.serverSyncTree_,r)}),i)on("update() called with empty data.  Don't do anything."),dv(t,s,"ok",void 0);else{const a=Op(t),l=Y6(t.serverSyncTree_,e,o,a);Dp(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||En("update at "+e+" failed: "+c);const h=dr(t.serverSyncTree_,a,!d),f=h.length>0?cl(t,e):e;es(t.eventQueue_,f,h),dv(t,s,c,u)}),un(n,c=>{const u=sx(t,Tt(e,c));cl(t,u)}),es(t.eventQueue_,e,[])}}function kH(t){Pl(t,"onDisconnectEvents");const e=od(t),n=Tf();sv(t.onDisconnect_,Ye(),(i,r)=>{const o=uA(i,r,t.serverSyncTree_,e);HM(n,i,o)});let s=[];sv(n,Ye(),(i,r)=>{s=s.concat(sd(t.serverSyncTree_,i,r));const o=sx(t,i);cl(t,o)}),t.onDisconnect_=Tf(),es(t.eventQueue_,Ye(),s)}function TH(t,e,n){let s;Ae(e._path)===".info"?s=cv(t.infoSyncTree_,e,n):s=cv(t.serverSyncTree_,e,n),yA(t.eventQueue_,e._path,s)}function EH(t,e,n){let s;Ae(e._path)===".info"?s=Df(t.infoSyncTree_,e,n):s=Df(t.serverSyncTree_,e,n),yA(t.eventQueue_,e._path,s)}function IH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(yH)}function Pl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),on(n,...e)}function dv(t,e,n,s){e&&El(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function PH(t,e,n,s,i,r){Pl(t,"transaction on "+e);const o={path:e,update:n,onComplete:s,status:null,order:mM(),applyLocally:r,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=nx(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{rd("transaction failed: Data returned ",l,o.path),o.status=0;const c=Ap(t.transactionQueueTree_,e),u=Qo(c)||[];u.push(o),X0(c,u);let d;typeof l=="object"&&l!==null&&Vs(l,".priority")?(d=Oo(l,".priority"),J(pA(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Np(t.serverSyncTree_,e)||me.EMPTY_NODE).getPriority().val();const h=od(t),f=jt(l,d),m=q0(f,a,h);o.currentOutputSnapshotRaw=f,o.currentOutputSnapshotResolved=m,o.currentWriteId=Op(t);const g=$0(t.serverSyncTree_,e,m,o.currentWriteId,o.applyLocally);es(t.eventQueue_,e,g),Lp(t,t.transactionQueueTree_)}}function nx(t,e,n){return Np(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function Lp(t,e=t.transactionQueueTree_){if(e||jp(t,e),Qo(e)){const n=wA(t,e);J(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&NH(t,id(e),n)}else dA(e)&&Rp(e,n=>{Lp(t,n)})}function NH(t,e,n){const s=n.map(c=>c.currentWriteId),i=nx(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];J(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=kn(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Pl(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(dr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();jp(t,Ap(t.transactionQueueTree_,e)),Lp(t,t.transactionQueueTree_),es(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)El(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{En("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}cl(t,e)}},o)}function cl(t,e){const n=xA(t,e),s=id(n),i=wA(t,n);return MH(t,i,s),s}function MH(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=kn(n,l.path);let u=!1,d;if(J(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(dr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=vH)u=!0,d="maxretry",i=i.concat(dr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=nx(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){rd("transaction failed: Data returned ",f,l.path);let m=jt(f);typeof f=="object"&&f!=null&&Vs(f,".priority")||(m=m.updatePriority(h.getPriority()));const _=l.currentWriteId,v=od(t),y=q0(m,h,v);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=y,l.currentWriteId=Op(t),o.splice(o.indexOf(_),1),i=i.concat($0(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(dr(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(dr(t.serverSyncTree_,l.currentWriteId,!0))}es(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}jp(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)El(s[a]);Lp(t,t.transactionQueueTree_)}function xA(t,e){let n,s=t.transactionQueueTree_;for(n=Ae(e);n!==null&&Qo(s)===void 0;)s=Ap(s,n),e=ct(e),n=Ae(e);return s}function wA(t,e){const n=[];return bA(t,e,n),n.sort((s,i)=>s.order-i.order),n}function bA(t,e,n){const s=Qo(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Rp(e,i=>{bA(t,i,n)})}function jp(t,e){const n=Qo(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,X0(e,n.length>0?n:void 0)}Rp(e,s=>{jp(t,s)})}function sx(t,e){const n=id(xA(t,e)),s=Ap(t.transactionQueueTree_,e);return oH(s,i=>{eg(t,i)}),eg(t,s),hA(s,i=>{eg(t,i)}),n}function eg(t,e){const n=Qo(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(J(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(J(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?X0(e,void 0):n.length=r+1,es(t.eventQueue_,id(e),i);for(let o=0;o<s.length;o++)El(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function RH(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):En(`Invalid query segment '${n}' in query '${t}'`)}return e}const YC=function(t,e){const n=DH(t),s=n.namespace;n.domain==="firebase.com"&&Bi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Bi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||$$();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new IM(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new nt(n.pathString)}},DH=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=AH(t.substring(u,d)));const h=RH(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const m=e.indexOf(".");s=e.substring(0,m).toLowerCase(),n=e.substring(m+1),r=s}"ns"in h&&(r=h.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",OH=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let i;const r=new Array(8);for(i=7;i>=0;i--)r[i]=GC.charAt(n%64),n=Math.floor(n/64);J(n===0,"Cannot push at time == 0");let o=r.join("");if(s){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=GC.charAt(e[i]);return J(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Wt(this.snapshot.exportVal())}}class jH{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return Oe(this._path)?null:N0(this._path)}get ref(){return new ci(this._repo,this._path)}get _queryIdentifier(){const e=AC(this._queryParams),n=T0(e);return n==="{}"?"default":n}get _queryObject(){return AC(this._queryParams)}isEqual(e){if(e=hn(e),!(e instanceof ix))return!1;const n=this._repo===e._repo,s=M0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+TW(this._path)}}class ci extends ix{constructor(e,n){super(e,n,new O0,!1)}get parent(){const e=jM(this._path);return e===null?null:new ci(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ul{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new nt(e),s=ts(this.ref,e);return new ul(this._node.getChild(n),s,wt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new ul(i,ts(this.ref,s),wt)))}hasChild(e){const n=new nt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xt(t,e){return t=hn(t),t._checkNotDeleted("ref"),e!==void 0?ts(t._root,e):t._root}function ts(t,e){return t=hn(t),Ae(t._path)===null?fH("child","path",e):gA("child","path",e),new ci(t._repo,Tt(t._path,e))}function FH(t,e){t=hn(t),ex("push",t._path),mA("push",e,t._path,!0);const n=_A(t._repo),s=OH(n),i=ts(t,s),r=ts(t,s);let o;return o=Promise.resolve(r),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Fp(t,e){t=hn(t),ex("set",t._path),mA("set",e,t._path,!1);const n=new bl;return SH(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function rx(t,e){hH("update",e,t._path);const n=new bl;return CH(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function li(t){t=hn(t);const e=new SA(()=>{}),n=new Vp(e);return bH(t._repo,t,n).then(s=>new ul(s,new ci(t._repo,t._path),t._queryParams.getIndex()))}class Vp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new LH("value",this,new ul(e.snapshotNode,new ci(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jH(this,e,n):null}matches(e){return e instanceof Vp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function VH(t,e,n,s,i){const r=new SA(n,void 0),o=new Vp(r);return TH(t._repo,t,o),()=>EH(t._repo,t,o)}function BH(t,e,n,s){return VH(t,"value",e)}F6(ci);$6(ci);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH="FIREBASE_DATABASE_EMULATOR_HOST",hv={};let UH=!1;function $H(t,e,n,s){t.repoInfo_=new IM(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function WH(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||Bi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=YC(r,i),a=o.repoInfo,l;typeof process<"u"&&pC&&(l=pC[zH]),l?(r=`http://${l}?ns=${a.namespace}`,o=YC(r,i),a=o.repoInfo):o.repoInfo.secure;const c=new eW(t.name,t.options,e);pH("Invalid Firebase Database URL",o),Oe(o.path)||Bi("Database URL must point to the root of a Firebase Database (not including a child path).");const u=YH(a,t,c,new J$(t.name,n));return new GH(u,t)}function HH(t,e){const n=hv[e];(!n||n[t.key]!==t)&&Bi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),IH(t),delete n[t.key]}function YH(t,e,n,s){let i=hv[e.name];i||(i={},hv[e.name]=i);let r=i[t.toURLString()];return r&&Bi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new _H(t,UH,n,s),i[t.toURLString()]=r,r}class GH{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xH(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ci(this._repo,Ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Bi("Cannot call "+e+" on a deleted database.")}}function KH(t=MN(),e){const n=m0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=JU("database");s&&qH(n,...s)}return n}function qH(t,e,n,s={}){t=hn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Bi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&Bi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new yh(yh.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:e5(s.mockUserToken,t.app.options.projectId);r=new yh(o)}$H(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(t){F$(Cl),sl(new Lo("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return WH(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Pr(mC,gC,t),Pr(mC,gC,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH={".sv":"timestamp"};function XH(){return ZH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function CA(t,e,n){var s;if(t=hn(t),ex("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(s=n==null?void 0:n.applyLocally)!==null&&s!==void 0?s:!0,r=new bl,o=(l,c,u)=>{let d=null;l?r.reject(l):(d=new ul(u,new ci(t._repo,t._path),wt),r.resolve(new JH(c,d)))},a=BH(t,()=>{});return PH(t._repo,t._path,e,o,a,i),r.promise}Ni.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ni.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};QH();const e8={apiKey:"AIzaSyAxWdQh_4iYdw6H33fS3yeZVbAqGXo9u28",authDomain:"painel-vendedoras.firebaseapp.com",databaseURL:"https://painel-vendedoras-default-rtdb.firebaseio.com",projectId:"painel-vendedoras",storageBucket:"painel-vendedoras.appspot.com",messagingSenderId:"623320318143",appId:"1:623320318143:web:2f6e9358c55daf123dc60a"},kA=NN(e8),tg=D$(kA),Jt=KH(kA),TA="config";async function EA(){const t=await li(Xt(Jt,TA));if(!t.exists())throw new Error("Configurao no encontrada.");return t.val()}async function t8(t){await Fp(Xt(Jt,TA),t)}async function IA(t){const e=await li(ts(Xt(Jt),`users/${t}`));return e.exists()?e.val():null}const PA=w.createContext(void 0);function n8({children:t}){const[e,n]=w.useState(null),[s,i]=w.useState(null),[r,o]=w.useState("loading");w.useEffect(()=>{const u=b3(tg,async d=>{if(n(d),d){const h=await IA(d.uid);h?(i({uid:d.uid,name:h.name,role:h.role,email:d.email??void 0}),o("authenticated")):(i(null),o("unauthenticated"))}else i(null),o("unauthenticated")});return()=>u()},[]);async function a(u,d){await _3(tg,u,d)}async function l(){await S3(tg)}const c=w.useMemo(()=>({status:r,firebaseUser:e,user:s,login:a,logout:l}),[r,e,s]);return p.jsx(PA.Provider,{value:c,children:t})}function Bp(){const t=w.useContext(PA);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function NA(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NA(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function MA(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NA(t))&&(s&&(s+=" "),s+=e);return s}const ox="-",s8=t=>{const e=r8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const a=o.split(ox);return a[0]===""&&a.length!==1&&a.shift(),AA(a,e)||i8(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&s[o]?[...l,...s[o]]:l}}},AA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?AA(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(ox);return(o=e.validators.find(({validator:a})=>a(r)))==null?void 0:o.classGroupId},KC=/^\[(.+)\]$/,i8=t=>{if(KC.test(t)){const e=KC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},r8=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return a8(Object.entries(t.classGroups),n).forEach(([r,o])=>{fv(o,s,r,e)}),s},fv=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:qC(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(o8(i)){fv(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,o])=>{fv(o,qC(e,r),n,s)})})},qC=(t,e)=>{let n=t;return e.split(ox).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},o8=t=>t.isThemeGetter,a8=(t,e)=>e?t.map(([n,s])=>{const i=s.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([o,a])=>[e+o,a])):r);return[n,i]}):t,l8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(r,o)=>{n.set(r,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(r){let o=n.get(r);if(o!==void 0)return o;if((o=s.get(r))!==void 0)return i(r,o),o},set(r,o){n.has(r)?n.set(r,o):i(r,o)}}},RA="!",c8=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,i=e[0],r=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let _=0;_<a.length;_++){let v=a[_];if(c===0){if(v===i&&(s||a.slice(_,_+r)===e)){l.push(a.slice(u,_)),u=_+r;continue}if(v==="/"){d=_;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(RA),m=f?h.substring(1):h,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},u8=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},d8=t=>({cache:l8(t.cacheSize),parseClassName:c8(t),...s8(t)}),h8=/\s+/,f8=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=e,r=[],o=t.trim().split(h8);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let m=!!f,g=s(m?h.substring(0,f):h);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=s(h),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}const _=u8(u).join(":"),v=d?_+RA:_,y=v+g;if(r.includes(y))continue;r.push(y);const x=i(g,m);for(let b=0;b<x.length;++b){const S=x[b];r.push(v+S)}a=c+(a.length>0?" "+a:a)}return a};function p8(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=DA(e))&&(s&&(s+=" "),s+=n);return s}const DA=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=DA(t[s]))&&(n&&(n+=" "),n+=e);return n};function m8(t,...e){let n,s,i,r=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=d8(c),s=n.cache.get,i=n.cache.set,r=a,a(l)}function a(l){const c=s(l);if(c)return c;const u=f8(l,n);return i(l,u),u}return function(){return r(p8.apply(null,arguments))}}const dt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},OA=/^\[(?:([a-z-]+):)?(.+)\]$/i,g8=/^\d+\/\d+$/,y8=new Set(["px","full","screen"]),v8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,w8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,b8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hi=t=>Va(t)||y8.has(t)||g8.test(t),Gi=t=>Nl(t,"length",N8),Va=t=>!!t&&!Number.isNaN(Number(t)),ng=t=>Nl(t,"number",Va),Zl=t=>!!t&&Number.isInteger(Number(t)),S8=t=>t.endsWith("%")&&Va(t.slice(0,-1)),Ie=t=>OA.test(t),Ki=t=>v8.test(t),C8=new Set(["length","size","percentage"]),k8=t=>Nl(t,C8,LA),T8=t=>Nl(t,"position",LA),E8=new Set(["image","url"]),I8=t=>Nl(t,E8,A8),P8=t=>Nl(t,"",M8),Xl=()=>!0,Nl=(t,e,n)=>{const s=OA.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},N8=t=>_8.test(t)&&!x8.test(t),LA=()=>!1,M8=t=>w8.test(t),A8=t=>b8.test(t),R8=()=>{const t=dt("colors"),e=dt("spacing"),n=dt("blur"),s=dt("brightness"),i=dt("borderColor"),r=dt("borderRadius"),o=dt("borderSpacing"),a=dt("borderWidth"),l=dt("contrast"),c=dt("grayscale"),u=dt("hueRotate"),d=dt("invert"),h=dt("gap"),f=dt("gradientColorStops"),m=dt("gradientColorStopPositions"),g=dt("inset"),_=dt("margin"),v=dt("opacity"),y=dt("padding"),x=dt("saturate"),b=dt("scale"),S=dt("sepia"),T=dt("skew"),P=dt("space"),I=dt("translate"),O=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",Ie,e],L=()=>[Ie,e],ie=()=>["",hi,Gi],fe=()=>["auto",Va,Ie],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ie],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>[Va,Ie];return{cacheSize:500,separator:":",theme:{colors:[Xl],spacing:[hi,Gi],blur:["none","",Ki,Ie],brightness:C(),borderColor:[t],borderRadius:["none","","full",Ki,Ie],borderSpacing:L(),borderWidth:ie(),contrast:C(),grayscale:U(),hueRotate:C(),invert:U(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[S8,Gi],inset:Y(),margin:Y(),opacity:C(),padding:L(),saturate:C(),scale:C(),sepia:U(),skew:C(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Ki]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),Ie]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zl,Ie]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Zl,Ie]}],"grid-cols":[{"grid-cols":[Xl]}],"col-start-end":[{col:["auto",{span:["full",Zl,Ie]},Ie]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[Xl]}],"row-start-end":[{row:["auto",{span:[Zl,Ie]},Ie]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,e]}],"min-w":[{"min-w":[Ie,e,"min","max","fit"]}],"max-w":[{"max-w":[Ie,e,"none","full","min","max","fit","prose",{screen:[Ki]},Ki]}],h:[{h:[Ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ki,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ng]}],"font-family":[{font:[Xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",Va,ng]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hi,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hi,Gi]}],"underline-offset":[{"underline-offset":["auto",hi,Ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),T8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",k8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},I8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[hi,Ie]}],"outline-w":[{outline:[hi,Gi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[hi,Gi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ki,P8]}],"shadow-color":[{shadow:[Xl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ki,Ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Zl,Ie]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hi,Gi,ng]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},D8=m8(R8);function dn(...t){return D8(MA(t))}function ot({className:t,...e}){return p.jsx("div",{className:dn("relative rounded-3xl border border-white/30 bg-white/20 p-6 shadow-lg backdrop-blur-lg",t),...e})}function at({className:t,...e}){return p.jsx("div",{className:dn("mb-4 flex flex-col gap-2",t),...e})}function pt({className:t,...e}){return p.jsx("h3",{className:dn("text-lg font-semibold text-slate-900",t),...e})}function mt({className:t,...e}){return p.jsx("p",{className:dn("text-sm text-slate-500",t),...e})}function lt({className:t,...e}){return p.jsx("div",{className:dn("flex flex-col gap-3",t),...e})}const et=w.forwardRef(({className:t,...e},n)=>p.jsx("input",{ref:n,className:dn("h-10 w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400",t),...e}));et.displayName="Input";function QC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jA(...t){return e=>{let n=!1;const s=t.map(i=>{const r=QC(i,e);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():QC(t[i],null)}}}}function Of(...t){return w.useCallback(jA(...t),t)}function Lf(t){const e=L8(t),n=w.forwardRef((s,i)=>{const{children:r,...o}=s,a=w.Children.toArray(r),l=a.find(F8);if(l){const c=l.props.children,u=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...o,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,u):null})}return p.jsx(e,{...o,ref:i,children:r})});return n.displayName=`${t}.Slot`,n}var O8=Lf("Slot");function L8(t){const e=w.forwardRef((n,s)=>{const{children:i,...r}=n;if(w.isValidElement(i)){const o=B8(i),a=V8(r,i.props);return i.type!==w.Fragment&&(a.ref=s?jA(s,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var j8=Symbol("radix.slottable");function F8(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===j8}function V8(t,e){const n={...e};for(const s in e){const i=t[s],r=e[s];/^on[A-Z]/.test(s)?i&&r?n[s]=(...a)=>{const l=r(...a);return i(...a),l}:i&&(n[s]=i):s==="style"?n[s]={...i,...r}:s==="className"&&(n[s]=[i,r].filter(Boolean).join(" "))}return{...t,...n}}function B8(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ZC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,XC=MA,z8=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return XC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:r}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=r==null?void 0:r[c];if(u===null)return null;const h=ZC(u)||ZC(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(m=>{let[g,_]=m;return Array.isArray(_)?_.includes({...r,...a}[g]):{...r,...a}[g]===_})?[...c,d,h]:c},[]);return XC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},U8=z8("inline-flex items-center justify-center gap-2 rounded-full border border-white/30 bg-white/20 px-5 py-2.5 font-medium text-sm text-slate-800 shadow backdrop-blur-md transition-all duration-200 hover:bg-white/30 hover:shadow-lg active:scale-[0.98] focus:outline-none focus-visible:outline-none focus:ring-2 focus:ring-white/60 focus-visible:ring-2 focus-visible:ring-white/60 disabled:pointer-events-none disabled:opacity-60",{variants:{variant:{default:"",outline:"",ghost:"",destructive:"text-red-600"},size:{default:"",sm:"px-4 py-2 text-xs",lg:"px-6 py-3 text-base",icon:"grid place-items-center gap-0 px-0 py-0 w-9 h-9 text-slate-800 hover:shadow-md"}},defaultVariants:{variant:"default",size:"default"}}),Fe=w.forwardRef(({className:t,variant:e,size:n,asChild:s,...i},r)=>{const o=s?O8:"button";return p.jsx(o,{className:dn(U8({variant:e,size:n}),t),ref:r,...i})});Fe.displayName="Button";const $8=pp({email:Tr().email("Informe um e-mail vlido"),password:Tr().min(6,"Senha com mnimo 6 caracteres")});function W8(){const{login:t,status:e,user:n}=Bp(),s=hp(),[i,r]=w.useState(!1);w.useEffect(()=>{e==="authenticated"&&n&&s(n.role==="admin"?"/admin":"/painel",{replace:!0})},[e,n,s]);const o=Qh({resolver:sf($8),defaultValues:{email:"",password:""}}),a=async l=>{r(!0);try{await t(l.email,l.password),Ee.success("Bem-vinda de volta!"),s("/painel")}catch(c){console.error(c),Ee.error("No foi possvel entrar. Verifique as credenciais.")}finally{r(!1)}};return p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-brand-100 via-white to-brand-200 p-6",children:p.jsx(WU.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:p.jsxs(ot,{className:"shadow-xl",children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Painel dos Consultores"}),p.jsx(mt,{children:"Entre com seu e-mail corporativo para acessar seu painel personalizado."})]}),p.jsxs(lt,{children:[p.jsxs("form",{className:"flex flex-col gap-4",onSubmit:o.handleSubmit(a),children:[p.jsxs("div",{children:[p.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"E-mail"}),p.jsx(et,{type:"email",placeholder:"nome@empresa.com",...o.register("email")}),o.formState.errors.email&&p.jsx("p",{className:"mt-1 text-xs text-red-500",children:o.formState.errors.email.message})]}),p.jsxs("div",{children:[p.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Senha"}),p.jsx(et,{type:"password",placeholder:"",...o.register("password")}),o.formState.errors.password&&p.jsx("p",{className:"mt-1 text-xs text-red-500",children:o.formState.errors.password.message})]}),p.jsx(Fe,{type:"submit",disabled:i,className:"mt-2",children:i?"Entrando...":"Entrar"})]}),p.jsx("p",{className:"mt-6 text-center text-xs text-slate-500",children:"Time Ralph Couch  Fuso fixo America/Sao_Paulo  Segurana em primeiro lugar"})]})]})})})}function Bs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function zo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const FA=6048e5,H8=864e5;let Y8={};function zp(){return Y8}function dl(t,e){var a,l,c,u;const n=zp(),s=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Bs(t),r=i.getDay(),o=(r<s?7:0)+r-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function jf(t){return dl(t,{weekStartsOn:1})}function VA(t){const e=Bs(t),n=e.getFullYear(),s=zo(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=jf(s),r=zo(t,0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);const o=jf(r);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function JC(t){const e=Bs(t);return e.setHours(0,0,0,0),e}function ek(t){const e=Bs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function G8(t,e){const n=JC(t),s=JC(e),i=+n-ek(n),r=+s-ek(s);return Math.round((i-r)/H8)}function K8(t){const e=VA(t),n=zo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),jf(n)}function q8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Q8(t){if(!q8(t)&&typeof t!="number")return!1;const e=Bs(t);return!isNaN(Number(e))}function Z8(t){const e=Bs(t),n=zo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const X8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J8=(t,e,n)=>{let s;const i=X8[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function sg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const e9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s9={date:sg({formats:e9,defaultWidth:"full"}),time:sg({formats:t9,defaultWidth:"full"}),dateTime:sg({formats:n9,defaultWidth:"full"})},i9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r9=(t,e,n,s)=>i9[t];function Jl(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const r=t.argumentCallback?t.argumentCallback(e):e;return i[r]}}const o9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h9=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},f9={ordinalNumber:h9,era:Jl({values:o9,defaultWidth:"wide"}),quarter:Jl({values:a9,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jl({values:l9,defaultWidth:"wide"}),day:Jl({values:c9,defaultWidth:"wide"}),dayPeriod:Jl({values:u9,defaultWidth:"wide",formattingValues:d9,defaultFormattingWidth:"wide"})};function ec(t){return(e,n={})=>{const s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],r=e.match(i);if(!r)return null;const o=r[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?m9(a,d=>d.test(o)):p9(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function p9(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function m9(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function g9(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],r=e.match(t.parsePattern);if(!r)return null;let o=t.valueCallback?t.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const y9=/^(\d+)(th|st|nd|rd)?/i,v9=/\d+/i,_9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x9={any:[/^b/i,/^(a|c)/i]},w9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},b9={any:[/1/i,/2/i,/3/i,/4/i]},S9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},C9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},T9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},E9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},I9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},P9={ordinalNumber:g9({matchPattern:y9,parsePattern:v9,valueCallback:t=>parseInt(t,10)}),era:ec({matchPatterns:_9,defaultMatchWidth:"wide",parsePatterns:x9,defaultParseWidth:"any"}),quarter:ec({matchPatterns:w9,defaultMatchWidth:"wide",parsePatterns:b9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ec({matchPatterns:S9,defaultMatchWidth:"wide",parsePatterns:C9,defaultParseWidth:"any"}),day:ec({matchPatterns:k9,defaultMatchWidth:"wide",parsePatterns:T9,defaultParseWidth:"any"}),dayPeriod:ec({matchPatterns:E9,defaultMatchWidth:"any",parsePatterns:I9,defaultParseWidth:"any"})},N9={code:"en-US",formatDistance:J8,formatLong:s9,formatRelative:r9,localize:f9,match:P9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function M9(t){const e=Bs(t);return G8(e,Z8(e))+1}function A9(t){const e=Bs(t),n=+jf(e)-+K8(e);return Math.round(n/FA)+1}function BA(t,e){var u,d,h,f;const n=Bs(t),s=n.getFullYear(),i=zp(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(h=i.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=zo(t,0);o.setFullYear(s+1,0,r),o.setHours(0,0,0,0);const a=dl(o,e),l=zo(t,0);l.setFullYear(s,0,r),l.setHours(0,0,0,0);const c=dl(l,e);return n.getTime()>=a.getTime()?s+1:n.getTime()>=c.getTime()?s:s-1}function R9(t,e){var a,l,c,u;const n=zp(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=BA(t,e),r=zo(t,0);return r.setFullYear(i,0,s),r.setHours(0,0,0,0),dl(r,e)}function D9(t,e){const n=Bs(t),s=+dl(n,e)-+R9(n,e);return Math.round(s/FA)+1}function Qe(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const qi={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Qe(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Qe(n+1,2)},d(t,e){return Qe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Qe(t.getHours()%12||12,e.length)},H(t,e){return Qe(t.getHours(),e.length)},m(t,e){return Qe(t.getMinutes(),e.length)},s(t,e){return Qe(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return Qe(i,e.length)}},sa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tk={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return qi.y(t,e)},Y:function(t,e,n,s){const i=BA(t,s),r=i>0?i:1-i;if(e==="YY"){const o=r%100;return Qe(o,2)}return e==="Yo"?n.ordinalNumber(r,{unit:"year"}):Qe(r,e.length)},R:function(t,e){const n=VA(t);return Qe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Qe(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Qe(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Qe(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return qi.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Qe(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const i=D9(t,s);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Qe(i,e.length)},I:function(t,e,n){const s=A9(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Qe(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):qi.d(t,e)},D:function(t,e,n){const s=M9(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Qe(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const i=t.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return Qe(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const i=t.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return Qe(r,e.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return Qe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let i;switch(s===12?i=sa.noon:s===0?i=sa.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let i;switch(s>=17?i=sa.evening:s>=12?i=sa.afternoon:s>=4?i=sa.morning:i=sa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return qi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):qi.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Qe(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Qe(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):qi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):qi.s(t,e)},S:function(t,e){return qi.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return sk(s);case"XXXX":case"XX":return co(s);case"XXXXX":case"XXX":default:return co(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return sk(s);case"xxxx":case"xx":return co(s);case"xxxxx":case"xxx":default:return co(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nk(s,":");case"OOOO":default:return"GMT"+co(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nk(s,":");case"zzzz":default:return"GMT"+co(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return Qe(s,e.length)},T:function(t,e,n){const s=t.getTime();return Qe(s,e.length)}};function nk(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),r=s%60;return r===0?n+String(i):n+String(i)+e+Qe(r,2)}function sk(t,e){return t%60===0?(t>0?"-":"+")+Qe(Math.abs(t)/60,2):co(t,e)}function co(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Qe(Math.trunc(s/60),2),r=Qe(s%60,2);return n+i+e+r}const ik=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},O9=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return ik(t,e);let r;switch(s){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",ik(s,e)).replace("{{time}}",zA(i,e))},L9={p:zA,P:O9},j9=/^D+$/,F9=/^Y+$/,V9=["D","DD","YY","YYYY"];function B9(t){return j9.test(t)}function z9(t){return F9.test(t)}function U9(t,e,n){const s=$9(t,e,n);if(console.warn(s),V9.includes(t))throw new RangeError(s)}function $9(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const W9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,H9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y9=/^'([^]*?)'?$/,G9=/''/g,K9=/[a-zA-Z]/;function ds(t,e,n){var u,d,h,f;const s=zp(),i=s.locale??N9,r=s.firstWeekContainsDate??((d=(u=s.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=s.weekStartsOn??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,a=Bs(t);if(!Q8(a))throw new RangeError("Invalid time value");let l=e.match(H9).map(m=>{const g=m[0];if(g==="p"||g==="P"){const _=L9[g];return _(m,i.formatLong)}return m}).join("").match(W9).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:q9(m)};if(tk[g])return{isToken:!0,value:m};if(g.match(K9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(z9(g)||B9(g))&&U9(g,e,String(t));const _=tk[g[0]];return _(a,g,i.localize,c)}).join("")}function q9(t){const e=t.match(Y9);return e?e[1].replace(G9,"'"):t}var ad={};(function t(e,n,s,i){var r=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var E=new OffscreenCanvas(1,1),C=E.getContext("2d");C.fillRect(0,0,1,1);var F=E.transferToImageBitmap();try{C.createPattern(F,"no-repeat")}catch{return!1}return!0}();function l(){}function c(E){var C=n.exports.Promise,F=C!==void 0?C:e.Promise;return typeof F=="function"?new F(E):(E(l,l),null)}var u=function(E,C){return{transform:function(F){if(E)return F;if(C.has(F))return C.get(F);var q=new OffscreenCanvas(F.width,F.height),A=q.getContext("2d");return A.drawImage(F,0,0),C.set(F,q),q},clear:function(){C.clear()}}}(a,new Map),d=function(){var E=Math.floor(16.666666666666668),C,F,q={},A=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(C=function(j){var W=Math.random();return q[W]=requestAnimationFrame(function V(te){A===te||A+E-1<te?(A=te,delete q[W],j()):q[W]=requestAnimationFrame(V)}),W},F=function(j){q[j]&&cancelAnimationFrame(q[j])}):(C=function(j){return setTimeout(j,E)},F=function(j){return clearTimeout(j)}),{frame:C,cancel:F}}(),h=function(){var E,C,F={};function q(A){function j(W,V){A.postMessage({options:W||{},callback:V})}A.init=function(V){var te=V.transferControlToOffscreen();A.postMessage({canvas:te},[te])},A.fire=function(V,te,we){if(C)return j(V,null),C;var ge=Math.random().toString(36).slice(2);return C=c(function(Ce){function Pe(Ge){Ge.data.callback===ge&&(delete F[ge],A.removeEventListener("message",Pe),C=null,u.clear(),we(),Ce())}A.addEventListener("message",Pe),j(V,ge),F[ge]=Pe.bind(null,{data:{callback:ge}})}),C},A.reset=function(){A.postMessage({reset:!0});for(var V in F)F[V](),delete F[V]}}return function(){if(E)return E;if(!s&&r){var A=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{E=new Worker(URL.createObjectURL(new Blob([A])))}catch(j){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",j),null}q(E)}return E}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(E,C){return C?C(E):E}function g(E){return E!=null}function _(E,C,F){return m(E&&g(E[C])?E[C]:f[C],F)}function v(E){return E<0?0:Math.floor(E)}function y(E,C){return Math.floor(Math.random()*(C-E))+E}function x(E){return parseInt(E,16)}function b(E){return E.map(S)}function S(E){var C=String(E).replace(/[^0-9a-f]/gi,"");return C.length<6&&(C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]),{r:x(C.substring(0,2)),g:x(C.substring(2,4)),b:x(C.substring(4,6))}}function T(E){var C=_(E,"origin",Object);return C.x=_(C,"x",Number),C.y=_(C,"y",Number),C}function P(E){E.width=document.documentElement.clientWidth,E.height=document.documentElement.clientHeight}function I(E){var C=E.getBoundingClientRect();E.width=C.width,E.height=C.height}function O(E){var C=document.createElement("canvas");return C.style.position="fixed",C.style.top="0px",C.style.left="0px",C.style.pointerEvents="none",C.style.zIndex=E,C}function B(E,C,F,q,A,j,W,V,te){E.save(),E.translate(C,F),E.rotate(j),E.scale(q,A),E.arc(0,0,1,W,V,te),E.restore()}function Y(E){var C=E.angle*(Math.PI/180),F=E.spread*(Math.PI/180);return{x:E.x,y:E.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:E.startVelocity*.5+Math.random()*E.startVelocity,angle2D:-C+(.5*F-Math.random()*F),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:E.color,shape:E.shape,tick:0,totalTicks:E.ticks,decay:E.decay,drift:E.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:E.gravity*3,ovalScalar:.6,scalar:E.scalar,flat:E.flat}}function L(E,C){C.x+=Math.cos(C.angle2D)*C.velocity+C.drift,C.y+=Math.sin(C.angle2D)*C.velocity+C.gravity,C.velocity*=C.decay,C.flat?(C.wobble=0,C.wobbleX=C.x+10*C.scalar,C.wobbleY=C.y+10*C.scalar,C.tiltSin=0,C.tiltCos=0,C.random=1):(C.wobble+=C.wobbleSpeed,C.wobbleX=C.x+10*C.scalar*Math.cos(C.wobble),C.wobbleY=C.y+10*C.scalar*Math.sin(C.wobble),C.tiltAngle+=.1,C.tiltSin=Math.sin(C.tiltAngle),C.tiltCos=Math.cos(C.tiltAngle),C.random=Math.random()+2);var F=C.tick++/C.totalTicks,q=C.x+C.random*C.tiltCos,A=C.y+C.random*C.tiltSin,j=C.wobbleX+C.random*C.tiltCos,W=C.wobbleY+C.random*C.tiltSin;if(E.fillStyle="rgba("+C.color.r+", "+C.color.g+", "+C.color.b+", "+(1-F)+")",E.beginPath(),o&&C.shape.type==="path"&&typeof C.shape.path=="string"&&Array.isArray(C.shape.matrix))E.fill(ae(C.shape.path,C.shape.matrix,C.x,C.y,Math.abs(j-q)*.1,Math.abs(W-A)*.1,Math.PI/10*C.wobble));else if(C.shape.type==="bitmap"){var V=Math.PI/10*C.wobble,te=Math.abs(j-q)*.1,we=Math.abs(W-A)*.1,ge=C.shape.bitmap.width*C.scalar,Ce=C.shape.bitmap.height*C.scalar,Pe=new DOMMatrix([Math.cos(V)*te,Math.sin(V)*te,-Math.sin(V)*we,Math.cos(V)*we,C.x,C.y]);Pe.multiplySelf(new DOMMatrix(C.shape.matrix));var Ge=E.createPattern(u.transform(C.shape.bitmap),"no-repeat");Ge.setTransform(Pe),E.globalAlpha=1-F,E.fillStyle=Ge,E.fillRect(C.x-ge/2,C.y-Ce/2,ge,Ce),E.globalAlpha=1}else if(C.shape==="circle")E.ellipse?E.ellipse(C.x,C.y,Math.abs(j-q)*C.ovalScalar,Math.abs(W-A)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI):B(E,C.x,C.y,Math.abs(j-q)*C.ovalScalar,Math.abs(W-A)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI);else if(C.shape==="star")for(var ke=Math.PI/2*3,ze=4*C.scalar,Je=8*C.scalar,Ue=C.x,tn=C.y,Yt=5,k=Math.PI/Yt;Yt--;)Ue=C.x+Math.cos(ke)*Je,tn=C.y+Math.sin(ke)*Je,E.lineTo(Ue,tn),ke+=k,Ue=C.x+Math.cos(ke)*ze,tn=C.y+Math.sin(ke)*ze,E.lineTo(Ue,tn),ke+=k;else E.moveTo(Math.floor(C.x),Math.floor(C.y)),E.lineTo(Math.floor(C.wobbleX),Math.floor(A)),E.lineTo(Math.floor(j),Math.floor(W)),E.lineTo(Math.floor(q),Math.floor(C.wobbleY));return E.closePath(),E.fill(),C.tick<C.totalTicks}function ie(E,C,F,q,A){var j=C.slice(),W=E.getContext("2d"),V,te,we=c(function(ge){function Ce(){V=te=null,W.clearRect(0,0,q.width,q.height),u.clear(),A(),ge()}function Pe(){s&&!(q.width===i.width&&q.height===i.height)&&(q.width=E.width=i.width,q.height=E.height=i.height),!q.width&&!q.height&&(F(E),q.width=E.width,q.height=E.height),W.clearRect(0,0,q.width,q.height),j=j.filter(function(Ge){return L(W,Ge)}),j.length?V=d.frame(Pe):Ce()}V=d.frame(Pe),te=Ce});return{addFettis:function(ge){return j=j.concat(ge),we},canvas:E,promise:we,reset:function(){V&&d.cancel(V),te&&te()}}}function fe(E,C){var F=!E,q=!!_(C||{},"resize"),A=!1,j=_(C,"disableForReducedMotion",Boolean),W=r&&!!_(C||{},"useWorker"),V=W?h():null,te=F?P:I,we=E&&V?!!E.__confetti_initialized:!1,ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ce;function Pe(ke,ze,Je){for(var Ue=_(ke,"particleCount",v),tn=_(ke,"angle",Number),Yt=_(ke,"spread",Number),k=_(ke,"startVelocity",Number),M=_(ke,"decay",Number),D=_(ke,"gravity",Number),ee=_(ke,"drift",Number),X=_(ke,"colors",b),G=_(ke,"ticks",Number),se=_(ke,"shapes"),Te=_(ke,"scalar"),je=!!_(ke,"flat"),Mt=T(ke),nn=Ue,At=[],$i=E.width*Mt.x,Wn=E.height*Mt.y;nn--;)At.push(Y({x:$i,y:Wn,angle:tn,spread:Yt,startVelocity:k,color:X[nn%X.length],shape:se[y(0,se.length)],ticks:G,decay:M,gravity:D,drift:ee,scalar:Te,flat:je}));return Ce?Ce.addFettis(At):(Ce=ie(E,At,te,ze,Je),Ce.promise)}function Ge(ke){var ze=j||_(ke,"disableForReducedMotion",Boolean),Je=_(ke,"zIndex",Number);if(ze&&ge)return c(function(k){k()});F&&Ce?E=Ce.canvas:F&&!E&&(E=O(Je),document.body.appendChild(E)),q&&!we&&te(E);var Ue={width:E.width,height:E.height};V&&!we&&V.init(E),we=!0,V&&(E.__confetti_initialized=!0);function tn(){if(V){var k={getBoundingClientRect:function(){if(!F)return E.getBoundingClientRect()}};te(k),V.postMessage({resize:{width:k.width,height:k.height}});return}Ue.width=Ue.height=null}function Yt(){Ce=null,q&&(A=!1,e.removeEventListener("resize",tn)),F&&E&&(document.body.contains(E)&&document.body.removeChild(E),E=null,we=!1)}return q&&!A&&(A=!0,e.addEventListener("resize",tn,!1)),V?V.fire(ke,Ue,Yt):Pe(ke,Ue,Yt)}return Ge.reset=function(){V&&V.reset(),Ce&&Ce.reset()},Ge}var ue;function ne(){return ue||(ue=fe(null,{useWorker:!0,resize:!0})),ue}function ae(E,C,F,q,A,j,W){var V=new Path2D(E),te=new Path2D;te.addPath(V,new DOMMatrix(C));var we=new Path2D;return we.addPath(te,new DOMMatrix([Math.cos(W)*A,Math.sin(W)*A,-Math.sin(W)*j,Math.cos(W)*j,F,q])),we}function $(E){if(!o)throw new Error("path confetti are not supported in this browser");var C,F;typeof E=="string"?C=E:(C=E.path,F=E.matrix);var q=new Path2D(C),A=document.createElement("canvas"),j=A.getContext("2d");if(!F){for(var W=1e3,V=W,te=W,we=0,ge=0,Ce,Pe,Ge=0;Ge<W;Ge+=2)for(var ke=0;ke<W;ke+=2)j.isPointInPath(q,Ge,ke,"nonzero")&&(V=Math.min(V,Ge),te=Math.min(te,ke),we=Math.max(we,Ge),ge=Math.max(ge,ke));Ce=we-V,Pe=ge-te;var ze=10,Je=Math.min(ze/Ce,ze/Pe);F=[Je,0,0,Je,-Math.round(Ce/2+V)*Je,-Math.round(Pe/2+te)*Je]}return{type:"path",path:C,matrix:F}}function U(E){var C,F=1,q="#000000",A='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof E=="string"?C=E:(C=E.text,F="scalar"in E?E.scalar:F,A="fontFamily"in E?E.fontFamily:A,q="color"in E?E.color:q);var j=10*F,W=""+j+"px "+A,V=new OffscreenCanvas(j,j),te=V.getContext("2d");te.font=W;var we=te.measureText(C),ge=Math.ceil(we.actualBoundingBoxRight+we.actualBoundingBoxLeft),Ce=Math.ceil(we.actualBoundingBoxAscent+we.actualBoundingBoxDescent),Pe=2,Ge=we.actualBoundingBoxLeft+Pe,ke=we.actualBoundingBoxAscent+Pe;ge+=Pe+Pe,Ce+=Pe+Pe,V=new OffscreenCanvas(ge,Ce),te=V.getContext("2d"),te.font=W,te.fillStyle=q,te.fillText(C,Ge,ke);var ze=1/F;return{type:"bitmap",bitmap:V.transferToImageBitmap(),matrix:[ze,0,0,ze,-ge*ze/2,-Ce*ze/2]}}n.exports=function(){return ne().apply(this,arguments)},n.exports.reset=function(){ne().reset()},n.exports.create=fe,n.exports.shapeFromPath=$,n.exports.shapeFromText=U})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ad,!1);const tc=ad.exports;ad.exports.create;function Q9(t){return t.slice(0,7)}async function rk(t){const e=Q9(t.date),n=Xt(Jt,`sales/${e}/${t.sellerUid}`),s=FH(n),i={...t,gross:t.gross,serviceOnly:t.serviceOnly,createdAt:t.createdAt??new Date().toISOString()};return await Fp(s,i),s.key}async function Od(t,e){const n=await li(ts(Xt(Jt),`sales/${e}/${t}`));if(!n.exists())return[];const s=n.val();return Object.entries(s).map(([i,r])=>({id:i,...r}))}async function Z9(t){const e=await li(ts(Xt(Jt),`sales/${t}`));if(!e.exists())return{};const n=e.val(),s={};return Object.entries(n).forEach(([i,r])=>{s[i]=Object.values(r)}),s}async function ok({uid:t,month:e,saleId:n,data:s}){await Fp(Xt(Jt,`sales/${e}/${t}/${n}`),s)}async function ak({uid:t,month:e,saleId:n}){await rx(Xt(Jt),{[`sales/${e}/${t}/${n}`]:null})}async function X9(t){const e=Xt(Jt,`closures/${t.month}`);await Fp(e,{...t,publishedAt:Date.now()})}async function pv(t){const e=await li(ts(Xt(Jt),`closures/${t}`));return e.exists()?e.val():null}async function J9({uid:t,dateISO:e,type:n,time:s}){const i=Xt(Jt,`ig_tracking/${e}/${t}`);await CA(i,r=>{const o=r??{posts:0,stories:0,times:[]};return o[n]>=999||(o[n]=(o[n]??0)+1,s&&(o.times=Array.isArray(o.times)?[...o.times,s]:[s])),o})}async function lk(t,e){const n=await li(ts(Xt(Jt),`ig_tracking/${e}/${t}`));return n.exists()?n.val():{posts:0,stories:0}}function eY(t,e){const n=rY(e);return"formatToParts"in n?nY(n,t):sY(n,t)}const tY={year:0,month:1,day:2,hour:3,minute:4,second:5};function nY(t,e){try{const n=t.formatToParts(e),s=[];for(let i=0;i<n.length;i++){const r=tY[n[i].type];r!==void 0&&(s[r]=parseInt(n[i].value,10))}return s}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function sY(t,e){const n=t.format(e),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(s[3],10),parseInt(s[1],10),parseInt(s[2],10),parseInt(s[4],10),parseInt(s[5],10),parseInt(s[6],10)]}const ig={},ck=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),iY=ck==="06/25/2014, 00:00:00"||ck==="06/25/2014 00:00:00";function rY(t){return ig[t]||(ig[t]=iY?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),ig[t]}function UA(t,e,n,s,i,r,o){const a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(s,i,r,o),a}const uk=36e5,oY=6e4,rg={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function $A(t,e,n){if(!t)return 0;let s=rg.timezoneZ.exec(t);if(s)return 0;let i,r;if(s=rg.timezoneHH.exec(t),s)return i=parseInt(s[1],10),dk(i)?-(i*uk):NaN;if(s=rg.timezoneHHMM.exec(t),s){i=parseInt(s[2],10);const o=parseInt(s[3],10);return dk(i,o)?(r=Math.abs(i)*uk+o*oY,s[1]==="+"?-r:r):NaN}if(cY(t)){e=new Date(e||Date.now());const o=n?e:aY(e),a=mv(o,t);return-(n?a:lY(e,a,t))}return NaN}function aY(t){return UA(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function mv(t,e){const n=eY(t,e),s=UA(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let i=t.getTime();const r=i%1e3;return i-=r>=0?r:1e3+r,s-i}function lY(t,e,n){let i=t.getTime()-e;const r=mv(new Date(i),n);if(e===r)return e;i-=r-e;const o=mv(new Date(i),n);return r===o?r:Math.max(r,o)}function dk(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const hk={};function cY(t){if(hk[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),hk[t]=!0,!0}catch{return!1}}function fk(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const uY=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,og=36e5,pk=6e4,dY=2,Cn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:uY};function hY(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?dY:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const s=fY(t),{year:i,restDateString:r}=pY(s.date,n),o=mY(r,i);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const a=o.getTime();let l=0,c;if(s.time&&(l=gY(s.time),l===null||isNaN(l)))return new Date(NaN);if(s.timeZone||e.timeZone){if(c=$A(s.timeZone||e.timeZone,new Date(a+l)),isNaN(c))return new Date(NaN)}else c=fk(new Date(a+l)),c=fk(new Date(a+l+c));return new Date(a+l+c)}else return new Date(NaN)}function fY(t){const e={};let n=Cn.dateTimePattern.exec(t),s;if(n?(e.date=n[1],s=n[3]):(n=Cn.datePattern.exec(t),n?(e.date=n[1],s=n[2]):(e.date=null,s=t)),s){const i=Cn.timeZone.exec(s);i?(e.time=s.replace(i[1],""),e.timeZone=i[1].trim()):e.time=s}return e}function pY(t,e){if(t){const n=Cn.YYY[e],s=Cn.YYYYY[e];let i=Cn.YYYY.exec(t)||s.exec(t);if(i){const r=i[1];return{year:parseInt(r,10),restDateString:t.slice(r.length)}}if(i=Cn.YY.exec(t)||n.exec(t),i){const r=i[1];return{year:parseInt(r,10)*100,restDateString:t.slice(r.length)}}}return{year:null}}function mY(t,e){if(e===null)return null;let n,s,i;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let r=Cn.MM.exec(t);if(r)return n=new Date(0),s=parseInt(r[1],10)-1,gk(e,s)?(n.setUTCFullYear(e,s),n):new Date(NaN);if(r=Cn.DDD.exec(t),r){n=new Date(0);const o=parseInt(r[1],10);return _Y(e,o)?(n.setUTCFullYear(e,0,o),n):new Date(NaN)}if(r=Cn.MMDD.exec(t),r){n=new Date(0),s=parseInt(r[1],10)-1;const o=parseInt(r[2],10);return gk(e,s,o)?(n.setUTCFullYear(e,s,o),n):new Date(NaN)}if(r=Cn.Www.exec(t),r)return i=parseInt(r[1],10)-1,yk(i)?mk(e,i):new Date(NaN);if(r=Cn.WwwD.exec(t),r){i=parseInt(r[1],10)-1;const o=parseInt(r[2],10)-1;return yk(i,o)?mk(e,i,o):new Date(NaN)}return null}function gY(t){let e,n,s=Cn.HH.exec(t);if(s)return e=parseFloat(s[1].replace(",",".")),ag(e)?e%24*og:NaN;if(s=Cn.HHMM.exec(t),s)return e=parseInt(s[1],10),n=parseFloat(s[2].replace(",",".")),ag(e,n)?e%24*og+n*pk:NaN;if(s=Cn.HHMMSS.exec(t),s){e=parseInt(s[1],10),n=parseInt(s[2],10);const i=parseFloat(s[3].replace(",","."));return ag(e,n,i)?e%24*og+n*pk+i*1e3:NaN}return null}function mk(t,e,n){e=e||0,n=n||0;const s=new Date(0);s.setUTCFullYear(t,0,4);const i=s.getUTCDay()||7,r=e*7+n+1-i;return s.setUTCDate(s.getUTCDate()+r),s}const yY=[31,28,31,30,31,30,31,31,30,31,30,31],vY=[31,29,31,30,31,30,31,31,30,31,30,31];function WA(t){return t%400===0||t%4===0&&t%100!==0}function gk(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const s=WA(t);if(s&&n>vY[e]||!s&&n>yY[e])return!1}return!0}function _Y(t,e){if(e<1)return!1;const n=WA(t);return!(n&&e>366||!n&&e>365)}function yk(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function ag(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function HA(t,e,n){t=hY(t,n);const s=$A(e,t,!0),i=new Date(t.getTime()-s),r=new Date(0);return r.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),r.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),r}const YA="America/Sao_Paulo";function hr(){return HA(new Date,YA)}function Uc(t,e="yyyy-MM-dd"){return ds(HA(t,YA),e)}function Ml(t){const e=dl(t,{weekStartsOn:1});return ds(e,"yyyy-'W'II")}async function xY(t){const e=new TextEncoder,n=wY(t),s=e.encode(n),i=await crypto.subtle.digest("SHA-1",s);return Array.from(new Uint8Array(i)).map(o=>o.toString(16).padStart(2,"0")).join("")}function wY(t){let e=t.trim().toLowerCase();return e=e.replace(/^https?:\/\//,""),e=e.replace(/^www\./,""),e=e.split("#")[0],e=e.split("?")[0],e}async function bY({uid:t,url:e,date:n=new Date}){if(!e)throw new Error("URL obrigatria");const s=await xY(e),i=Ml(n),r=Xt(Jt,`ml_links/${i}/${t}/items/${s}`);if(await CA(r,a=>{if(!a)return{url:e,ts:XH()}},{applyLocally:!1}),!(await li(r)).exists())throw new Error("Link duplicado na semana.")}async function gv(t,e=new Date){const n=Ml(e),s=await li(ts(Xt(Jt),`ml_links/${n}/${t}/items`));return s.exists()?Object.values(s.val()):[]}function yv(t,e,n,s){const{coordinatorId:i,sellers:r}=s,o=n===i,a=r.includes(n),l={};if(a)l[n]=t.commissions.seller_own*e,l[i]=(l[i]??0)+t.commissions.coord_own*e;else if(o){l[i]=t.commissions.coord_own*e;for(const c of r)l[c]=(l[c]??0)+t.commissions.seller_over_coord*e}return l}function SY(t,e){var l;const n=(l=t.ml_bonus)==null?void 0:l.tiers,s=Array.isArray(n)?n:n?Object.values(n):[],i=[{min:30,max:39,value:20},{min:40,max:49,value:40},{min:50,max:null,value:60}],r=s.length>0?s:i,o=c=>{if(typeof c=="number"&&Number.isFinite(c))return c;if(typeof c=="string"){const u=c.replace(/[^0-9.,-]/g,"").replace(",",".").trim();if(u.length===0)return null;const d=Number(u);if(Number.isFinite(d))return d}return null};let a=0;for(const c of r){if(!c||typeof c!="object")continue;const u=c,d=o(u.min),h=o(u.max),f=o(u.value);d===null||f===null||e<d||h!==null&&e>h||(a=Math.max(a,f))}if(a===0&&e>0)for(const c of i)e>=c.min&&(c.max===null||e<=c.max)&&(a=Math.max(a,c.value));return a}function vk(t,e){let n=0;for(const s of t.faturamento_bonus)e>=s.min&&(n=Math.max(n,s.rate));return n}const CY="rc_";function _k(t,e){return`${CY}${t}_${e}`}function xk(t,e){if(!t)return e;try{return JSON.parse(t)}catch{return e}}const Et={getUserScoped(t,e,n){if(typeof window>"u")return n;const s=_k(t,e),i=localStorage.getItem(s);return xk(i,n)},setUserScoped(t,e,n){if(typeof window>"u")return;const s=_k(t,e);localStorage.setItem(s,JSON.stringify(n))},exportAll(t){if(typeof window>"u")return null;const e={},n={templates_user:[],templates_state_user:{},quickfields_user:{},notas_user:{},pendencias_user:[],sticky_user:[]};return["templates_user","templates_state_user","quickfields_user","notas_user","pendencias_user","sticky_user"].forEach(s=>{e[s]=Et.getUserScoped(s,t,n[s])}),JSON.stringify(e,null,2)},importAll(t,e){const n=xk(e,{templates_user:[],templates_state_user:{},quickfields_user:{},notas_user:{},pendencias_user:[],sticky_user:[]});Object.keys(n).forEach(s=>{this.setUserScoped(s,t,n[s])})}},Al=w.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{ref:n,className:dn("w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400",t),...e}));Al.displayName="Textarea";function wk({className:t,...e}){return p.jsx("span",{className:dn("inline-flex items-center rounded-full border border-transparent bg-brand-100 px-3 py-1 text-xs font-semibold text-brand-700",t),...e})}function Up(t,e=[]){let n=[];function s(r,o){const a=w.createContext(o),l=n.length;n=[...n,o];const c=d=>{var v;const{scope:h,children:f,...m}=d,g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,_=w.useMemo(()=>m,Object.values(m));return p.jsx(g.Provider,{value:_,children:f})};c.displayName=r+"Provider";function u(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,m=w.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${r}\``)}return[c,u]}const i=()=>{const r=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||r;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[s,kY(i,...e)]}function kY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(r){const o=s.reduce((a,{useScope:l,scopeName:c})=>{const d=l(r)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var TY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qr=TY.reduce((t,e)=>{const n=Lf(`Primitive.${e}`),s=w.forwardRef((i,r)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:r})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),ax="Progress",lx=100,[EY]=Up(ax),[IY,PY]=EY(ax),GA=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:i,getValueLabel:r=NY,...o}=t;(i||i===0)&&!bk(i)&&console.error(MY(`${i}`,"Progress"));const a=bk(i)?i:lx;s!==null&&!Sk(s,a)&&console.error(AY(`${s}`,"Progress"));const l=Sk(s,a)?s:null,c=Ff(l)?r(l,a):void 0;return p.jsx(IY,{scope:n,value:l,max:a,children:p.jsx(Qr.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Ff(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":QA(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});GA.displayName=ax;var KA="ProgressIndicator",qA=w.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,i=PY(KA,n);return p.jsx(Qr.div,{"data-state":QA(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:e})});qA.displayName=KA;function NY(t,e){return`${Math.round(t/e*100)}%`}function QA(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ff(t){return typeof t=="number"}function bk(t){return Ff(t)&&!isNaN(t)&&t>0}function Sk(t,e){return Ff(t)&&!isNaN(t)&&t<=e&&t>=0}function MY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lx}\`.`}function AY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var RY=GA,DY=qA;const ZA=w.forwardRef(({className:t,value:e,indicatorClassName:n,...s},i)=>p.jsx(RY,{ref:i,className:dn("relative h-3 w-full overflow-hidden rounded-full bg-slate-200",t),...s,children:p.jsx(DY,{className:dn("h-full w-full flex-1 bg-brand-500 transition-transform",n),style:{transform:`translateX(-${100-(e??0)}%)`}})}));ZA.displayName="Progress";function Mi(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function OY(t){const e=t+"CollectionProvider",[n,s]=Up(e),[i,r]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:v}=g,y=H.useRef(null),x=H.useRef(new Map).current;return p.jsx(i,{scope:_,itemMap:x,collectionRef:y,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Lf(a),c=H.forwardRef((g,_)=>{const{scope:v,children:y}=g,x=r(a,v),b=Of(_,x.collectionRef);return p.jsx(l,{ref:b,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Lf(u),f=H.forwardRef((g,_)=>{const{scope:v,children:y,...x}=g,b=H.useRef(null),S=Of(_,b),T=r(u,v);return H.useEffect(()=>(T.itemMap.set(b,{ref:b,...x}),()=>void T.itemMap.delete(b))),p.jsx(h,{[d]:"",ref:S,children:y})});f.displayName=u;function m(g){const _=r(t+"CollectionConsumer",g);return H.useCallback(()=>{const y=_.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((T,P)=>x.indexOf(T.ref.current)-x.indexOf(P.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,s]}var Vf=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},LY=Rv[" useId ".trim().toString()]||(()=>{}),jY=0;function XA(t){const[e,n]=w.useState(LY());return Vf(()=>{n(s=>s??String(jY++))},[t]),e?`radix-${e}`:""}function FY(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}var VY=Rv[" useInsertionEffect ".trim().toString()]||Vf;function JA({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,r,o]=BY({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=w.useRef(t!==void 0);w.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${s} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,s])}const c=w.useCallback(u=>{var d;if(a){const h=zY(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else r(u)},[a,t,r,o]);return[l,c]}function BY({defaultProp:t,onChange:e}){const[n,s]=w.useState(t),i=w.useRef(n),r=w.useRef(e);return VY(()=>{r.current=e},[e]),w.useEffect(()=>{var o;i.current!==n&&((o=r.current)==null||o.call(r,n),i.current=n)},[n,i]),[n,s,r]}function zY(t){return typeof t=="function"}var UY=w.createContext(void 0);function $Y(t){const e=w.useContext(UY);return t||e||"ltr"}var lg="rovingFocusGroup.onEntryFocus",WY={bubbles:!1,cancelable:!0},ld="RovingFocusGroup",[vv,eR,HY]=OY(ld),[YY,tR]=Up(ld,[HY]),[GY,KY]=YY(ld),nR=w.forwardRef((t,e)=>p.jsx(vv.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(vv.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(qY,{...t,ref:e})})}));nR.displayName=ld;var qY=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:r,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,h=w.useRef(null),f=Of(e,h),m=$Y(r),[g,_]=JA({prop:o,defaultProp:a??null,onChange:l,caller:ld}),[v,y]=w.useState(!1),x=FY(c),b=eR(n),S=w.useRef(!1),[T,P]=w.useState(0);return w.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(lg,x),()=>I.removeEventListener(lg,x)},[x]),p.jsx(GY,{scope:n,orientation:s,dir:m,loop:i,currentTabStopId:g,onItemFocus:w.useCallback(I=>_(I),[_]),onItemShiftTab:w.useCallback(()=>y(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(I=>I+1),[]),onFocusableItemRemove:w.useCallback(()=>P(I=>I-1),[]),children:p.jsx(Qr.div,{tabIndex:v||T===0?-1:0,"data-orientation":s,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:Mi(t.onMouseDown,()=>{S.current=!0}),onFocus:Mi(t.onFocus,I=>{const O=!S.current;if(I.target===I.currentTarget&&O&&!v){const B=new CustomEvent(lg,WY);if(I.currentTarget.dispatchEvent(B),!B.defaultPrevented){const Y=b().filter(ne=>ne.focusable),L=Y.find(ne=>ne.active),ie=Y.find(ne=>ne.id===g),ue=[L,ie,...Y].filter(Boolean).map(ne=>ne.ref.current);rR(ue,u)}}S.current=!1}),onBlur:Mi(t.onBlur,()=>y(!1))})})}),sR="RovingFocusGroupItem",iR=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:r,children:o,...a}=t,l=XA(),c=r||l,u=KY(sR,n),d=u.currentTabStopId===c,h=eR(n),{onFocusableItemAdd:f,onFocusableItemRemove:m,currentTabStopId:g}=u;return w.useEffect(()=>{if(s)return f(),()=>m()},[s,f,m]),p.jsx(vv.ItemSlot,{scope:n,id:c,focusable:s,active:i,children:p.jsx(Qr.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Mi(t.onMouseDown,_=>{s?u.onItemFocus(c):_.preventDefault()}),onFocus:Mi(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Mi(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=XY(_,u.orientation,u.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let x=h().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const b=x.indexOf(_.currentTarget);x=u.loop?JY(x,b+1):x.slice(b+1)}setTimeout(()=>rR(x))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:g!=null}):o})})});iR.displayName=sR;var QY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function XY(t,e,n){const s=ZY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return QY[s]}function rR(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function JY(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var e7=nR,t7=iR;function n7(t,e){return w.useReducer((n,s)=>e[n][s]??n,t)}var oR=t=>{const{present:e,children:n}=t,s=s7(e),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),r=Of(s.ref,i7(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:r}):null};oR.displayName="Presence";function s7(t){const[e,n]=w.useState(),s=w.useRef(null),i=w.useRef(t),r=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=n7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Ld(s.current);r.current=a==="mounted"?c:"none"},[a]),Vf(()=>{const c=s.current,u=i.current;if(u!==t){const h=r.current,f=Ld(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Vf(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const g=Ld(s.current).includes(CSS.escape(f.animationName));if(f.target===e&&g&&(l("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},h=f=>{f.target===e&&(r.current=Ld(s.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{s.current=c?getComputedStyle(c):null,n(c)},[])}}function Ld(t){return(t==null?void 0:t.animationName)||"none"}function i7(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var r7=w.createContext(void 0);function o7(t){const e=w.useContext(r7);return t||e||"ltr"}var $p="Tabs",[a7]=Up($p,[tR]),aR=tR(),[l7,cx]=a7($p),lR=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:r,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=o7(a),[d,h]=JA({prop:s,onChange:i,defaultProp:r??"",caller:$p});return p.jsx(l7,{scope:n,baseId:XA(),value:d,onValueChange:h,orientation:o,dir:u,activationMode:l,children:p.jsx(Qr.div,{dir:u,"data-orientation":o,...c,ref:e})})});lR.displayName=$p;var cR="TabsList",uR=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...i}=t,r=cx(cR,n),o=aR(n);return p.jsx(e7,{asChild:!0,...o,orientation:r.orientation,dir:r.dir,loop:s,children:p.jsx(Qr.div,{role:"tablist","aria-orientation":r.orientation,...i,ref:e})})});uR.displayName=cR;var dR="TabsTrigger",hR=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...r}=t,o=cx(dR,n),a=aR(n),l=mR(o.baseId,s),c=gR(o.baseId,s),u=s===o.value;return p.jsx(t7,{asChild:!0,...a,focusable:!i,active:u,children:p.jsx(Qr.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...r,ref:e,onMouseDown:Mi(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(s):d.preventDefault()}),onKeyDown:Mi(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(s)}),onFocus:Mi(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(s)})})})});hR.displayName=dR;var fR="TabsContent",pR=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:i,children:r,...o}=t,a=cx(fR,n),l=mR(a.baseId,s),c=gR(a.baseId,s),u=s===a.value,d=w.useRef(u);return w.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),p.jsx(oR,{present:i||u,children:({present:h})=>p.jsx(Qr.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&r})})});pR.displayName=fR;function mR(t,e){return`${t}-trigger-${e}`}function gR(t,e){return`${t}-content-${e}`}var c7=lR,yR=uR,vR=hR,_R=pR;const xR=c7,ux=w.forwardRef(({className:t,...e},n)=>p.jsx(yR,{ref:n,className:dn("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-sm",t),...e}));ux.displayName=yR.displayName;const _o=w.forwardRef(({className:t,...e},n)=>p.jsx(vR,{ref:n,className:dn("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium text-slate-600 transition focus-visible:outline-none data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow",t),...e}));_o.displayName=vR.displayName;const xo=w.forwardRef(({className:t,...e},n)=>p.jsx(_R,{ref:n,className:dn("mt-4 focus-visible:outline-none",t),...e}));xo.displayName=_R.displayName;/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wR=(...t)=>t.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...d7,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:wR("lucide",i),...a},[...o.map(([c,u])=>w.createElement(c,u)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=(t,e)=>{const n=w.forwardRef(({className:s,...i},r)=>w.createElement(h7,{ref:r,iconNode:e,className:wR(`lucide-${u7(t)}`,s),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=Ui("ChevronsDownUp",[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=Ui("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=Ui("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=Ui("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Ui("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=Ui("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Ui("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=Ui("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Ui("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Rr(t){const e={yellow:"/icons/postyellow.png",red:"/icons/postred.png",pink:"/icons/postpink.png",green:"/icons/postgreen.png",blue:"/icons/postblue.png",fundonotasazul:"/icons/fundonotasazul.png",fundonotaslaranja:"/icons/fundonotaslaranja.png",fundonotasrosa:"/icons/fundonotasrosa.png",fundonotasverde:"/icons/fundonotasverde.png",fundonotasverdinho:"/icons/fundonotasverdinho.png",pendencias:"/icons/fundopendencias.png"},n={"#FDE68A":e.yellow,"#FBCFE8":e.pink,"#BFDBFE":e.blue,"#BBF7D0":e.green,"#FCD34D":e.yellow,"#FDBA74":e.red,"#DDD6FE":e.blue,"#A7F3D0":e.green,"#F9A8D4":e.pink,"#FEF3C7":e.yellow};return e[t]??n[t]??""}const aa={cliente:"",modelo:"",valor_avista:"",valor_parcelado:"",frete:"",prazo:""},kk=Object.keys(aa),Tk={activeCategoryId:"",collapsedTemplates:{}},Ek=["yellow","pink","blue","green","red"],Ea=["#FECACA","#FDE68A","#BFDBFE","#C4B5FD","#FBCFE8","#D9F99D","#A5F3FC","#FDBA74","#FED7AA","#F3F4F6"],Ik={entrada:{label:"Entrada paga",className:"border-red-200 bg-red-50 text-red-700"},frete:{label:"Sofa pago, falta frete",className:"border-yellow-200 bg-yellow-50 text-yellow-700"},pendente:{label:"Pendente de pagamento/entrega",className:"border-sky-200 bg-sky-50 text-sky-700"},concluida:{label:"Pago e entregue",className:"border-green-200 bg-green-50 text-green-700"}},cg=6,Pk=8,Nk=10,Mk=["fundonotasazul","fundonotaslaranja","fundonotasrosa","fundonotasverde","fundonotasverdinho"];function an(t){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`${t}-${crypto.randomUUID().slice(0,8)}`:`${t}-${Math.random().toString(36).slice(2,10)}`}function ug(t){return[...t].sort((e,n)=>{const s=new Date(n.date).getTime()-new Date(e.date).getTime();return s!==0?s:(n.createdAt??"").localeCompare(e.createdAt??"")})}function Ak(t){const e=()=>[{id:an("cat"),name:"Atendimento",templates:[]},{id:an("cat"),name:"Instagram",templates:[]}];return Array.isArray(t)?t.every(n=>n&&typeof n=="object"&&"templates"in n)?t.map(n=>({...n,templates:(n.templates??[]).map(s=>({id:s.id??an("tpl"),name:s.name??"Sem titulo",content:s.content??""}))})):t.every(n=>n&&typeof n=="object"&&"content"in n)?[{id:an("cat"),name:"Atendimento",templates:t.map(n=>({id:n.id??an("tpl"),name:n.name??"Template",content:n.content??""}))},{id:an("cat"),name:"Instagram",templates:[]}]:e():e()}function _7(t){return new Set(t.flatMap(e=>e.templates.map(n=>n.id)))}function dg(t,e){const n=_7(e);return Object.entries(t??{}).reduce((i,[r,o])=>(n.has(r)&&(i[r]=o),i),{})}function Rk(t,e){return Array.isArray(t)?t.map(n=>({...n,id:n.id??an("note"),saleId:n.saleId??"",month:n.month??e,text:n.text??"",createdAt:n.createdAt??new Date().toISOString()})):t&&typeof t=="object"?Object.entries(t).map(([n,s])=>({id:an("note"),saleId:"",month:e,text:`${n}: ${s}`,createdAt:new Date().toISOString()})):[]}function Dk(t,e){return Array.isArray(t)?t.map(n=>typeof n=="string"?{id:an("todo"),saleId:"",text:n,color:Ea[0],month:e,createdAt:new Date().toISOString()}:{id:n.id??an("todo"),saleId:n.saleId??"",text:n.text??"",color:n.color??Ea[0],month:n.month??e,createdAt:n.createdAt??new Date().toISOString()}):[]}function dx(t,e=0){if(t==null)return e;if(typeof t=="number")return Number.isFinite(t)?t:null;if(typeof t!="string")return null;const n=t.trim();if(!n)return e;let s=n.replace(/\s/g,"");const i=s.includes(","),r=s.includes(".");i&&r?s=s.replace(/\./g,"").replace(",","."):i?s=s.replace(",","."):/^\d{1,3}(?:\.\d{3})+$/.test(s)&&(s=s.replace(/\./g,""));const o=Number(s);return Number.isFinite(o)?o:null}function Jr(t){const e=dx(t,0);return typeof e=="number"&&Number.isFinite(e)?e:0}const Ok=t=>UI(e=>dx(e),Es({invalid_type_error:t}).min(0,"Valor nao pode ser negativo")),Lk=UI(t=>dx(t,void 0),Es().min(0).optional()),x7=pp({date:Tr().nonempty("Informe a data"),client:Tr().min(2,"Informe o nome da cliente"),orderId:Tr().min(1,"Informe o numero do pedido"),net:Ok("Informe o valor liquido"),gross:Ok("Informe o valor bruto"),capa:Lk,impermeabilizacao:Lk}).superRefine((t,e)=>{const n=t.orderId.trim().endsWith("#"),s=(t.capa??0)+(t.impermeabilizacao??0);n?s<=0&&e.addIssue({code:Q.custom,path:["capa"],message:"Para pedidos com # informe capa ou impermeabilizacao."}):(t.net<=0&&e.addIssue({code:Q.custom,path:["net"],message:"Informe o valor liquido."}),t.gross<=0&&e.addIssue({code:Q.custom,path:["gross"],message:"Informe o valor bruto."}))}),w7=[];function b7(){var kx,Tx,Ex,Ix,Px;const{user:t,logout:e}=Bp(),n=(t==null?void 0:t.uid)??"anon",s=hp(),[i,r]=w.useState(null),[o,a]=w.useState({}),[l,c]=w.useState({}),[u,d]=w.useState({}),[h,f]=w.useState({posts:0,stories:0}),[m,g]=w.useState([]),[_,v]=w.useState([]),[y,x]=w.useState(""),[b,S]=w.useState(aa),[T,P]=w.useState([]),[I,O]=w.useState([]),[B,Y]=w.useState(w7),[L,ie]=w.useState(""),[fe,ue]=w.useState(!0),[ne,ae]=w.useState(null),[$,U]=w.useState(()=>{if(typeof window>"u")return 5e4;const N=window.localStorage.getItem("meta_pessoal"),R=N?Number(N):NaN;return Number.isFinite(R)&&R>=5e4?R:5e4}),[E,C]=w.useState("overview"),[F,q]=w.useState({}),[A,j]=w.useState(null),W=w.useRef(n),V=Uc(hr(),"yyyy-MM-dd"),te=V.slice(0,7),we=Ml(hr()),ge=Qh({resolver:sf(x7),defaultValues:{date:V,client:"",orderId:"",net:0,gross:0,capa:0,impermeabilizacao:0}});w.useEffect(()=>{var We;W.current=n,j(null);const N=Ak(Et.getUserScoped("templates_user",n,[]));v(N);const R=Et.getUserScoped("templates_state_user",n,Tk),z=((We=N[0])==null?void 0:We.id)??"",Z=N.some(Ut=>Ut.id===R.activeCategoryId)?R.activeCategoryId:z;x(Z),q(dg(R.collapsedTemplates,N));const de=Et.getUserScoped("quickfields_user",n,aa);S({...aa,...de});const ye=Rk(Et.getUserScoped("notas_user",n,[]),te);P(ye);const Me=Dk(Et.getUserScoped("pendencias_user",n,[]),te);O(Me),Y(Et.getUserScoped("sticky_user",n,[])),j(n)},[n,te]),w.useEffect(()=>{W.current=n},[n]),w.useEffect(()=>{A===W.current&&Et.setUserScoped("templates_user",W.current,_)},[_,A]),w.useEffect(()=>{var z;if(A!==W.current)return;const N=_.some(Z=>Z.id===y)?y:((z=_[0])==null?void 0:z.id)??"",R=dg(F,_);Et.setUserScoped("templates_state_user",W.current,{activeCategoryId:N,collapsedTemplates:R})},[y,F,_,A]),w.useEffect(()=>{A===W.current&&Et.setUserScoped("quickfields_user",W.current,b)},[b,A]),w.useEffect(()=>{A===W.current&&Et.setUserScoped("notas_user",W.current,T)},[T,A]),w.useEffect(()=>{A===W.current&&Et.setUserScoped("pendencias_user",W.current,I)},[I,A]),w.useEffect(()=>{A===W.current&&Et.setUserScoped("sticky_user",W.current,B)},[B,A]),w.useEffect(()=>{typeof window>"u"||window.localStorage.setItem("meta_pessoal",String($))},[$]),w.useEffect(()=>{async function N(){if(t){ue(!0);try{const[R,z,Z,de,ye]=await Promise.all([EA(),Od(t.uid,te),lk(t.uid,V),gv(t.uid),pv(te)]);r(R),a(Me=>({...Me,[te]:ug(z)})),d(Me=>({...Me,[te]:ye??null})),f(Z??{posts:0,stories:0}),g((de??[]).map(Me=>({url:Me.url,ts:Me.ts})))}catch(R){console.error(R),Ee.error("Falha ao carregar dados.")}finally{ue(!1)}}}N()},[t==null?void 0:t.uid,te,V]);const Ce=w.useMemo(()=>{if(!i||!t)return[];const{coordinatorId:N,sellers:R}=i.team;return t.uid===N?Array.from(new Set(R.filter(z=>z&&z!==t.uid))):R.includes(t.uid)?!N||N===t.uid?[]:[N]:[]},[i,t==null?void 0:t.uid]);w.useEffect(()=>{if(!i||!t)return;if(Ce.length===0){c(R=>{if(!R[te])return R;const z={...R};return delete z[te],z});return}let N=!0;return(async()=>{try{const R=await Promise.all(Ce.map(async z=>(await Od(z,te)).map(de=>({...de,sellerUid:de.sellerUid??z}))));if(!N)return;c(z=>({...z,[te]:R.flat()}))}catch(R){console.error(R)}})(),()=>{N=!1}},[i,t==null?void 0:t.uid,te,Ce]);const Pe=w.useMemo(()=>o[te]??[],[o,te]),Ge=w.useMemo(()=>Pe.filter(N=>!N.serviceOnly),[Pe]),{net:ke,gross:ze}=w.useMemo(()=>Ge.reduce((N,R)=>{var We,Ut;const z=Jr((We=R.services)==null?void 0:We.capa)+Jr((Ut=R.services)==null?void 0:Ut.impermeabilizacao),Z=Jr(R.gross??R.net??0),de=Jr(R.net??Z),ye=Z>z?Z-z:Z,Me=de>z?de-z:de;return N.net+=Me,N.gross+=ye,N},{net:0,gross:0}),[Ge]),Je=w.useMemo(()=>Pe.reduce((N,R)=>{var Me,We;const z=Jr((Me=R.services)==null?void 0:Me.capa),Z=Jr((We=R.services)==null?void 0:We.impermeabilizacao),de=z+Z,ye=R.serviceOnly?Math.max(de,Jr(R.net??R.gross??0)):de;return{total:N.total+ye,capa:N.capa+z,impermeabilizacao:N.impermeabilizacao+Z}},{total:0,capa:0,impermeabilizacao:0}),[Pe]),Ue=u[te],tn=t?(kx=Ue==null?void 0:Ue.pontualidade)==null?void 0:kx[t.uid]:void 0,Yt=t?(Tx=Ue==null?void 0:Ue.mlWeeks)==null?void 0:Tx[t.uid]:void 0,k=t?(Ex=Ue==null?void 0:Ue.bonus)==null?void 0:Ex[t.uid]:void 0,M=k!=null,D=(Ix=Ue==null?void 0:Ue.adesao)==null?void 0:Ix.capa,ee=(Px=Ue==null?void 0:Ue.adesao)==null?void 0:Px.impermeabilizacao,X=w.useMemo(()=>{var Ut;if(!i)return 0;const N=((Ut=i.services)==null?void 0:Ut.base_min)??0,R=typeof D=="number"&&D>0?D:N,z=typeof ee=="number"&&ee>0?ee:N,Z=Je.capa*R,de=Je.impermeabilizacao*z,ye=Math.max(Je.total-Je.capa-Je.impermeabilizacao,0),Me=Math.max(N,R,z),We=ye*Me;return Z+de+We},[i,D,ee,Je.total,Je.capa,Je.impermeabilizacao]),G=k!=null?Math.max(k-(tn??0)-(Yt??0),0):0,se=tn??(i==null?void 0:i.pontualidade_default)??0,Te=Ge.length,je=Math.max(5e4,$),Mt=je>0?Math.min(100,Math.round(ze/je*100)):0,nn=w.useMemo(()=>{if(!i||!t)return 0;const N=[...Pe,...l[te]??[]];if(N.length===0)return 0;const R=new Set;return N.reduce((z,Z)=>{const de=Z.sellerUid??"";if(!de)return z;const ye=`${de}:${Z.id??Z.orderId??Z.date}`;if(R.has(ye))return z;R.add(ye);const Me=yv(i,Z.net,de,i.team);return z+(Me[t.uid]??0)},0)},[i,t==null?void 0:t.uid,Pe,l,te]),At=w.useMemo(()=>{if(!i)return 0;if(M&&Yt!=null&&Yt>0)return Yt;const N=m.length>=50?60:m.length>=40?40:m.length>=30?20:0,R=SY(i,m.length);return Math.max(R,N)},[M,Yt,i,m.length]),$i=w.useMemo(()=>X+At+se+G,[X,At,se,G]),Wn=nn+$i;function is(N){try{const{pathname:R}=new URL(N),z=R.split("/").filter(Boolean),Z=z[z.length-1]??N,ye=decodeURIComponent(Z).replace(/[-_]?_[A-Z]{2}$/i,"");return ye.replace(/^[A-Z]{3}-\d+-/i,"").replace(/^\d+-/,"").replace(/[^a-z0-9-]+/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||ye||N}catch{return N}}const ui=w.useMemo(()=>m.reduce((N,R)=>ds(new Date(R.ts),"yyyy-MM-dd")===V?N+1:N,0),[m,V]),xs=w.useMemo(()=>{if(!i)return 0;const N=Math.min(h.posts/i.instagram.postsPerDay,1),R=Math.min(h.stories/i.instagram.storiesPerDay,1);return Math.round((N+R)/2*100)},[i,h]),Dl=w.useMemo(()=>Math.min(100,Math.round(ui/cg*100)),[ui]),rs=Math.round(xs*.7+Dl*.3),[Xo,Ol]=w.useState({half:!1,full:!1});w.useEffect(()=>{rs>=100&&!Xo.full?(tc({particleCount:100,spread:70,origin:{y:.7}}),Ee.success("Meta diaria concluida! Voce esta voando."),Ol({half:!0,full:!0})):rs>=50&&!Xo.half&&(Ee("Siga firme! Voce ja passou da metade do dia."),Ol(N=>({...N,half:!0})))},[rs,Xo]);const Qp=rs>=100?"Dia concluido com brilho! Compartilhe essa energia.":rs>=50?"Voce esta brilhando, mantenha o ritmo.":"Pequenos passos hoje, conquistas gigantes no fechamento.",zs=w.useCallback((N,R)=>{a(z=>{const Z=z[N]??[];return{...z,[N]:ug(R(Z))}})},[]),Us=ge.handleSubmit(async N=>{if(!t||!i)return;const R=N.orderId.trim(),z=R.endsWith("#"),Z=z?R.slice(0,-1):R,de=N.date.slice(0,7),ye={date:N.date,client:N.client,net:N.net,gross:N.gross,services:{capa:N.capa||0,impermeabilizacao:N.impermeabilizacao||0},sellerUid:t.uid,orderId:Z,serviceOnly:z,status:(ne==null?void 0:ne.sale.status)??"pendente"};try{if(ne){const Me=ne.month,We=ne.sale.id;if(Me!==de){await ak({uid:t.uid,month:Me,saleId:We});const Jo=await rk({...ye,createdAt:ne.sale.createdAt??new Date().toISOString()})??an("sale");zs(Me,Wi=>Wi.filter(Xp=>Xp.id!==We)),zs(de,Wi=>[{id:Jo,...ye,createdAt:ne.sale.createdAt??new Date().toISOString()},...Wi])}else{const Ut={...ye,createdAt:ne.sale.createdAt??new Date().toISOString()};await ok({uid:t.uid,month:de,saleId:We,data:Ut}),zs(de,Jo=>Jo.map(Wi=>Wi.id===We?{id:We,...Ut}:Wi))}Ee.success("Venda atualizada.")}else{const Me={...ye,createdAt:new Date().toISOString()},Ut=await rk(Me)??an("sale");zs(de,Xp=>[{id:Ut,...Me},...Xp]);const Wi=yv(i,N.net,t.uid,i.team)[t.uid]??0;tc({particleCount:120,spread:80,origin:{y:.6}}),Ee.success(`Venda registrada! Comissao estimada R$ ${Wi.toFixed(2)}`)}ae(null),ge.reset({date:V,client:"",orderId:"",net:0,gross:0,capa:0,impermeabilizacao:0})}catch(Me){console.error(Me),Ee.error("Erro ao salvar a venda.")}}),Zp=(N,R)=>{var z,Z;ae({month:N,sale:R}),ge.reset({date:R.date,client:R.client,orderId:R.serviceOnly?`${R.orderId??""}#`:R.orderId??"",net:R.net,gross:R.gross??R.net,capa:((z=R.services)==null?void 0:z.capa)??0,impermeabilizacao:((Z=R.services)==null?void 0:Z.impermeabilizacao)??0})},be=async(N,R)=>{if(t&&window.confirm(`Remover o pedido ${R.orderId??""} do dia?`))try{await ak({uid:t.uid,month:N,saleId:R.id}),zs(N,z=>z.filter(Z=>Z.id!==R.id)),ne&&ne.sale.id===R.id&&(ae(null),ge.reset({date:V,client:"",orderId:"",net:0,gross:0,capa:0,impermeabilizacao:0})),Ee.success("Venda removida.")}catch(z){console.error(z),Ee.error("Nao foi possivel remover a venda.")}},Ke=async(N,R,z)=>{if(t)try{await ok({uid:t.uid,month:N,saleId:R.id,data:{...R,status:z}}),zs(N,Z=>Z.map(de=>de.id===R.id?{...de,status:z}:de))}catch(Z){console.error(Z),Ee.error("Nao foi possivel atualizar o status.")}},st=async N=>{if(!i||!t)return;const R=N==="posts"?i.instagram.postsPerDay:i.instagram.storiesPerDay,Z=(h[N]??0)>=R;Z&&Ee("Meta atingida! Continue postando :)");const de=ds(hr(),"HH:mm");await J9({uid:t.uid,dateISO:V,type:N,time:N==="stories"?de:void 0});const ye=await lk(t.uid,V),Me={posts:(ye==null?void 0:ye.posts)??0,stories:(ye==null?void 0:ye.stories)??0};f(Me);const We=Me[N];!Z&&We>=R&&(N==="posts"&&(tc({particleCount:80,spread:70,origin:{y:.8}}),Ee.success("Post do dia feito!")),N==="stories"&&(tc({particleCount:80,spread:60,origin:{y:.8}}),Ee.success("Stories concluidos!")))},Hn=async()=>{if(!L.trim()||!t)return;const N=ui;try{await bY({uid:t.uid,url:L});const z=(await gv(t.uid)??[]).map(ye=>({url:ye.url,ts:ye.ts}));g(z),ie("");const Z=z.reduce((ye,Me)=>ds(new Date(Me.ts),"yyyy-MM-dd")===V?ye+1:ye,0);let de="Link registrado com sucesso!";N<Nk&&Z>=Nk?(tc({particleCount:80,spread:60,origin:{y:.7}}),de=`Meta ideal do Mercado Livre concluida! ${Z} anuncios no dia.`):N<Pk&&Z>=Pk?de=`Meta media do Mercado Livre alcancada! ${Z} anuncios no dia.`:N<cg&&Z>=cg&&(de=`Meta minima do Mercado Livre garantida! ${Z} anuncios no dia.`),Ee.success(de)}catch(R){console.error(R),Ee.error(R instanceof Error?R.message:"Erro ao registrar link")}},An=w.useCallback(async N=>{if(!t)return;const R=!o[N],z=Ce.length>0&&!l[N],Z=u[N]===void 0;if(!(!R&&!z&&!Z))try{if(R){const de=await Od(t.uid,N);a(ye=>({...ye,[N]:ug(de)}))}if(z){const de=await Promise.all(Ce.map(async ye=>(await Od(ye,N)).map(We=>({...We,sellerUid:We.sellerUid??ye}))));c(ye=>({...ye,[N]:de.flat()}))}if(Z){const de=await pv(N);d(ye=>({...ye,[N]:de??null}))}}catch(de){console.error(de),Ee.error("Nao foi possivel carregar vendas do mes selecionado.")}},[t,o,Ce,l,u]),$s=async()=>{await e(),s("/login")},Ws=Object.keys(b).length>0?Object.keys(b):kk,Rn=w.useMemo(()=>{const N=new Set(Object.keys(o));return N.add(te),Array.from(N).sort().reverse()},[o,te]),Rt=_.find(N=>N.id===y)??_[0],Ll=w.useMemo(()=>{var Me;const N=((Me=i==null?void 0:i.ml_bonus)==null?void 0:Me.tiers)??[];if(N.length===0)return{label:"Aquecendo",icon:null};const R=[...N].sort((We,Ut)=>We.min-Ut.min),z=m.length,Z=R.findIndex(We=>z>=We.min&&z<=(We.max??Number.POSITIVE_INFINITY)),de=Z===-1&&z>0?R.length-1:Z;if(de===-1)return{label:"Aquecendo",icon:null};const ye=[{label:"Bronze",icon:"/icons/bronze.png"},{label:"Prata",icon:"/icons/prata.png"},{label:"Ouro",icon:"/icons/ouro.png"}];return ye[Math.min(de,ye.length-1)]??{label:"Aquecendo",icon:null}},[i,m.length]),wD=["Resumo em tempo real.",`Pedidos no mes: ${Te}`,`Status: ${Mt}%`,`Meta definida: R$ ${je.toLocaleString("pt-BR",{minimumFractionDigits:2})}`].join(`
`),bD=[M?"Valores finais confirmados pelo fechamento.":"Sujeita a conferencias do admin.",`Valor da comissao por faturamento liquido: R$ ${nn.toFixed(2)}`,`Valor da comissao por servicos vendidos: R$ ${X.toFixed(2)}`,`Bonus de faturamento: R$ ${G.toFixed(2)}`,`Bonus do ML: R$ ${At.toFixed(2)}`,`Bonus assiduidade: R$ ${se.toFixed(2)}`,`Total com bonus${M?" do fechamento":""}: R$ ${Wn.toFixed(2)}`].join(`
`),SD=["Dia atual focado nos links.",`Medalha da semana: ${Ll.label}`,`Semana: ${m.length} links`].join(`
`),CD=["Posts e stories enviados.","Use o planner para marcar horarios e manter o ritmo."].join(`
`);return fe?p.jsx("div",{className:"flex h-screen items-center justify-center text-lg",children:"Carregando painel..."}):!t||!i?p.jsx("div",{className:"flex h-screen items-center justify-center text-lg",children:"Configuracao indisponivel."}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#cfe7ff] via-[#dfe8ff] to-[#ffd9e6] sm:to-[#c9ffe6] pb-16",children:[p.jsx("header",{className:"sticky top-0 z-30 border-b border-slate-200 bg-white/90 backdrop-blur",children:p.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-4 px-4 py-4 md:flex-row md:items-center md:justify-between",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-2xl font-semibold text-slate-900",children:["Bom dia, ",t.name.split(" ")[0],"!"]}),p.jsx("p",{className:"text-sm text-slate-600",children:Qp})]}),p.jsxs("div",{className:"w-full max-w-lg",children:[p.jsx("div",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Progresso do dia"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-1 rounded-3xl border border-white/30 bg-white/20 p-1 shadow-lg backdrop-blur-md",children:p.jsx(ZA,{value:rs,className:"relative h-6 w-full overflow-hidden rounded-full bg-transparent",indicatorClassName:"bg-gradient-to-r from-[#5A8DEE] via-[#7FD1FF] to-[#9FF2D0] transition-all duration-300"})}),p.jsxs("span",{className:"ml-2 text-sm font-medium text-slate-800",children:[rs,"%"]})]})]}),p.jsxs(Fe,{variant:"outline",onClick:$s,children:[p.jsx(g7,{className:"w-4 h-4 opacity-80"})," Sair"]})]})}),p.jsx("main",{className:"mx-auto mt-6 flex max-w-6xl flex-col gap-6 px-4",children:p.jsxs(xR,{value:E,onValueChange:N=>C(N),className:"w-full",children:[p.jsxs(ux,{className:"bg-white",children:[p.jsx(_o,{value:"overview",children:"Painel"}),p.jsx(_o,{value:"tools",children:"Ferramentas"})]}),p.jsxs(xo,{value:"overview",className:"mt-6 space-y-6",children:[B.length>0&&p.jsx("section",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:B.slice(0,8).map(N=>p.jsxs("div",{style:{backgroundImage:`url(${Rr(N.color)||Rr("yellow")})`},className:"relative mx-auto flex aspect-square w-full min-w-[160px] max-w-[220px] flex-col justify-between bg-cover bg-center bg-no-repeat p-3 text-sm text-slate-900 sm:p-4",children:[p.jsx("div",{className:"flex-1 overflow-y-auto whitespace-pre-wrap break-words pr-2 pl-4 pt-6",children:N.text}),N.date&&p.jsxs("p",{className:"mt-2 text-xs font-semibold text-slate-600",children:["Ate ",ds(new Date(N.date),"dd/MM")]})]},N.id))}),p.jsxs("section",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[p.jsxs(ot,{className:"group overflow-visible",title:wD,tabIndex:0,children:[p.jsx("img",{src:"/icons/vendas.png",alt:"","aria-hidden":"true",className:"absolute -top-6 -right-4 w-16 max-w-[55%] pointer-events-none select-none opacity-80 sm:-top-8 sm:-right-5 sm:w-20"}),p.jsxs(at,{className:"pb-2",children:[p.jsx(pt,{children:"Vendas do mes"}),p.jsx(mt,{className:"sr-only",children:"Resumo em tempo real."})]}),p.jsx(lt,{children:p.jsxs("div",{className:"text-3xl font-semibold text-slate-900",children:["R$ ",ze.toFixed(2)]})}),p.jsxs("div",{className:"sr-only",children:[p.jsx("p",{children:"Resumo em tempo real."}),p.jsxs("p",{children:["Pedidos no mes: ",Te,"."]}),p.jsxs("p",{children:["Status: ",Mt,"%."]}),p.jsxs("p",{children:["Meta definida: R$ ",je.toLocaleString("pt-BR",{minimumFractionDigits:2}),"."]})]})]}),p.jsxs(ot,{className:"group overflow-visible",title:bD,tabIndex:0,children:[p.jsx("img",{src:"/icons/dinheiro.png",alt:"","aria-hidden":"true",className:"absolute -top-6 -right-4 w-16 max-w-[55%] pointer-events-none select-none opacity-80 sm:-top-8 sm:-right-5 sm:w-20"}),p.jsxs(at,{className:"pb-2",children:[p.jsx(pt,{children:"Comissao estimada"}),p.jsx(mt,{className:"sr-only",children:"Sujeita a conferencias do admin."})]}),p.jsxs(lt,{children:[p.jsxs("div",{className:"text-3xl font-semibold text-slate-900",children:["R$ ",nn.toFixed(2)]}),p.jsxs("div",{className:"mt-1 text-sm text-slate-500",children:["Com bonus: ",p.jsxs("span",{className:"font-semibold text-slate-800",children:["R$ ",Wn.toFixed(2)]})]})]}),p.jsxs("div",{className:"sr-only",children:[p.jsxs("p",{children:["Valor da comissao por faturamento liquido: R$ ",nn.toFixed(2),"."]}),p.jsxs("p",{children:["Valor da comissao por servicos vendidos: R$ ",X.toFixed(2),"."]}),p.jsxs("p",{children:["Bonus de faturamento: R$ ",G.toFixed(2),"."]}),p.jsxs("p",{children:["Bonus do ML: R$ ",At.toFixed(2),"."]}),p.jsxs("p",{children:["Bonus assiduidade: R$ ",se.toFixed(2),"."]}),p.jsxs("p",{children:["Total com bonus",M?" do fechamento":"",": R$ ",Wn.toFixed(2),"."]}),M&&p.jsx("p",{children:"Fechamento publicado para este mes."})]})]}),p.jsxs(ot,{className:"group overflow-visible",title:SD,tabIndex:0,children:[p.jsx("img",{src:"/icons/mercadolivre.png",alt:"","aria-hidden":"true",className:"absolute -top-6 -right-4 w-16 max-w-[55%] pointer-events-none select-none opacity-80 sm:-top-8 sm:-right-5 sm:w-20"}),p.jsxs(at,{className:"pb-2",children:[p.jsx(pt,{children:"Anuncios Mercado Livre"}),p.jsx(mt,{className:"sr-only",children:"Dia atual focado nos links."})]}),p.jsx(lt,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"text-3xl font-semibold text-slate-900",children:ui}),Ll.icon&&p.jsx("img",{src:Ll.icon,alt:`Medalha ${Ll.label}`,className:"h-8 w-8 shrink-0"})]})}),p.jsxs("div",{className:"sr-only",children:[p.jsxs("p",{children:["Medalha da semana: ",Ll.label,"."]}),p.jsxs("p",{children:["Semana: ",m.length," links."]})]})]}),p.jsxs(ot,{className:"group overflow-visible",title:CD,tabIndex:0,children:[p.jsx("img",{src:"/icons/instagram.png",alt:"","aria-hidden":"true",className:"absolute -top-6 -right-4 w-16 max-w-[55%] pointer-events-none select-none opacity-80 sm:-top-8 sm:-right-5 sm:w-20"}),p.jsxs(at,{className:"pb-2",children:[p.jsx(pt,{children:"Instagram hoje"}),p.jsx(mt,{className:"sr-only",children:"Posts e stories enviados."})]}),p.jsx(lt,{children:p.jsxs("div",{className:"text-3xl font-semibold text-slate-900",children:[h.posts,"/",i.instagram.postsPerDay," posts - ",h.stories,"/",i.instagram.storiesPerDay," stories"]})}),p.jsx("div",{className:"sr-only",children:p.jsx("p",{children:"Use o planner para marcar horarios e manter o ritmo."})})]})]}),p.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[p.jsxs(ot,{className:"lg:col-span-2",children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Planner Instagram"}),p.jsxs(mt,{children:["Metas diarias: ",i.instagram.postsPerDay," post / ",i.instagram.storiesPerDay," stories."]})]}),p.jsxs(lt,{children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p.jsxs(Fe,{onClick:()=>st("posts"),children:[p.jsx(Ck,{className:"w-4 h-4 opacity-80"})," Marcar post feito"]}),p.jsxs(Fe,{variant:"outline",onClick:()=>st("stories"),children:[p.jsx(Ck,{className:"w-4 h-4 opacity-80"})," Marcar story agora"]}),p.jsx(wk,{className:"border border-slate-300 bg-white text-slate-600",children:"Streak em construcao"})]}),p.jsxs("div",{className:"mt-4 grid gap-2 text-sm",children:[p.jsx("p",{className:"font-semibold text-slate-700",children:"Sugestoes de horarios"}),p.jsx("ul",{className:"grid gap-2 md:grid-cols-2",children:["09:30","11:30","14:30","16:30","#TBT quinta","Visite o showroom (sexta tarde)","Sabado: estamos abertos!"].map(N=>p.jsx("li",{className:"rounded-lg border border-dashed border-brand-200 bg-brand-50 px-3 py-2 text-brand-700",children:N},N))})]})]})]}),p.jsxs(ot,{children:[p.jsx("img",{src:"/icons/meta.png",alt:"","aria-hidden":"true",className:"absolute -top-3 -right-2 sm:-top-4 sm:-right-3 w-10 sm:w-12 max-w-[45%] opacity-80 pointer-events-none select-none"}),p.jsxs(at,{children:[p.jsx(pt,{children:"Meta pessoal do mes"}),p.jsx(mt,{children:"Escolha sua meta minima de 50.000 e acompanhe a jornada."})]}),p.jsx(lt,{children:p.jsx(P7,{netTotal:ke,value:$,onChange:U})})]})]}),p.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[p.jsxs(ot,{className:"flex flex-col lg:min-h-[640px]",children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Anuncios Mercado Livre"}),p.jsx(mt,{children:"Cadastre os links unicos do dia para garantir o bonus semanal."})]}),p.jsxs(lt,{className:"flex flex-col flex-1",children:[p.jsxs("div",{className:"flex gap-2 shrink-0",children:[p.jsx(et,{value:L,onChange:N=>ie(N.target.value),placeholder:"https://produto.mercadolivre.com.br/...","aria-label":"URL do anuncio"}),p.jsxs(Fe,{onClick:Hn,children:[p.jsx(p7,{className:"w-4 h-4 opacity-80"})," Adicionar"]})]}),p.jsxs("p",{className:"mt-2 shrink-0 text-xs text-slate-500",children:["Semana ",we," - bonus atual R$ ",At.toFixed(2)," (",m.length," links)"]}),p.jsxs("ul",{className:"mt-3 flex-1 min-h-0 max-h-[750px] space-y-2 overflow-y-auto text-sm",children:[m.map(N=>p.jsxs("li",{className:"flex items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2",children:[p.jsx("span",{className:"truncate text-slate-700",title:N.url,children:is(N.url)}),p.jsx("span",{className:"text-xs text-slate-400",children:ds(new Date(N.ts),"dd/MM HH:mm")})]},N.url)),m.length===0&&p.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum link cadastrado ainda."})]})]})]}),p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Registrar venda"}),p.jsx(mt,{children:"Valores liquidos, servicos e ajustes entram no calculo da comissao."})]}),p.jsxs(lt,{children:[p.jsxs("form",{className:"grid gap-3",onSubmit:Us,children:[p.jsxs("div",{className:"grid gap-1",children:[p.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Data"}),p.jsx(et,{type:"date",...ge.register("date")})]}),p.jsxs("div",{className:"grid gap-1",children:[p.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Cliente"}),p.jsx(et,{placeholder:"Nome da cliente",...ge.register("client")})]}),p.jsxs("div",{className:"grid gap-1",children:[p.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Pedido"}),p.jsx(et,{placeholder:"#",...ge.register("orderId")}),p.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Use # para registrar apenas servicos (ex.: 2222#)"})]}),p.jsxs("div",{className:"grid gap-1",children:[p.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Valor liquido (R$)"}),p.jsx(et,{inputMode:"decimal",pattern:"[0-9.,]*",...ge.register("net")})]}),p.jsxs("div",{className:"grid gap-1",children:[p.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Valor bruto (R$)"}),p.jsx(et,{inputMode:"decimal",pattern:"[0-9.,]*",...ge.register("gross")})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Capa"}),p.jsx(et,{inputMode:"decimal",pattern:"[0-9.,]*",...ge.register("capa")})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Impermeabilizacao"}),p.jsx(et,{inputMode:"decimal",pattern:"[0-9.,]*",...ge.register("impermeabilizacao")})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Fe,{type:"submit",children:ne?"Atualizar venda":"Salvar venda"}),ne&&p.jsx(Fe,{type:"button",variant:"ghost",onClick:()=>{ae(null),ge.reset({date:V,client:"",orderId:"",net:0,gross:0,capa:0,impermeabilizacao:0})},children:"Cancelar edicao"})]})]}),p.jsxs("div",{className:"mt-6 space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase text-slate-500",children:[p.jsx("span",{children:"Vendas registradas"}),p.jsx("span",{children:Te})]}),Pe.length===0?p.jsx("p",{className:"text-sm text-slate-500",children:"Sem vendas registradas neste mes."}):p.jsx("div",{className:"max-h-72 overflow-y-auto pr-1",children:p.jsx("ul",{className:"space-y-2",children:Pe.map(N=>{const R=N.status??"pendente",z=Ik[R],Z=N.client.split(" ")[0]??N.client;return p.jsxs("li",{className:dn("flex flex-col gap-2 rounded-md border bg-white p-3 text-sm text-slate-700 md:flex-row md:items-center md:justify-between",z.className),children:[p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[p.jsx("span",{className:"font-semibold",children:Z}),p.jsxs("span",{className:"text-xs text-slate-500",children:["#",N.orderId??"sem-id"]}),N.serviceOnly&&p.jsx(wk,{className:"border border-slate-300 bg-white text-slate-600",children:"Servico"})]}),p.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-slate-500",children:[p.jsxs("span",{children:["Liquido: R$ ",N.net.toFixed(2)]}),p.jsxs("span",{children:["Bruto: R$ ",(N.gross??0).toFixed(2)]}),p.jsxs("span",{children:["Data: ",ds(new Date(N.date),"dd/MM")]})]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[p.jsx("select",{className:"rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-700",value:R,onChange:de=>Ke(te,N,de.target.value),children:Object.entries(Ik).map(([de,ye])=>p.jsx("option",{value:de,children:ye.label},de))}),p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>Zp(te,N),children:p.jsx(_v,{className:"w-4 h-4 opacity-80"})}),p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>be(te,N),children:p.jsx(Nu,{className:"w-4 h-4 opacity-80"})})]})]},N.id)})})})]})]})]})]}),p.jsx(E7,{months:Rn,currentMonth:te,salesByMonth:o,notes:T,onUpsert:N=>{P(R=>R.find(Z=>Z.id===N.id)?R.map(Z=>Z.id===N.id?N:Z):[...R,N])},onDelete:N=>P(R=>R.filter(z=>z.id!==N)),onRequestMonth:An}),p.jsx(I7,{months:Rn,currentMonth:te,salesByMonth:o,items:I,onCreate:N=>O(R=>[...R,N]),onRemove:N=>O(R=>R.filter(z=>z.id!==N)),onRequestMonth:An})]}),p.jsxs(xo,{value:"tools",className:"mt-6 space-y-6",children:[p.jsxs("section",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[p.jsx("aside",{className:"space-y-4",children:p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Preenchimentos rapidos"}),p.jsx(mt,{children:"Defina os valores usados nas chaves dos templates."})]}),p.jsxs(lt,{className:"space-y-4",children:[p.jsx("div",{className:"space-y-3",children:Object.entries(b).map(([N,R])=>p.jsxs("div",{className:"space-y-1 text-xs",children:[p.jsx("label",{className:"font-semibold uppercase text-slate-600",children:N}),p.jsx(et,{value:R??"",onChange:z=>S(Z=>({...Z,[N]:z.target.value})),placeholder:`[${N}]`,className:"h-9 text-sm"}),!kk.includes(N)&&p.jsx(Fe,{type:"button",variant:"ghost",size:"sm",className:"self-start text-[11px]",onClick:()=>{S(z=>{const Z={...z};return delete Z[N],Z})},children:"Remover campo"})]},N))}),p.jsxs("div",{className:"space-y-2 rounded-md border border-dashed border-slate-300 bg-slate-50 p-3 text-xs text-slate-600",children:[p.jsx("p",{className:"font-semibold text-slate-700",children:"Chaves disponiveis"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Ws.map(N=>p.jsxs("span",{className:"rounded border border-slate-200 bg-white px-2 py-1 font-mono text-[11px] text-slate-700",children:["[",N,"]"]},N))}),p.jsx("p",{children:"Digite um novo identificador e clique em adicionar para criar chaves personalizadas."})]}),p.jsx(S7,{onAdd:N=>S(R=>({...R,[N]:""})),existing:b})]})]})}),p.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row",children:[p.jsxs("div",{className:"w-full max-w-[240px] space-y-3",children:[p.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Ficharios"}),p.jsx("div",{className:"space-y-2",children:_.map(N=>p.jsxs("div",{className:dn("group flex items-center justify-between rounded-md border px-3 py-2 text-sm shadow-sm transition",N.id===y?"border-slate-900 bg-slate-900/5 text-slate-900":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"),children:[p.jsx("button",{type:"button",className:"flex flex-1 items-center truncate rounded-full border border-white/30 bg-white/20 px-5 py-2.5 text-left font-medium text-slate-800 shadow backdrop-blur-md transition-all duration-200 hover:bg-white/30 hover:shadow-lg active:scale-[0.98] focus:outline-none focus-visible:outline-none focus:ring-2 focus:ring-white/60 focus-visible:ring-2 focus-visible:ring-white/60",onClick:()=>x(N.id),children:N.name}),p.jsxs("div",{className:"flex items-center gap-1 opacity-0 transition group-hover:opacity-100",children:[p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const R=prompt("Renomear fichario",N.name);R&&v(z=>z.map(Z=>Z.id===N.id?{...Z,name:R}:Z))},children:p.jsx(_v,{className:"w-4 h-4 opacity-80"})}),_.length>1&&p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>{if(window.confirm("Remover fichario?")&&(v(R=>R.filter(z=>z.id!==N.id)),y===N.id)){const R=_.find(z=>z.id!==N.id);x((R==null?void 0:R.id)??"")}},children:p.jsx(Nu,{className:"w-4 h-4 opacity-80"})})]})]},N.id))}),p.jsx(Fe,{type:"button",variant:"outline",className:"w-full",onClick:()=>{const N=prompt("Nome do novo fichario","Novo fichario");if(!N)return;const R={id:an("cat"),name:N,templates:[]};v(z=>[...z,R]),x(R.id)},children:"+ Novo fichario"})]}),p.jsxs("div",{className:"flex-1 space-y-4",children:[p.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(Rt==null?void 0:Rt.name)??"Templates"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Salve respostas padrao por canal ou tema."})]}),p.jsx(Fe,{type:"button",variant:"outline",onClick:()=>{if(!Rt)return;const N={id:an("tpl"),name:"Novo template",content:"Ola [cliente]! Segue o orcamento do [modelo]."};v(R=>R.map(z=>z.id===Rt.id?{...z,templates:[...z.templates,N]}:z))},children:"Novo template"})]}),Rt!=null&&Rt.templates.length?p.jsx("div",{className:"space-y-4",children:Rt.templates.map(N=>p.jsx(C7,{template:N,placeholderKeys:Ws,quickFields:b,collapsed:F[N.id]??!1,onToggleCollapse:R=>q(z=>({...z,[R]:!z[R]})),onChange:R=>{v(z=>z.map(Z=>Z.id===Rt.id?{...Z,templates:Z.templates.map(de=>de.id===R.id?R:de)}:Z))},onCopy:R=>k7(R,b),onDelete:R=>{v(z=>z.map(Z=>Z.id===Rt.id?{...Z,templates:Z.templates.filter(de=>de.id!==R)}:Z)),q(z=>{if(!(R in z))return z;const Z={...z};return delete Z[R],Z})}},N.id))}):p.jsxs("div",{className:"rounded-md border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500",children:["Nenhum template neste fichario. Clique em ",p.jsx("span",{className:"font-semibold",children:"Novo template"})," para cadastrar o primeiro texto."]})]})]})]}),p.jsx(T7,{notes:B,onCreate:({text:N,date:R})=>Y(z=>[...z,{id:an("note"),text:N,date:R,color:Ek[Math.floor(Math.random()*Ek.length)]}]),onRemove:N=>Y(R=>R.filter(z=>z.id!==N))}),p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Backup local"}),p.jsx(mt,{children:"Exporte ou importe os dados armazenados neste dispositivo."})]}),p.jsxs(lt,{className:"space-y-3",children:[p.jsx(Fe,{variant:"outline",onClick:()=>{const N=Et.exportAll(n);if(!N)return;const R=new Blob([N],{type:"application/json"}),z=URL.createObjectURL(R),Z=document.createElement("a");Z.href=z,Z.download=`painel-${n}-${V}.json`,Z.click(),URL.revokeObjectURL(z)},className:"w-full",children:"Exportar JSON"}),p.jsxs("label",{className:"flex h-10 cursor-pointer items-center justify-center rounded-md border border-dashed border-slate-300 text-sm text-slate-600 transition hover:bg-slate-100",children:["Importar JSON",p.jsx("input",{type:"file",accept:"application/json",onChange:async N=>{var We,Ut;const R=(We=N.target.files)==null?void 0:We[0];if(!R)return;const z=await R.text();Et.importAll(n,z);const Z=Ak(Et.getUserScoped("templates_user",n,[]));v(Z);const de=Et.getUserScoped("templates_state_user",n,Tk),ye=((Ut=Z[0])==null?void 0:Ut.id)??"",Me=Z.some(Jo=>Jo.id===de.activeCategoryId)?de.activeCategoryId:ye;x(Me),q(dg(de.collapsedTemplates,Z)),S({...aa,...Et.getUserScoped("quickfields_user",n,aa)}),P(Rk(Et.getUserScoped("notas_user",n,[]),te)),O(Dk(Et.getUserScoped("pendencias_user",n,[]),te)),Y(Et.getUserScoped("sticky_user",n,[])),Ee.success("Dados importados com sucesso.")},className:"hidden"})]})]})]})]})]})})]})}function S7({onAdd:t,existing:e}){const[n,s]=w.useState("");return p.jsxs("div",{className:"flex gap-2",children:[p.jsx(et,{value:n,placeholder:"nome_do_campo",onChange:i=>s(i.target.value)}),p.jsx(Fe,{type:"button",onClick:()=>{const i=n.trim().toLowerCase().replace(/\s+/g,"_");if(!i){Ee.error("Informe um nome para o campo.");return}if(e[i]){Ee.error("Este campo ja existe.");return}t(i),s("")},children:"Adicionar"})]})}function C7({template:t,placeholderKeys:e,quickFields:n,collapsed:s,onToggleCollapse:i,onChange:r,onCopy:o,onDelete:a}){const l=w.useRef(null),[c,u]=w.useState(!1),d=h=>{const f=l.current;if(!f)return;const m=f.selectionStart??0,g=f.selectionEnd??0,_=`${t.content.slice(0,m)}[${h}]${t.content.slice(g)}`;r({...t,content:_}),u(!1),requestAnimationFrame(()=>{const v=m+h.length+2;f.selectionStart=f.selectionEnd=v,f.focus()})};return p.jsxs(ot,{className:"border border-slate-200 bg-white",children:[p.jsxs(at,{className:"flex-row items-center justify-between",children:[p.jsx(et,{value:t.name,onChange:h=>r({...t,name:h.target.value}),className:"max-w-sm border-none px-0 text-base font-semibold"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(t.id),children:p.jsx(f7,{className:"w-4 h-4 opacity-80"})}),p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>o(t),children:p.jsx(m7,{className:"w-4 h-4 opacity-80"})}),p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(t.id),children:p.jsx(Nu,{className:"w-4 h-4 opacity-80"})})]})]}),!s&&p.jsxs(lt,{className:"space-y-3",children:[p.jsx(Al,{ref:l,value:t.content,rows:4,onChange:h=>r({...t,content:h.target.value}),onKeyDown:h=>{h.key==="["&&u(!0),h.key==="Escape"&&u(!1)}}),c&&p.jsxs("div",{className:"flex flex-wrap gap-2 rounded-md border border-slate-200 bg-slate-50 p-2 text-xs text-slate-600",children:[e.map(h=>p.jsxs(Fe,{type:"button",variant:"outline",size:"sm",onMouseDown:f=>{f.preventDefault(),d(h)},children:["[",h,"]"]},h)),p.jsx(Fe,{type:"button",variant:"ghost",size:"sm",onMouseDown:h=>{h.preventDefault(),u(!1)},children:"fechar"})]}),p.jsxs("div",{className:"text-xs text-slate-500",children:["Valores atuais: ",e.map(h=>`${h}=${n[h]??""}`).join(" | ")]})]})]})}function k7(t,e){if(!t.content){Ee.error("Template sem conteudo.");return}let n=t.content;Object.entries(e).forEach(([s,i])=>{n=n.split(`[${s}]`).join(i??"")}),navigator.clipboard.writeText(n),Ee.success("Texto copiado! Personalize no app desejado.")}function T7({notes:t,onCreate:e,onRemove:n}){const[s,i]=w.useState(""),[r,o]=w.useState(""),a=()=>{if(!s.trim()){Ee.error("Escreva a nota antes de adicionar.");return}e({text:s.trim(),date:r||void 0}),i(""),o("")};return p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Notas pessoais"}),p.jsx(mt,{children:"Escreva lembretes e deixe-os visiveis ao entrar no painel."})]}),p.jsx(lt,{children:p.jsxs("div",{className:"grid gap-4 rounded-3xl bg-white/75 p-4 backdrop-blur-sm lg:grid-cols-[280px_1fr]",children:[p.jsxs("div",{className:"flex h-full flex-col gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[p.jsx(Al,{rows:4,placeholder:"Escreva lembretes curtos",value:s,onChange:l=>i(l.target.value),className:"resize-none text-sm"}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p.jsx(et,{type:"date",value:r,onChange:l=>o(l.target.value),className:"h-9 w-auto text-sm"}),p.jsxs(Fe,{type:"button",onClick:a,children:[p.jsx(y7,{className:"w-4 h-4 opacity-80"})," Adicionar nota"]})]}),p.jsx("p",{className:"text-[11px] text-slate-500",children:"Dica: use a data para destacar tarefas com prazo."})]}),t.length===0?p.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-slate-200 p-6 text-sm text-slate-500",children:"Sem notas ainda."}):p.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:t.map(l=>p.jsxs("div",{style:{backgroundImage:`url(${Rr(l.color)||Rr("yellow")})`},className:"relative mx-auto flex aspect-square w-full min-w-[160px] max-w-[220px] flex-col justify-between bg-cover bg-center bg-no-repeat p-3 text-sm text-slate-900 sm:p-4",children:[p.jsx("button",{type:"button",className:"absolute right-2 top-2 grid h-9 w-9 place-items-center rounded-full border border-white/30 bg-white/20 text-sm font-medium text-slate-800 shadow backdrop-blur-md transition-all duration-200 hover:bg-white/30 hover:shadow-md active:scale-[0.98] focus:outline-none focus-visible:outline-none focus:ring-2 focus:ring-white/60 focus-visible:ring-2 focus-visible:ring-white/60",onClick:()=>n(l.id),"aria-label":"Remover nota",children:"x"}),p.jsx("div",{className:"flex-1 overflow-y-auto whitespace-pre-wrap break-words pr-2 pl-4 pt-6",children:l.text}),l.date&&p.jsxs("p",{className:"mt-3 text-xs font-semibold text-slate-600",children:["Ate ",ds(new Date(l.date),"dd/MM")]})]},l.id))})]})})]})}function E7({months:t,currentMonth:e,salesByMonth:n,notes:s,onUpsert:i,onDelete:r,onRequestMonth:o}){const[a,l]=w.useState(e),[c,u]=w.useState(""),[d,h]=w.useState(""),[f,m]=w.useState(null);w.useEffect(()=>{a&&!n[a]&&o(a)},[a,n,o]);const g=n[a]??[],_=s.filter(y=>y.month===a),v=()=>{var x;if(!c){Ee.error("Escolha o pedido.");return}if(!d.trim()){Ee.error("Escreva a nota.");return}const y={id:f??an("note"),saleId:c,month:a,text:d.trim(),createdAt:f?((x=_.find(b=>b.id===f))==null?void 0:x.createdAt)??new Date().toISOString():new Date().toISOString()};i(y),m(null),u(""),h("")};return p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Notas por pedido"}),p.jsx(mt,{children:"Registre observacoes especificas de cada atendimento."})]}),p.jsx(lt,{children:p.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr]",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Mes de referencia"}),p.jsx("select",{className:"w-full rounded-md border border-slate-200 bg-white px-2 py-2 text-sm",value:a,onChange:y=>{l(y.target.value),u(""),h(""),m(null)},children:t.map(y=>p.jsx("option",{value:y,children:y},y))})]}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Escolha o pedido"}),p.jsxs("select",{className:"w-full rounded-md border border-slate-200 bg-white px-2 py-2 text-sm",value:c,onChange:y=>u(y.target.value),children:[p.jsx("option",{value:"",children:"Selecione o pedido"}),g.map(y=>p.jsxs("option",{value:y.id,children:["#",y.orderId??"sem-id"," - ",y.client]},y.id))]})]}),p.jsx(Al,{rows:4,placeholder:"Resumo do atendimento, preferencias ou proximos passos",value:d,onChange:y=>h(y.target.value)}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx(Fe,{type:"button",onClick:v,children:f?"Atualizar nota":"Salvar nota"}),f&&p.jsx(Fe,{type:"button",variant:"ghost",onClick:()=>{m(null),u(""),h("")},children:"Cancelar"})]})]}),_.length===0?p.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-slate-200 p-6 text-sm text-slate-500",children:"Sem notas para este mes."}):p.jsx("ul",{className:"space-y-3 text-sm text-slate-700",children:_.map((y,x)=>{const b=g.find(O=>O.id===y.saleId),S=y.color??y.theme??void 0,T=Mk[x%Mk.length],P=S&&Rr(S)?S:T,I=Rr(P)||Rr(T);return p.jsxs("li",{className:"relative flex flex-col gap-3 rounded-2xl bg-left bg-no-repeat p-6 pl-16 pr-6 text-slate-800 md:flex-row md:items-center md:justify-between md:pl-24",style:{backgroundImage:`url(${I})`,backgroundSize:"100% 100%",backgroundPosition:"left center"},children:[p.jsxs("div",{className:"flex-1 text-sm md:max-w-[65%] ml-2 md:ml-4",children:[p.jsxs("p",{className:"font-semibold text-slate-700",children:["#",(b==null?void 0:b.orderId)??"sem-id"," - ",(b==null?void 0:b.client)??"Pedido fora do mes"]}),p.jsx("div",{className:"mt-1 max-h-32 overflow-y-auto whitespace-pre-wrap break-words pr-1 text-xs text-slate-500",children:y.text})]}),p.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>{m(y.id),l(y.month),u(y.saleId),h(y.text)},children:p.jsx(_v,{className:"w-4 h-4 opacity-80"})}),p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>r(y.id),children:p.jsx(Nu,{className:"w-4 h-4 opacity-80"})})]})]},y.id)})})]})})]})}function I7({months:t,currentMonth:e,salesByMonth:n,items:s,onCreate:i,onRemove:r,onRequestMonth:o}){const[a,l]=w.useState(e),[c,u]=w.useState(""),[d,h]=w.useState(""),[f,m]=w.useState(Ea[0]),[g,_]=w.useState("");w.useEffect(()=>{a&&!n[a]&&o(a)},[a,n,o]);const v=n[a]??[],y=s.filter(T=>T.month===a),x=w.useMemo(()=>{const T=new Map;for(const P of y)if(!T.has(P.saleId)){const I=v.find(B=>B.id===P.saleId),O=`#${(I==null?void 0:I.orderId)??"sem-id"} - ${(I==null?void 0:I.client)??"Pedido fora do mes"}`;T.set(P.saleId,O)}return Array.from(T.entries()).map(([P,I])=>({id:P,label:I}))},[y,v]),b=w.useMemo(()=>g?y.filter(T=>T.saleId===g):y,[y,g]),S=()=>{if(!c){Ee.error("Escolha o pedido.");return}if(!d.trim()){Ee.error("Descreva a pendencia.");return}i({id:an("todo"),saleId:c,text:d.trim(),color:f,month:a,createdAt:new Date().toISOString()}),u(""),h(""),m(Ea[0]),_("")};return p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Pendencias de pedidos"}),p.jsx(mt,{children:"Controle pagamentos, fretes e entregas que precisam de acompanhamento."})]}),p.jsx(lt,{children:p.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr]",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Mes"}),p.jsx("select",{className:"w-full rounded-md border border-slate-200 bg-white px-2 py-2 text-sm",value:a,onChange:T=>{l(T.target.value),u(""),h(""),m(Ea[0]),_("")},children:t.map(T=>p.jsx("option",{value:T,children:T},T))})]}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Pedido"}),p.jsxs("select",{className:"w-full rounded-md border border-slate-200 bg-white px-2 py-2 text-sm",value:c,onChange:T=>u(T.target.value),children:[p.jsx("option",{value:"",children:"Selecione o pedido"}),v.map(T=>p.jsxs("option",{value:T.id,children:["#",T.orderId??"sem-id"," - ",T.client]},T.id))]})]}),p.jsx(Al,{rows:3,placeholder:"Ex.: Falta pagar o frete",value:d,onChange:T=>h(T.target.value)}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsx("span",{className:"text-xs font-semibold uppercase text-slate-600",children:"Cor"}),p.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Ea.map(T=>p.jsx("button",{type:"button",className:dn("h-6 w-6 rounded-full border",f===T?"border-slate-900":"border-transparent"),style:{backgroundColor:T},onClick:()=>m(T),"aria-label":`Cor ${T}`},T))})]}),p.jsxs(Fe,{type:"button",onClick:S,children:[p.jsx(v7,{className:"w-4 h-4 opacity-80"})," Salvar pendencia"]})]}),y.length===0?p.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-slate-200 p-6 text-sm text-slate-500",children:"Nenhuma pendencia para este mes."}):p.jsxs("div",{className:"flex flex-col gap-3",children:[x.length>1&&p.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[p.jsx("span",{className:"text-xs font-semibold uppercase text-slate-500",children:"Filtrar por pedido"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("select",{id:"pendency-filter",value:g,onChange:T=>_(T.target.value),className:"min-w-[200px] rounded-md border border-slate-200 bg-white px-2 py-1.5 text-sm shadow-sm",children:[p.jsx("option",{value:"",children:"Todos os pedidos"}),x.map(T=>p.jsx("option",{value:T.id,children:T.label},T.id||"sem-id"))]}),g&&p.jsx("button",{type:"button",className:"text-xs font-semibold text-slate-500 underline-offset-2 transition hover:text-slate-700 hover:underline",onClick:()=>_(""),children:"Limpar"})]})]}),b.length===0?p.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-slate-200 p-6 text-sm text-slate-500",children:"Nenhuma pendencia encontrada para este filtro."}):p.jsx("ul",{className:"space-y-3 text-sm text-slate-700",children:b.map(T=>{const P=v.find(O=>O.id===T.saleId),I=Rr("pendencias");return p.jsxs("li",{className:"relative flex flex-col gap-2 bg-left bg-no-repeat p-6 pl-16 pr-6 text-slate-800 md:flex-row md:items-center md:justify-between md:pl-24",style:{backgroundImage:`url(${I})`,backgroundSize:"100% 100%",backgroundPosition:"left center"},children:[p.jsxs("div",{className:"flex items-start gap-3 md:max-w-[65%]",children:[p.jsx("span",{className:"mt-1 inline-flex h-4 w-4 rounded-full",style:{backgroundColor:T.color}}),p.jsxs("div",{className:"ml-2 flex-1 text-sm md:ml-3",children:[p.jsxs("p",{className:"font-semibold text-slate-800",children:["#",(P==null?void 0:P.orderId)??"sem-id"," - ",(P==null?void 0:P.client)??"Pedido fora do mes"]}),p.jsx("div",{className:"mt-1 max-h-28 overflow-y-auto whitespace-pre-wrap break-words pr-1 text-xs text-slate-600",children:T.text})]})]}),p.jsx(Fe,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-600 hover:bg-white/40",onClick:()=>r(T.id),children:p.jsx(Nu,{className:"w-4 h-4"})})]},T.id)})})]})]})})]})}function P7({netTotal:t,value:e,onChange:n}){const s=Math.max(5e4,e),i=Math.max(s-t,0),r=30-Number(ds(hr(),"d")),o=r>0?i/r:i,a=l=>{const c=Number(l.target.value);if(Number.isNaN(c)){n(5e4);return}n(Math.max(5e4,c))};return p.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Meta desejada neste mes (minimo R$ 50.000)"}),p.jsx(et,{type:"number",min:5e4,value:s,onChange:a})]}),p.jsxs("p",{children:["Ja realizado: ",p.jsxs("strong",{children:["R$ ",t.toFixed(2)]})]}),p.jsxs("p",{children:["Falta: ",p.jsxs("strong",{children:["R$ ",i.toFixed(2)]})]}),p.jsxs("p",{children:["Pacing diario sugerido: ",p.jsxs("strong",{children:["R$ ",o.toFixed(2)]})]})]})}function N7(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=Number(t);return Number.isFinite(e)?e:null}if(t&&typeof t=="object"){const e=t,n=e.toMillis;if(typeof n=="function")return n();const s=e.seconds;if(typeof s=="number")return s*1e3}return null}function M7(t){const[e,n]=t.split("-"),s=Number(e),i=Number(n)-1,r=[];if(!Number.isFinite(s)||!Number.isFinite(i))return r;const o=new Date(Date.UTC(s,i,1));for(;o.getUTCMonth()===i;)r.push(ds(o,"yyyy-MM-dd")),o.setUTCDate(o.getUTCDate()+1);return r}function A7(t,e){const n={};return Object.entries(t).forEach(([s,i])=>{if(!i)return;const r=i.date;if(typeof r!="string"){n[s]=i;return}(r.length>=10?r.slice(0,10):r)!==e&&(n[s]=i)}),n}function R7(t,e){const n={};return Object.entries(t).forEach(([s,i])=>{const r=N7(i==null?void 0:i.ts);if(r===null){n[s]=i;return}Uc(new Date(r),"yyyy-MM-dd")!==e&&(n[s]=i)}),n}async function D7({uid:t,date:e}){const n={},s=e.slice(0,7),i=await li(ts(Xt(Jt),`sales/${s}/${t}`));if(i.exists()){const a=A7(i.val(),e);Object.keys(a).length===0?n[`sales/${s}/${t}`]=null:n[`sales/${s}/${t}`]=a}n[`ig_tracking/${e}/${t}`]=null;const r=Ml(new Date(`${e}T00:00:00`)),o=await li(ts(Xt(Jt),`ml_links/${r}/${t}/items`));if(o.exists()){const a=R7(o.val(),e);Object.keys(a).length===0?n[`ml_links/${r}/${t}`]=null:n[`ml_links/${r}/${t}/items`]=a}await rx(Xt(Jt),n)}async function O7({uid:t,month:e}){const n={};n[`sales/${e}/${t}`]=null;const s=M7(e),i=new Set;s.forEach(r=>{n[`ig_tracking/${r}/${t}`]=null,i.add(Ml(new Date(`${r}T00:00:00`)))}),i.forEach(r=>{n[`ml_links/${r}/${t}`]=null}),await rx(Xt(Jt),n)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cd(t){return t+.5|0}const fr=(t,e,n)=>Math.max(Math.min(t,n),e);function vc(t){return fr(cd(t*2.55),0,255)}function Dr(t){return fr(cd(t*255),0,255)}function vi(t){return fr(cd(t/2.55)/100,0,1)}function jk(t){return fr(cd(t*100),0,100)}const as={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xv=[..."0123456789ABCDEF"],L7=t=>xv[t&15],j7=t=>xv[(t&240)>>4]+xv[t&15],jd=t=>(t&240)>>4===(t&15),F7=t=>jd(t.r)&&jd(t.g)&&jd(t.b)&&jd(t.a);function V7(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&as[t[1]]*17,g:255&as[t[2]]*17,b:255&as[t[3]]*17,a:e===5?as[t[4]]*17:255}:(e===7||e===9)&&(n={r:as[t[1]]<<4|as[t[2]],g:as[t[3]]<<4|as[t[4]],b:as[t[5]]<<4|as[t[6]],a:e===9?as[t[7]]<<4|as[t[8]]:255})),n}const B7=(t,e)=>t<255?e(t):"";function z7(t){var e=F7(t)?L7:j7;return t?"#"+e(t.r)+e(t.g)+e(t.b)+B7(t.a,e):void 0}const U7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bR(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function $7(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function W7(t,e,n){const s=bR(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function H7(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function hx(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=H7(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function fx(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Dr)}function px(t,e,n){return fx(bR,t,e,n)}function Y7(t,e,n){return fx(W7,t,e,n)}function G7(t,e,n){return fx($7,t,e,n)}function SR(t){return(t%360+360)%360}function K7(t){const e=U7.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?vc(+e[5]):Dr(+e[5]));const i=SR(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Y7(i,r,o):e[1]==="hsv"?s=G7(i,r,o):s=px(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function q7(t,e){var n=hx(t);n[0]=SR(n[0]+e),n=px(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Q7(t){if(!t)return;const e=hx(t),n=e[0],s=jk(e[1]),i=jk(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${vi(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Fk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vk={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Z7(){const t={},e=Object.keys(Vk),n=Object.keys(Fk);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Fk[r]);r=parseInt(Vk[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Fd;function X7(t){Fd||(Fd=Z7(),Fd.transparent=[0,0,0,0]);const e=Fd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const J7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function eG(t){const e=J7.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?vc(o):fr(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?vc(s):fr(s,0,255)),i=255&(e[4]?vc(i):fr(i,0,255)),r=255&(e[6]?vc(r):fr(r,0,255)),{r:s,g:i,b:r,a:n}}}function tG(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${vi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const hg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ia=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function nG(t,e,n){const s=ia(vi(t.r)),i=ia(vi(t.g)),r=ia(vi(t.b));return{r:Dr(hg(s+n*(ia(vi(e.r))-s))),g:Dr(hg(i+n*(ia(vi(e.g))-i))),b:Dr(hg(r+n*(ia(vi(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Vd(t,e,n){if(t){let s=hx(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=px(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function CR(t,e){return t&&Object.assign(e||{},t)}function Bk(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Dr(t[3]))):(e=CR(t,{r:0,g:0,b:0,a:1}),e.a=Dr(e.a)),e}function sG(t){return t.charAt(0)==="r"?eG(t):K7(t)}class Mu{constructor(e){if(e instanceof Mu)return e;const n=typeof e;let s;n==="object"?s=Bk(e):n==="string"&&(s=V7(e)||X7(e)||sG(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=CR(this._rgb);return e&&(e.a=vi(e.a)),e}set rgb(e){this._rgb=Bk(e)}rgbString(){return this._valid?tG(this._rgb):void 0}hexString(){return this._valid?z7(this._rgb):void 0}hslString(){return this._valid?Q7(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=nG(this._rgb,e._rgb,n)),this}clone(){return new Mu(this.rgb)}alpha(e){return this._rgb.a=Dr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=cd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Vd(this._rgb,2,e),this}darken(e){return Vd(this._rgb,2,-e),this}saturate(e){return Vd(this._rgb,1,e),this}desaturate(e){return Vd(this._rgb,1,-e),this}rotate(e){return q7(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function fi(){}const iG=(()=>{let t=0;return()=>t++})();function qe(t){return t==null}function Vt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ve(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function wn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ys(t,e){return wn(t)?t:e}function Re(t,e){return typeof t>"u"?e:t}const rG=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ft(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ze(t,e,n,s){let i,r,o;if(Vt(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(Ve(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function Bf(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function zf(t){if(Vt(t))return t.map(zf);if(Ve(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=zf(t[n[i]]);return e}return t}function kR(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function oG(t,e,n,s){if(!kR(t))return;const i=e[t],r=n[t];Ve(i)&&Ve(r)?Au(i,r,s):e[t]=zf(r)}function Au(t,e,n){const s=Vt(e)?e:[e],i=s.length;if(!Ve(t))return t;n=n||{};const r=n.merger||oG;let o;for(let a=0;a<i;++a){if(o=s[a],!Ve(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function $c(t,e){return Au(t,e,{merger:aG})}function aG(t,e,n){if(!kR(t))return;const s=e[t],i=n[t];Ve(s)&&Ve(i)?$c(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=zf(i))}const zk={"":t=>t,x:t=>t.x,y:t=>t.y};function lG(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function cG(t){const e=lG(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function hl(t,e){return(zk[e]||(zk[e]=cG(e)))(t)}function mx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ru=t=>typeof t<"u",$r=t=>typeof t=="function",Uk=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function uG(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const en=Math.PI,Ls=2*en,dG=Ls+en,Uf=Number.POSITIVE_INFINITY,hG=en/180,As=en/2,eo=en/4,$k=en*2/3,TR=Math.log10,oi=Math.sign;function Wc(t,e,n){return Math.abs(t-e)<n}function Wk(t){const e=Math.round(t);t=Wc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(TR(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function fG(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function pG(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Du(t){return!pG(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function mG(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function gG(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function wo(t){return t*(en/180)}function yG(t){return t*(180/en)}function Hk(t){if(!wn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function vG(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*en&&(r+=Ls),{angle:r,distance:i}}function wv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _G(t,e){return(t-e+dG)%Ls-en}function Zs(t){return(t%Ls+Ls)%Ls}function ER(t,e,n,s){const i=Zs(t),r=Zs(e),o=Zs(n),a=Zs(r-i),l=Zs(o-i),c=Zs(i-r),u=Zs(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function qn(t,e,n){return Math.max(e,Math.min(n,t))}function xG(t){return qn(t,-32768,32767)}function pr(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function gx(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const bo=(t,e,n,s)=>gx(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),wG=(t,e,n)=>gx(t,n,s=>t[s][e]>=n);function bG(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const IR=["push","pop","shift","splice","unshift"];function SG(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),IR.forEach(n=>{const s="_onData"+mx(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function Yk(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(IR.forEach(r=>{delete t[r]}),delete t._chartjs)}function PR(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const NR=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function MR(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,NR.call(window,()=>{s=!1,t.apply(e,n)}))}}function CG(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const yx=t=>t==="start"?"left":t==="end"?"right":"center",mn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,kG=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function TG(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:f,maxDefined:m}=o.getUserBounds();if(f){if(i=Math.min(bo(l,u,d).lo,n?s:bo(e,u,o.getPixelForValue(d)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(_=>!qe(_[a.axis]));i-=Math.max(0,g)}i=qn(i,0,s-1)}if(m){let g=Math.max(bo(l,o.axis,h,!0).hi+1,n?0:bo(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const _=l.slice(g-1).findIndex(v=>!qe(v[a.axis]));g+=Math.max(0,_)}r=qn(g,i,s)-i}else r=s-i}return{start:i,count:r}}function EG(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Bd=t=>t===0||t===1,Gk=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ls/n)),Kk=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ls/n)+1,Hc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*As)+1,easeOutSine:t=>Math.sin(t*As),easeInOutSine:t=>-.5*(Math.cos(en*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Bd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Bd(t)?t:Gk(t,.075,.3),easeOutElastic:t=>Bd(t)?t:Kk(t,.075,.3),easeInOutElastic(t){return Bd(t)?t:t<.5?.5*Gk(t*2,.1125,.45):.5+.5*Kk(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Hc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Hc.easeInBounce(t*2)*.5:Hc.easeOutBounce(t*2-1)*.5+.5};function vx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function qk(t){return vx(t)?t:new Mu(t)}function fg(t){return vx(t)?t:new Mu(t).saturate(.5).darken(.1).hexString()}const IG=["x","y","borderWidth","radius","tension"],PG=["color","borderColor","backgroundColor"];function NG(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:PG},numbers:{type:"number",properties:IG}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function MG(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Qk=new Map;function AG(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Qk.get(n);return s||(s=new Intl.NumberFormat(t,e),Qk.set(n,s)),s}function AR(t,e,n){return AG(e,n).format(t)}const RG={values(t){return Vt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=DG(t,n)}const o=TR(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),AR(t,s,l)}};function DG(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var RR={formatters:RG};function OG(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:RR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Uo=Object.create(null),bv=Object.create(null);function Yc(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function pg(t,e,n){return typeof e=="string"?Au(Yc(t,e),n):Au(Yc(t,""),e)}class LG{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>fg(i.backgroundColor),this.hoverBorderColor=(s,i)=>fg(i.borderColor),this.hoverColor=(s,i)=>fg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return pg(this,e,n)}get(e){return Yc(this,e)}describe(e,n){return pg(bv,e,n)}override(e,n){return pg(Uo,e,n)}route(e,n,s,i){const r=Yc(this,e),o=Yc(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Ve(l)?Object.assign({},c,l):Re(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Nt=new LG({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[NG,MG,OG]);function jG(t){return!t||qe(t.size)||qe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Zk(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function to(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Xk(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Sv(t,e,n,s){DR(t,e,n,s,null)}function DR(t,e,n,s,i){let r,o,a,l,c,u,d,h;const f=e.pointStyle,m=e.rotation,g=e.radius;let _=(m||0)*hG;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,s,i/2,g,0,0,Ls):t.arc(n,s,g,0,Ls),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(n+Math.sin(_)*u,s-Math.cos(_)*g),_+=$k,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*g),_+=$k,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(_+eo)*l,d=Math.cos(_+eo)*(i?i/2-c:l),a=Math.sin(_+eo)*l,h=Math.sin(_+eo)*(i?i/2-c:l),t.arc(n-d,s-a,c,_-en,_-As),t.arc(n+h,s-o,c,_-As,_),t.arc(n+d,s+a,c,_,_+As),t.arc(n-h,s+o,c,_+As,_+en),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}_+=eo;case"rectRot":d=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+h,s-o),t.lineTo(n+d,s+a),t.lineTo(n-h,s+o),t.closePath();break;case"crossRot":_+=eo;case"cross":d=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"star":d=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o),_+=eo,d=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"line":o=i?i/2:Math.cos(_)*g,a=Math.sin(_)*g,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*(i?i/2:g),s+Math.sin(_)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ou(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Wp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Hp(t){t.restore()}function FG(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function VG(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function BG(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),qe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function zG(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function UG(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Lu(t,e,n,s,i,r={}){const o=Vt(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,BG(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&UG(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),qe(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),zG(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}function $f(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*en,en,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,en,As,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,As,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-As,!0),t.lineTo(n+o.topLeft,s)}const $G=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function HG(t,e){const n=(""+t).match($G);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const YG=t=>+t||0;function OR(t,e){const n={},s=Ve(e),i=s?Object.keys(e):e,r=Ve(t)?s?o=>Re(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=YG(r(o));return n}function LR(t){return OR(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ba(t){return OR(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vs(t){const e=LR(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _n(t,e){t=t||{},e=e||Nt.font;let n=Re(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Re(t.style,e.style);s&&!(""+s).match(WG)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Re(t.family,e.family),lineHeight:HG(Re(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Re(t.weight,e.weight),string:""};return i.string=jG(i),i}function zd(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function GG(t,e,n){const{min:s,max:i}=t,r=rG(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Zo(t,e){return Object.assign(Object.create(t),e)}function _x(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=BR("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>_x([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return FR(a,l,()=>tK(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return eT(a).includes(l)},ownKeys(a){return eT(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function fl(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:jR(t,s),setContext:r=>fl(t,r,n,s),override:r=>fl(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return FR(r,o,()=>qG(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function jR(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:$r(n)?n:()=>n,isIndexable:$r(s)?s:()=>s}}const KG=(t,e)=>t?t+mx(e):e,xx=(t,e)=>Ve(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function FR(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function qG(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return $r(a)&&o.isScriptable(e)&&(a=QG(e,a,t,n)),Vt(a)&&a.length&&(a=ZG(e,a,t,o.isIndexable)),xx(e,a)&&(a=fl(a,i,r&&r[e],o)),a}function QG(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),xx(t,l)&&(l=wx(i._scopes,i,t,l)),l}function ZG(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(Ve(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=wx(c,i,t,u);e.push(fl(d,r,o&&o[t],a))}}return e}function VR(t,e,n){return $r(t)?t(e,n):t}const XG=(t,e)=>t===!0?e:typeof t=="string"?hl(e,t):void 0;function JG(t,e,n,s,i){for(const r of e){const o=XG(n,r);if(o){t.add(o);const a=VR(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function wx(t,e,n,s){const i=e._rootScopes,r=VR(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=Jk(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=Jk(a,o,r,l,s),l===null)?!1:_x(Array.from(a),[""],i,r,()=>eK(e,n,s))}function Jk(t,e,n,s,i){for(;n;)n=JG(t,e,n,s,i);return n}function eK(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Vt(i)&&Ve(n)?n:i||{}}function tK(t,e,n,s){let i;for(const r of e)if(i=BR(KG(r,t),n),typeof i<"u")return xx(t,i)?wx(n,s,t,i):i}function BR(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function eT(t){let e=t._keys;return e||(e=t._keys=nK(t._scopes)),e}function nK(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const sK=Number.EPSILON||1e-14,pl=(t,e)=>e<t.length&&!t[e].skip&&t[e],zR=t=>t==="x"?"y":"x";function iK(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=wv(r,i),l=wv(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,h=s*u;return{previous:{x:r.x-d*(o.x-i.x),y:r.y-d*(o.y-i.y)},next:{x:r.x+h*(o.x-i.x),y:r.y+h*(o.y-i.y)}}}function rK(t,e,n){const s=t.length;let i,r,o,a,l,c=pl(t,0);for(let u=0;u<s-1;++u)if(l=c,c=pl(t,u+1),!(!l||!c)){if(Wc(e[u],0,sK)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function oK(t,e,n="x"){const s=zR(n),i=t.length;let r,o,a,l=pl(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=pl(t,c+1),!a)continue;const u=a[n],d=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=d-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=d+r*e[c])}}function aK(t,e="x"){const n=zR(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=pl(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=pl(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?oi(i[o-1])!==oi(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}rK(t,i,r),oK(t,r,e)}function Ud(t,e,n){return Math.max(Math.min(t,n),e)}function lK(t,e){let n,s,i,r,o,a=Ou(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&Ou(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=Ud(i.cp1x,e.left,e.right),i.cp1y=Ud(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Ud(i.cp2x,e.left,e.right),i.cp2y=Ud(i.cp2y,e.top,e.bottom)))}function cK(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")aK(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=iK(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&lK(t,n)}function bx(){return typeof window<"u"&&typeof document<"u"}function Sx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wf(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Yp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function uK(t,e){return Yp(t).getPropertyValue(e)}const dK=["top","right","bottom","left"];function Eo(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=dK[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const hK=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function fK(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(hK(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function uo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Yp(n),r=i.boxSizing==="border-box",o=Eo(i,"padding"),a=Eo(i,"border","width"),{x:l,y:c,box:u}=fK(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:m}=e;return r&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/f*n.width/s),y:Math.round((c-h)/m*n.height/s)}}function pK(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&Sx(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Yp(r),l=Eo(a,"border","width"),c=Eo(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=Wf(a.maxWidth,r,"clientWidth"),i=Wf(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||Uf,maxHeight:i||Uf}}const $d=t=>Math.round(t*10)/10;function mK(t,e,n,s){const i=Yp(t),r=Eo(i,"margin"),o=Wf(i.maxWidth,t,"clientWidth")||Uf,a=Wf(i.maxHeight,t,"clientHeight")||Uf,l=pK(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Eo(i,"border","width"),f=Eo(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=$d(Math.min(c,o,l.maxWidth)),u=$d(Math.min(u,a,l.maxHeight)),c&&!u&&(u=$d(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=$d(Math.floor(u*s))),{width:c,height:u}}function tT(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const gK=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function nT(t,e){const n=uK(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ho(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function yK(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function vK(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=ho(t,i,n),a=ho(i,r,n),l=ho(r,e,n),c=ho(o,a,n),u=ho(a,l,n);return ho(c,u,n)}const _K=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},xK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function za(t,e,n){return t?_K(e,n):xK()}function UR(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function $R(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function WR(t){return t==="angle"?{between:ER,compare:_G,normalize:Zs}:{between:pr,compare:(e,n)=>e-n,normalize:e=>e}}function sT({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function wK(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=WR(s),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][s]),i,r);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function HR(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=WR(s),{start:u,end:d,loop:h,style:f}=wK(t,e,n),m=[];let g=!1,_=null,v,y,x;const b=()=>l(i,x,v)&&a(i,x)!==0,S=()=>a(r,v)===0||l(r,x,v),T=()=>g||b(),P=()=>!g||S();for(let I=u,O=u;I<=d;++I)y=e[I%o],!y.skip&&(v=c(y[s]),v!==x&&(g=l(v,i,r),_===null&&T()&&(_=a(v,i)===0?I:O),_!==null&&P()&&(m.push(sT({start:_,end:I,loop:h,count:o,style:f})),_=null),O=I,x=v));return _!==null&&m.push(sT({start:_,end:d,loop:h,count:o,style:f})),m}function YR(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=HR(s[i],t.points,e);r.length&&n.push(...r)}return n}function bK(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function SK(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function CK(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=bK(n,i,r,s);if(s===!0)return iT(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return iT(t,SK(n,o,l,c),n,e)}function iT(t,e,n,s){return!s||!s.setContext||!n?e:kK(t,e,n,s)}function kK(t,e,n,s){const i=t._chart.getContext(),r=rT(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,d=e[0].start,h=d;function f(m,g,_,v){const y=a?-1:1;if(m!==g){for(m+=l;n[m%l].skip;)m-=y;for(;n[g%l].skip;)g+=y;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:_,style:v}),u=v,d=g%l)}}for(const m of e){d=a?d:m.start;let g=n[d%l],_;for(h=d+1;h<=m.end;h++){const v=n[h%l];_=rT(s.setContext(Zo(i,{type:"segment",p0:g,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),TK(_,u)&&f(d,h-1,m.loop,u),g=v,u=_}d<h-1&&f(d,h-1,m.loop,u)}return c}function rT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function TK(t,e){if(!e)return!1;const n=[],s=function(i,r){return vx(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Wd(t,e,n){return t.options.clip?t[n]:e[n]}function EK(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Wd(n,e,"left"),right:Wd(n,e,"right"),top:Wd(s,e,"top"),bottom:Wd(s,e,"bottom")}:e}function GR(t,e){const n=e._clip;if(n.disabled)return!1;const s=EK(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class IK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=NR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var pi=new IK;const oT="transparent",PK={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=qk(t||oT),i=s.valid&&qk(e||oT);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class NK{constructor(e,n,s,i){const r=n[s];i=zd([e.to,i,r,e.from]);const o=zd([e.from,r,i]);this._active=!0,this._fn=e.fn||PK[e.type||typeof o],this._easing=Hc[e.easing]||Hc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=zd([e.to,n,i,e.from]),this._from=zd([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class KR{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ve(e))return;const n=Object.keys(Nt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Ve(r))return;const o={};for(const a of n)o[a]=r[a];(Vt(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=AK(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&MK(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=r[c];const h=s.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}r[c]=d=new NK(h,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return pi.add(this._chart,s),!0}}function MK(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function AK(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function aT(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function RK(t,e,n){if(n===!1)return!1;const s=aT(t,n),i=aT(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function DK(t){let e,n,s,i;return Ve(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function qR(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function lT(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=t.values[l],wn(c)&&(r||e===0||oi(e)===oi(c))&&(e+=c)}return!u&&!s.all?0:e}function OK(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function mg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function LK(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function jK(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function FK(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function cT(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function uT(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=LK(r,o,s),d=e.length;let h;for(let f=0;f<d;++f){const m=e[f],{[l]:g,[c]:_}=m,v=m._stacks||(m._stacks={});h=v[c]=FK(i,u,g),h[a]=_,h._top=cT(h,o,!0,s.type),h._bottom=cT(h,o,!1,s.type);const y=h._visualValues||(h._visualValues={});y[a]=_}}function gg(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function VK(t,e){return Zo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function BK(t,e,n){return Zo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function nc(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const yg=t=>t==="reset"||t==="none",dT=(t,e)=>e?t:Object.assign({},t),zK=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:qR(n,!0),values:null};class Ua{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&nc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,h,f,m)=>d==="x"?h:d==="r"?m:f,r=n.xAxisID=Re(s.xAxisID,gg(e,"x")),o=n.yAxisID=Re(s.yAxisID,gg(e,"y")),a=n.rAxisID=Re(s.rAxisID,gg(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Yk(this._data,this),e._stacked&&nc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Ve(n)){const i=this._cachedMeta;this._data=OK(n,i)}else if(s!==n){if(s){Yk(s,this);const i=this._cachedMeta;nc(i),i._parsed=[]}n&&Object.isExtensible(n)&&SG(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=mg(n.vScale,n),n.stack!==s.stack&&(i=!0,nc(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(uT(this,n._parsed),n._stacked=mg(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,h;if(this._parsing===!1)s._parsed=i,s._sorted=!0,h=i;else{Vt(i[e])?h=this.parseArrayData(s,i,e,n):Ve(i[e])?h=this.parseObjectData(s,i,e,n):h=this.parsePrimitiveData(s,i,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);s._sorted=l}o&&uT(this,h)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(i);let h,f,m;for(h=0,f=i;h<f;++h)m=h+s,d[h]={[a]:u||r.parse(c[m],m),[l]:o.parse(n[m],m)};return d}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+s,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+s,f=n[h],c[u]={x:r.parse(hl(f,a),h),y:o.parse(hl(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:qR(i,!0),values:n._stacks[e.axis]._visualValues};return lT(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=lT(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=zK(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=jK(a);let h,f;function m(){f=i[h];const g=f[a.axis];return!wn(f[e.axis])||u>g||d<g}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),r));++h);if(r){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],wn(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=DK(Re(this.options.clip,RK(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=BK(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=VK(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&Ru(s);if(a)return dT(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Nt.elements[e]),m=()=>this.getContext(s,i,n),g=c.resolveNamedOptions(h,f,m,d);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(dT(g,l))),g}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,s,n))}const c=new KR(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||yg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){yg(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!yg(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&nc(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}_e(Ua,"defaults",{}),_e(Ua,"datasetElementType",null),_e(Ua,"dataElementType",null);function UK(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=PR(s.sort((i,r)=>i-r))}return t._cache.$bar}function $K(t){const e=t.iScale,n=UK(e,t.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(Ru(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function WK(t,e,n,s){const i=n.barThickness;let r,o;return qe(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function HK(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function YK(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function QR(t,e,n,s){return Vt(t)?YK(t,e,n,s):e[n.axis]=n.parse(t,s),e}function hT(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,d,h;for(c=n,u=n+s;c<u;++c)h=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(QR(h,d,r,c));return l}function vg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function GK(t,e,n){return t!==0?oi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function KK(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function qK(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=KK(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[fT(u,o,a,l)]=!0,i=c)),r[fT(i,o,a,l)]=!0,t.borderSkipped=r}function fT(t,e,n,s){return s?(t=QK(t,e,n),t=pT(t,n,e)):t=pT(t,e,n),t}function QK(t,e,n){return t===e?n:t===n?e:t}function pT(t,e,n){return t==="start"?e:t==="end"?n:t}function ZK(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class vh extends Ua{parsePrimitiveData(e,n,s,i){return hT(e,n,s,i)}parseArrayData(e,n,s,i){return hT(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,m,g;for(h=s,f=s+i;h<f;++h)g=n[h],m={},m[r.axis]=r.parse(hl(g,c),h),d.push(QR(hl(g,u),m,o,h));return d}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=vg(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let f=n;f<n+s;f++){const m=this.getParsed(f),g=r||qe(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),v=(m._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!v||vg(m._custom)||o===v._top||o===v._bottom,x:c?g.head:_.center,y:c?_.center:g.head,height:c?_.size:Math.abs(g.size),width:c?Math.abs(g.size):_.size};h&&(y.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const x=y.options||e[f].options;qK(y,x,v,o),ZK(y,x,u.ratio),this.updateElement(e[f],f,y,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const d=u._parsed.find(f=>f[s.axis]===l),h=d&&d[u.vScale.axis];if(qe(h)||isNaN(h))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Re(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||$K(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=vg(c);let d=l[n.axis],h=0,f=s?this.applyStack(n,l,s):d,m,g;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&oi(d)!==oi(c.barEnd)&&(h=0),h+=d);const _=!qe(r)&&!u?r:h;let v=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(h+f):m=v,g=m-v,Math.abs(g)<o){g=GK(g,n,a)*o,d===a&&(v-=g/2);const y=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),b=Math.min(y,x),S=Math.max(y,x);v=Math.max(Math.min(v,S),b),m=v+g,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(m)-n.getValueForPixel(v))}if(v===n.getPixelForValue(a)){const y=oi(g)*n.getLineWidthForValue(a)/2;v+=y,g-=y}return{size:g,base:v,head:m,center:m+g/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=Re(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(e):n.stackCount,d=i.barThickness==="flex"?HK(e,n,i,u*c):WK(e,n,i,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(Re(h,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+f;a=d.start+d.chunk*m+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}_e(vh,"id","bar"),_e(vh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_e(vh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class _h extends Ua{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=TG(n,i,o);this._drawStart=a,this._drawCount=l,EG(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),h=o.axis,f=a.axis,{spanGaps:m,segment:g}=this.options,_=Du(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||i==="none",y=n+s,x=e.length;let b=n>0&&this.getParsed(n-1);for(let S=0;S<x;++S){const T=e[S],P=v?T:{};if(S<n||S>=y){P.skip=!0;continue}const I=this.getParsed(S),O=qe(I[f]),B=P[h]=o.getPixelForValue(I[h],S),Y=P[f]=r||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,I,l):I[f],S);P.skip=isNaN(B)||isNaN(Y)||O,P.stop=S>0&&Math.abs(I[h]-b[h])>_,g&&(P.parsed=I,P.raw=c.data[S]),d&&(P.options=u||this.resolveDataElementOptions(S,T.active?"active":i)),v||this.updateElement(T,S,P,i),b=I}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}_e(_h,"id","line"),_e(_h,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_e(_h,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Cx{constructor(e){_e(this,"options");this.options=e||{}}static override(e){Object.assign(Cx.prototype,e)}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var XK={_date:Cx};function JK(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?wG:bo;if(s){if(i._sharedOptions){const u=r[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(r,e,n-d),f=c(r,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(r,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(g=>!qe(g[d.axis]));u.lo-=Math.max(0,f);const m=h.slice(u.hi).findIndex(g=>!qe(g[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:r.length-1}}function Gp(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:h}=JK(r[a],e,o,i);for(let f=d;f<=h;++f){const m=u[f];m.skip||s(m,c,f)}}}function eq(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function _g(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Gp(t,n,e,function(a,l,c){!i&&!Ou(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function tq(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:d}=vG(o,{x:e.x,y:e.y});ER(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Gp(t,n,e,r),i}function nq(t,e,n,s,i,r){let o=[];const a=eq(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(s&&!f)return;const m=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(m))&&!f)return;const _=a(e,m);_<l?(o=[{element:u,datasetIndex:d,index:h}],l=_):_===l&&o.push({element:u,datasetIndex:d,index:h})}return Gp(t,n,e,c),o}function xg(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?tq(t,e,n,i):nq(t,e,n,s,i,r)}function mT(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Gp(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var sq={modes:{index(t,e,n,s){const i=uo(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_g(t,i,r,s,o):xg(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=uo(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?_g(t,i,r,s,o):xg(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=uo(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return _g(t,i,r,s,o)},nearest(t,e,n,s){const i=uo(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return xg(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=uo(e,t);return mT(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=uo(e,t);return mT(t,i,"y",n.intersect,s)}}};const ZR=["left","top","right","bottom"];function sc(t,e){return t.filter(n=>n.pos===e)}function gT(t,e){return t.filter(n=>ZR.indexOf(n.pos)===-1&&n.box.axis===e)}function ic(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function iq(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function rq(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!ZR.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function oq(t,e){const n=rq(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function aq(t){const e=iq(t),n=ic(e.filter(c=>c.box.fullSize),!0),s=ic(sc(e,"left"),!0),i=ic(sc(e,"right")),r=ic(sc(e,"top"),!0),o=ic(sc(e,"bottom")),a=gT(e,"x"),l=gT(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:sc(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function yT(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function XR(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function lq(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!Ve(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[i]+=n.size}r.getPadding&&XR(o,r.getPadding());const a=Math.max(0,e.outerWidth-yT(o,t,"left","right")),l=Math.max(0,e.outerHeight-yT(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function cq(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function uq(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function _c(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,uq(a.horizontal,e));const{same:d,other:h}=lq(e,n,a,s);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&_c(i,e,n,s)||u}function Hd(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function vT(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;Ru(c.start)&&(o=c.start),l.fullSize?Hd(l,i.left,o,n.outerWidth-i.right-i.left,h):Hd(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;Ru(c.start)&&(r=c.start),l.fullSize?Hd(l,r,i.top,h,n.outerHeight-i.bottom-i.top):Hd(l,r,e.top+c.placed,h,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var ps={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=vs(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=aq(t.boxes),l=a.vertical,c=a.horizontal;Ze(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,_)=>_.box.options&&_.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);XR(h,vs(s));const f=Object.assign({maxPadding:h,w:r,h:o,x:i.left,y:i.top},i),m=oq(l.concat(c),d);_c(a.fullSize,f,d,m),_c(l,f,d,m),_c(c,f,d,m)&&_c(l,f,d,m),cq(f),vT(a.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,vT(a.rightAndBottom,f,d,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ze(a.chartArea,g=>{const _=g.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class JR{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class dq extends JR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xh="$chartjs",hq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_T=t=>t===null||t==="";function fq(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[xh]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_T(i)){const r=nT(t,"width");r!==void 0&&(t.width=r)}if(_T(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=nT(t,"height");r!==void 0&&(t.height=r)}return t}const eD=gK?{passive:!0}:!1;function pq(t,e,n){t&&t.addEventListener(e,n,eD)}function mq(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,eD)}function gq(t,e){const n=hq[t.type]||t.type,{x:s,y:i}=uo(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Hf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function yq(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Hf(a.addedNodes,s),o=o&&!Hf(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function vq(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Hf(a.removedNodes,s),o=o&&!Hf(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ju=new Map;let xT=0;function tD(){const t=window.devicePixelRatio;t!==xT&&(xT=t,ju.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function _q(t,e){ju.size||window.addEventListener("resize",tD),ju.set(t,e)}function xq(t){ju.delete(t),ju.size||window.removeEventListener("resize",tD)}function wq(t,e,n){const s=t.canvas,i=s&&Sx(s);if(!i)return;const r=MR((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),_q(t,r),o}function wg(t,e,n){n&&n.disconnect(),e==="resize"&&xq(t)}function bq(t,e,n){const s=t.canvas,i=MR(r=>{t.ctx!==null&&n(gq(r,t))},t);return pq(s,e,i),i}class Sq extends JR{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(fq(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[xh])return!1;const s=n[xh].initial;["height","width"].forEach(r=>{const o=s[r];qe(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[xh],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:yq,detach:vq,resize:wq}[n]||bq;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:wg,detach:wg,resize:wg}[n]||mq)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return mK(e,n,s,i)}isAttached(e){const n=e&&Sx(e);return!!(n&&n.isConnected)}}function Cq(t){return!bx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?dq:Sq}var Zd;let Zr=(Zd=class{constructor(){_e(this,"x");_e(this,"y");_e(this,"active",!1);_e(this,"options");_e(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Du(this.x)&&Du(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}},_e(Zd,"defaults",{}),_e(Zd,"defaultRoutes"),Zd);function kq(t,e){const n=t.options.ticks,s=Tq(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?Iq(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return Pq(e,c,r,o/i),c;const u=Eq(r,e,i);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(Yd(e,c,u,qe(f)?0:a-f,a),d=0,h=o-1;d<h;d++)Yd(e,c,u,r[d],r[d+1]);return Yd(e,c,u,l,qe(f)?e.length:l+f),c}return Yd(e,c,u),c}function Tq(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function Eq(t,e,n){const s=Nq(t),i=e.length/n;if(!s)return Math.max(i,1);const r=fG(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function Iq(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Pq(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Yd(t,e,n,s,i){const r=Re(s,0),o=Math.min(Re(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function Nq(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const Mq=t=>t==="left"?"right":t==="right"?"left":t,wT=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,bT=(t,e)=>Math.min(e||t,t);function ST(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function Aq(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function Rq(t,e){Ze(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function rc(t){return t.drawTicks?t.tickLength:0}function CT(t,e){if(!t.display)return 0;const n=_n(t.font,e),s=vs(t.padding);return(Vt(t.text)?t.text.length:1)*n.lineHeight+s.height}function Dq(t,e){return Zo(t,{scale:e,type:"scale"})}function Oq(t,e,n){return Zo(t,{tick:n,index:e,type:"tick"})}function Lq(t,e,n){let s=yx(t);return(n&&e!=="right"||!n&&e==="right")&&(s=Mq(s)),s}function jq(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,m;const g=o-i,_=a-r;if(t.isHorizontal()){if(f=mn(s,r,a),Ve(n)){const v=Object.keys(n)[0],y=n[v];m=u[v].getPixelForValue(y)+g-e}else n==="center"?m=(c.bottom+c.top)/2+g-e:m=wT(t,n,e);h=a-r}else{if(Ve(n)){const v=Object.keys(n)[0],y=n[v];f=u[v].getPixelForValue(y)-_+e}else n==="center"?f=(c.left+c.right)/2-_+e:f=wT(t,n,e);m=mn(s,o,i),d=n==="left"?-As:As}return{titleX:f,titleY:m,maxWidth:h,rotation:d}}class Rl extends Zr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Ys(e,Number.POSITIVE_INFINITY),n=Ys(n,Number.NEGATIVE_INFINITY),s=Ys(s,Number.POSITIVE_INFINITY),i=Ys(i,Number.NEGATIVE_INFINITY),{min:Ys(e,s),max:Ys(n,i),minDefined:wn(e),maxDefined:wn(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Ys(n,Ys(s,n)),max:Ys(s,Ys(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ft(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=GG(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?ST(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=kq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ft(this.options.afterUpdate,[this])}beforeSetDimensions(){ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ft(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ft(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=ft(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=bT(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=qn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),d+6>a&&(a=f/(s-(e.offset?.5:1)),l=this.maxHeight-rc(e.grid)-n.padding-CT(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=yG(Math.min(Math.asin(qn((u.highest.height+6)/a,-1,1)),Math.asin(qn(l/c,-1,1))-Math.asin(qn(h/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ft(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=CT(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=rc(r)+l):(e.height=this.maxHeight,e.width=rc(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=s.padding*2,m=wo(this.labelRotation),g=Math.cos(m),_=Math.sin(m);if(a){const v=s.mirror?0:_*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{const v=s.mirror?0:g*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(c,u,_,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=s*n.height):(h=s*e.height,f=i*n.width):r==="start"?f=n.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ft(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)qe(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=ST(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/bT(n,s));let c=0,u=0,d,h,f,m,g,_,v,y,x,b,S;for(d=0;d<n;d+=l){if(m=e[d].label,g=this._resolveTickFontOptions(d),i.font=_=g.string,v=r[_]=r[_]||{data:{},gc:[]},y=g.lineHeight,x=b=0,!qe(m)&&!Vt(m))x=Zk(i,v.data,v.gc,x,m),b=y;else if(Vt(m))for(h=0,f=m.length;h<f;++h)S=m[h],!qe(S)&&!Vt(S)&&(x=Zk(i,v.data,v.gc,x,S),b+=y);o.push(x),a.push(b),c=Math.max(x,c),u=Math.max(b,u)}Rq(r,n);const T=o.indexOf(c),P=a.indexOf(u),I=O=>({width:o[O]||0,height:a[O]||0});return{first:I(0),last:I(n-1),widest:I(T),highest:I(P),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return xG(this._alignToPixels?to(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Oq(this.getContext(),e,s))}return this.$context||(this.$context=Dq(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=wo(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=rc(r),f=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,_=g/2,v=function(ne){return to(s,ne,g)};let y,x,b,S,T,P,I,O,B,Y,L,ie;if(o==="top")y=v(this.bottom),P=this.bottom-h,O=y-_,Y=v(e.top)+_,ie=e.bottom;else if(o==="bottom")y=v(this.top),Y=e.top,ie=v(e.bottom)-_,P=y+_,O=this.top+h;else if(o==="left")y=v(this.right),T=this.right-h,I=y-_,B=v(e.left)+_,L=e.right;else if(o==="right")y=v(this.left),B=e.left,L=v(e.right)-_,T=y+_,I=this.left+h;else if(n==="x"){if(o==="center")y=v((e.top+e.bottom)/2+.5);else if(Ve(o)){const ne=Object.keys(o)[0],ae=o[ne];y=v(this.chart.scales[ne].getPixelForValue(ae))}Y=e.top,ie=e.bottom,P=y+_,O=P+h}else if(n==="y"){if(o==="center")y=v((e.left+e.right)/2);else if(Ve(o)){const ne=Object.keys(o)[0],ae=o[ne];y=v(this.chart.scales[ne].getPixelForValue(ae))}T=y-_,I=T-h,B=e.left,L=e.right}const fe=Re(i.ticks.maxTicksLimit,d),ue=Math.max(1,Math.ceil(d/fe));for(x=0;x<d;x+=ue){const ne=this.getContext(x),ae=r.setContext(ne),$=a.setContext(ne),U=ae.lineWidth,E=ae.color,C=$.dash||[],F=$.dashOffset,q=ae.tickWidth,A=ae.tickColor,j=ae.tickBorderDash||[],W=ae.tickBorderDashOffset;b=Aq(this,x,l),b!==void 0&&(S=to(s,b,U),c?T=I=B=L=S:P=O=Y=ie=S,f.push({tx1:T,ty1:P,tx2:I,ty2:O,x1:B,y1:Y,x2:L,y2:ie,width:U,color:E,borderDash:C,borderDashOffset:F,tickWidth:q,tickColor:A,tickBorderDash:j,tickBorderDashOffset:W}))}return this._ticksLength=d,this._borderValue=y,f}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,h=rc(s.grid),f=h+u,m=d?-u:f,g=-wo(this.labelRotation),_=[];let v,y,x,b,S,T,P,I,O,B,Y,L,ie="middle";if(i==="top")T=this.bottom-m,P=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+m,P=this._getXAxisLabelAlignment();else if(i==="left"){const ue=this._getYAxisLabelAlignment(h);P=ue.textAlign,S=ue.x}else if(i==="right"){const ue=this._getYAxisLabelAlignment(h);P=ue.textAlign,S=ue.x}else if(n==="x"){if(i==="center")T=(e.top+e.bottom)/2+f;else if(Ve(i)){const ue=Object.keys(i)[0],ne=i[ue];T=this.chart.scales[ue].getPixelForValue(ne)+f}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-f;else if(Ve(i)){const ue=Object.keys(i)[0],ne=i[ue];S=this.chart.scales[ue].getPixelForValue(ne)}P=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?ie="top":l==="end"&&(ie="bottom"));const fe=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){x=a[v],b=x.label;const ue=r.setContext(this.getContext(v));I=this.getPixelForTick(v)+r.labelOffset,O=this._resolveTickFontOptions(v),B=O.lineHeight,Y=Vt(b)?b.length:1;const ne=Y/2,ae=ue.color,$=ue.textStrokeColor,U=ue.textStrokeWidth;let E=P;o?(S=I,P==="inner"&&(v===y-1?E=this.options.reverse?"left":"right":v===0?E=this.options.reverse?"right":"left":E="center"),i==="top"?c==="near"||g!==0?L=-Y*B+B/2:c==="center"?L=-fe.highest.height/2-ne*B+B:L=-fe.highest.height+B/2:c==="near"||g!==0?L=B/2:c==="center"?L=fe.highest.height/2-ne*B:L=fe.highest.height-Y*B,d&&(L*=-1),g!==0&&!ue.showLabelBackdrop&&(S+=B/2*Math.sin(g))):(T=I,L=(1-Y)*B/2);let C;if(ue.showLabelBackdrop){const F=vs(ue.backdropPadding),q=fe.heights[v],A=fe.widths[v];let j=L-F.top,W=0-F.left;switch(ie){case"middle":j-=q/2;break;case"bottom":j-=q;break}switch(P){case"center":W-=A/2;break;case"right":W-=A;break;case"inner":v===y-1?W-=A:v>0&&(W-=A/2);break}C={left:W,top:j,width:A+F.width,height:q+F.height,color:ue.backdropColor}}_.push({label:b,font:O,textOffset:L,options:{rotation:g,color:ae,strokeColor:$,strokeWidth:U,textAlign:E,textBaseline:ie,translation:[S,T],backdrop:C}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-wo(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=to(e,this.left,o)-o/2,u=to(e,this.right,a)+a/2,d=h=l):(d=to(e,this.top,o)-o/2,h=to(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Wp(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Lu(s,c,0,u,l,a)}i&&Hp(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=_n(s.font),o=vs(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Ve(n)?(l+=o.bottom,Vt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=jq(this,l,n,a);Lu(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:h,textAlign:Lq(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Re(e.grid&&e.grid.z,-1),i=Re(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Rl.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return _n(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Gd{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;Bq(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,Fq(e,o,s),this.override&&Nt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in Nt[i]&&(delete Nt[i][s],this.override&&delete Uo[s])}}function Fq(t,e,n){const s=Au(Object.create(null),[n?Nt.get(n):{},Nt.get(e),t.defaults]);Nt.set(e,s),t.defaultRoutes&&Vq(e,t.defaultRoutes),t.descriptors&&Nt.describe(e,t.descriptors)}function Vq(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Nt.route(r,i,l,a)})}function Bq(t){return"id"in t&&"defaults"in t}class zq{constructor(){this.controllers=new Gd(Ua,"datasets",!0),this.elements=new Gd(Zr,"elements"),this.plugins=new Gd(Object,"plugins"),this.scales=new Gd(Rl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Ze(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=mx(e);ft(s["before"+i],[],s),n[e](s),ft(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var qs=new zq;class Uq{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(ft(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=Re(s.options&&s.options.plugins,{}),r=$q(s);return i===!1&&!n?[]:Hq(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function $q(t){const e={},n=[],s=Object.keys(qs.plugins.items);for(let r=0;r<s.length;r++)n.push(qs.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Wq(t,e){return!e&&t===!1?null:t===!0?{}:t}function Hq(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=Wq(s[l],i);c!==null&&r.push({plugin:a,options:Yq(t.config,{plugin:a,local:n[l]},c,o)})}return r}function Yq(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cv(t,e){const n=Nt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Gq(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Kq(t,e){return t===e?"_index_":"_value_"}function kT(t){if(t==="x"||t==="y"||t==="r")return t}function qq(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function kv(t,...e){if(kT(t))return t;for(const n of e){const s=n.axis||qq(n.position)||t.length>1&&kT(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function TT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Qq(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return TT(t,"x",n[0])||TT(t,"y",n[0])}return{}}function Zq(t,e){const n=Uo[t.type]||{scales:{}},s=e.scales||{},i=Cv(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!Ve(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=kv(o,a,Qq(o,t),Nt.scales[a.type]),c=Kq(l,i),u=n.scales||{};r[o]=$c(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Cv(a,e),u=(Uo[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=Gq(d,l),f=o[h+"AxisID"]||h;r[f]=r[f]||Object.create(null),$c(r[f],[{axis:h},s[f],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];$c(a,[Nt.scales[a.type],Nt.scale])}),r}function nD(t){const e=t.options||(t.options={});e.plugins=Re(e.plugins,{}),e.scales=Zq(t,e)}function sD(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Xq(t){return t=t||{},t.data=sD(t.data),nD(t),t}const ET=new Map,iD=new Set;function Kd(t,e){let n=ET.get(t);return n||(n=e(),ET.set(t,n),iD.add(n)),n}const oc=(t,e,n)=>{const s=hl(e,n);s!==void 0&&t.add(s)};class Jq{constructor(e){this._config=Xq(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),nD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Kd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Kd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Kd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Kd(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>oc(l,e,d))),u.forEach(d=>oc(l,i,d)),u.forEach(d=>oc(l,Uo[r]||{},d)),u.forEach(d=>oc(l,Nt,d)),u.forEach(d=>oc(l,bv,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),iD.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Uo[n]||{},Nt.datasets[n]||{},{type:n},Nt,bv]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=IT(this._resolverCache,e,i);let l=o;if(tQ(o,n)){r.$shared=!1,s=$r(s)?s():s;const c=this.createResolver(e,s,a);l=fl(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=IT(this._resolverCache,e,s);return Ve(n)?fl(r,n,void 0,i):r}}function IT(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:_x(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const eQ=t=>Ve(t)&&Object.getOwnPropertyNames(t).some(e=>$r(t[e]));function tQ(t,e){const{isScriptable:n,isIndexable:s}=jR(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&($r(a)||eQ(a))||o&&Vt(a))return!0}return!1}var nQ="4.5.0";const sQ=["top","bottom","left","right","chartArea"];function PT(t,e){return t==="top"||t==="bottom"||sQ.indexOf(t)===-1&&e==="x"}function NT(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function MT(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ft(n&&n.onComplete,[t],e)}function iQ(t){const e=t.chart,n=e.options.animation;ft(n&&n.onProgress,[t],e)}function rD(t){return bx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wh={},AT=t=>{const e=rD(t);return Object.values(wh).filter(n=>n.canvas===e).pop()};function rQ(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function oQ(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Qi;let ud=(Qi=class{static register(...e){qs.add(...e),RT()}static unregister(...e){qs.remove(...e),RT()}constructor(e,n){const s=this.config=new Jq(n),i=rD(e),r=AT(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Cq(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=iG(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Uq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=CG(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],wh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}pi.listen(this,"complete",MT),pi.listen(this,"progress",iQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return qe(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xk(this.canvas,this.ctx),this}stop(){return pi.stop(this),this}resize(e,n){pi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tT(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ft(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ze(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=kv(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ze(r,o=>{const a=o.options,l=a.id,c=kv(l,a),u=Re(a.type,o.dtype);(a.position===void 0||PT(a.position,c)!==PT(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const h=qs.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),Ze(i,(o,a)=>{o||delete s[a]}),Ze(s,o=>{ps.configure(this,o,o.options),ps.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(NT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Cv(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=qs.getController(a),{datasetElementType:c,dataElementType:u}=Nt.datasets[a];Object.assign(l,{dataElementType:qs.getElement(u),datasetElementType:c&&qs.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ze(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Ze(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(NT("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ze(this.scales,e=>{ps.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Uk(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;rQ(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Uk(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ps.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ze(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,$r(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pi.has(this)?this.attached&&!pi.running(this)&&pi.start(this):(this.draw(),MT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=GR(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Wp(n,i),e.controller.draw(),i&&Hp(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Ou(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=sq.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Zo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Ru(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),pi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Xk(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete wh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ze(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ze(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ze(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Bf(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=uG(e),c=oQ(e,this._lastEvent,s,l);s&&(this._lastEvent=null,ft(r.onHover,[e,a,this],this),l&&ft(r.onClick,[e,a,this],this));const u=!Bf(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},_e(Qi,"defaults",Nt),_e(Qi,"instances",wh),_e(Qi,"overrides",Uo),_e(Qi,"registry",qs),_e(Qi,"version",nQ),_e(Qi,"getChart",AT),Qi);function RT(){return Ze(ud.instances,t=>t._plugins.invalidate())}function oD(t,e,n=e){t.lineCap=Re(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Re(n.borderDash,e.borderDash)),t.lineDashOffset=Re(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Re(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Re(n.borderWidth,e.borderWidth),t.strokeStyle=Re(n.borderColor,e.borderColor)}function aQ(t,e,n){t.lineTo(n.x,n.y)}function lQ(t){return t.stepped?FG:t.tension||t.cubicInterpolationMode==="monotone"?VG:aQ}function aD(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function cQ(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=aD(i,n,s),u=lQ(r);let{move:d=!0,reverse:h}=s||{},f,m,g;for(f=0;f<=c;++f)m=i[(a+(h?c-f:f))%o],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,g,m,h,r.stepped),g=m);return l&&(m=i[(a+(h?c:0))%o],u(t,g,m,h,r.stepped)),!!l}function uQ(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=aD(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,h,f,m,g,_,v;const y=b=>(o+(c?a-b:b))%r,x=()=>{g!==_&&(t.lineTo(u,_),t.lineTo(u,g),t.lineTo(u,v))};for(l&&(f=i[y(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[y(h)],f.skip)continue;const b=f.x,S=f.y,T=b|0;T===m?(S<g?g=S:S>_&&(_=S),u=(d*u+b)/++d):(x(),t.lineTo(b,S),m=T,d=0,g=_=S),v=S}x()}function Tv(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?uQ:cQ}function dQ(t){return t.stepped?yK:t.tension||t.cubicInterpolationMode==="monotone"?vK:ho}function hQ(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),oD(t,e.options),t.stroke(i)}function fQ(t,e,n,s){const{segments:i,options:r}=e,o=Tv(e);for(const a of i)oD(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const pQ=typeof Path2D=="function";function mQ(t,e,n,s){pQ&&!e.options.segment?hQ(t,e,n,s):fQ(t,e,n,s)}class mr extends Zr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;cK(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=CK(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=YR(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=dQ(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=r[d],m=r[h];if(f===m){a.push(f);continue}const g=Math.abs((i-f[n])/(m[n]-f[n])),_=l(f,m,g,s.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Tv(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=Tv(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),mQ(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}_e(mr,"id","line"),_e(mr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_e(mr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_e(mr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function DT(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class bh extends Zr{constructor(n){super();_e(this,"parsed");_e(this,"skip");_e(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,s){return DT(this,n,"x",s)}inYRange(n,s){return DT(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!Ou(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Sv(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}_e(bh,"id","point"),_e(bh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_e(bh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function lD(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-d,u=s+d):(d=r/2,a=n-d,l=n+d,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function gr(t,e,n,s){return t?0:qn(e,n,s)}function gQ(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=LR(s);return{t:gr(i.top,r.top,0,n),r:gr(i.right,r.right,0,e),b:gr(i.bottom,r.bottom,0,n),l:gr(i.left,r.left,0,e)}}function yQ(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Ba(i),o=Math.min(e,n),a=t.borderSkipped,l=s||Ve(i);return{topLeft:gr(!l||a.top||a.left,r.topLeft,0,o),topRight:gr(!l||a.top||a.right,r.topRight,0,o),bottomLeft:gr(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:gr(!l||a.bottom||a.right,r.bottomRight,0,o)}}function vQ(t){const e=lD(t),n=e.right-e.left,s=e.bottom-e.top,i=gQ(t,n/2,s/2),r=yQ(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function bg(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&lD(t,s);return a&&(i||pr(e,a.left,a.right))&&(r||pr(n,a.top,a.bottom))}function _Q(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function xQ(t,e){t.rect(e.x,e.y,e.w,e.h)}function Sg(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class Sh extends Zr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=vQ(this),a=_Q(o.radius)?$f:xQ;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Sg(o,n,r)),e.clip(),a(e,Sg(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Sg(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return bg(this,e,n,s)}inXRange(e,n){return bg(this,e,null,n)}inYRange(e,n){return bg(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}_e(Sh,"id","bar"),_e(Sh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_e(Sh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function wQ(t,e,n){const s=t.segments,i=t.points,r=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=Kp(l,c,i);const u=Ev(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=YR(e,u);for(const h of d){const f=Ev(n,r[h.start],r[h.end],h.loop),m=HR(a,i,f);for(const g of m)o.push({source:g,target:h,start:{[n]:OT(u,f,"start",Math.max)},end:{[n]:OT(u,f,"end",Math.min)}})}}return o}function Ev(t,e,n,s){if(s)return;let i=e[t],r=n[t];return t==="angle"&&(i=Zs(i),r=Zs(r)),{property:t,start:i,end:r}}function bQ(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=Kp(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Kp(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function OT(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function cD(t,e){let n=[],s=!1;return Vt(t)?(s=!0,n=t):n=bQ(t,e),n.length?new mr({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function LT(t){return t&&t.fill!==!1}function SQ(t,e,n){let i=t[e].fill;const r=[e];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!wn(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function CQ(t,e,n){const s=IQ(t);if(Ve(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return wn(i)&&Math.floor(i)===i?kQ(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function kQ(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function TQ(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ve(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function EQ(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Ve(t)?s=t.value:s=e.getBaseValue(),s}function IQ(t){const e=t.options,n=e.fill;let s=Re(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function PQ(t){const{scale:e,index:n,line:s}=t,i=[],r=s.segments,o=s.points,a=NQ(e,n);a.push(cD({x:null,y:e.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)MQ(i,o[u],a)}return new mr({points:i,options:{}})}function NQ(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function MQ(t,e,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=AQ(r,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function AQ(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],d=o[u.start][n],h=o[u.end][n];if(pr(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:s}}class uD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:Ls},e.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,r=e.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function RQ(t){const{chart:e,fill:n,line:s}=t;if(wn(n))return DQ(e,n);if(n==="stack")return PQ(t);if(n==="shape")return!0;const i=OQ(t);return i instanceof uD?i:cD(i,s)}function DQ(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function OQ(t){return(t.scale||{}).getPointPositionForValue?jQ(t):LQ(t)}function LQ(t){const{scale:e={},fill:n}=t,s=TQ(n,e);if(wn(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function jQ(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=EQ(n,e,r),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,r);return new uD({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function Cg(t,e,n){const s=RQ(e),{chart:i,index:r,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:f=d}=u||{},m=i.getDatasetMeta(r),g=GR(i,m);s&&o.points.length&&(Wp(t,n),FQ(t,{line:o,target:s,above:h,below:f,area:n,scale:a,axis:l,clip:g}),Hp(t))}function FQ(t,e){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=r;r!==i&&(c==="x"?(jT(t,s,o.top),kg(t,{line:n,target:s,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),jT(t,s,o.bottom)):c==="y"&&(FT(t,s,o.left),kg(t,{line:n,target:s,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),FT(t,s,o.right),u=i)),kg(t,{line:n,target:s,color:u,scale:a,property:c,clip:l}),t.restore()}function jT(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],d=i[Kp(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function FT(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],d=i[Kp(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,d.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function kg(t,e){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=e,l=wQ(n,s,i);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:f=r}={}}=c,m=s!==!0;t.save(),t.fillStyle=f,VQ(t,o,a,m&&Ev(i,d,h)),t.beginPath();const g=!!n.pathSegment(t,c);let _;if(m){g?t.closePath():VT(t,s,h,i);const v=!!s.pathSegment(t,u,{move:g,reverse:!0});_=g&&v,_||VT(t,s,d,i)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function VQ(t,e,n,s){const i=e.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,d;r==="x"?(l=o,c=i.top,u=a,d=i.bottom):(l=i.left,c=o,u=i.right,d=a),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),d=Math.min(d,n.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function VT(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var BQ={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof mr&&(l={visible:t.isDatasetVisible(o),index:o,fill:CQ(a,o,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=SQ(i,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Cg(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;LT(r)&&Cg(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!LT(s)||n.drawTime!=="beforeDatasetDraw"||Cg(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const BT=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},zQ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class zT extends Zr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ft(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=_n(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=BT(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;r.textAlign="left",r.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((m,g)=>{const _=s+n/2+r.measureText(m.text).width;(g===0||c[c.length-1]+_+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:_,height:i},c[c.length-1]+=_+a}),d}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,m=0,g=0;return this.legendItems.forEach((_,v)=>{const{itemWidth:y,itemHeight:x}=UQ(s,n,r,_,i);v>0&&f+x+2*a>u&&(d+=h+a,c.push({width:h,height:f}),m+=h+a,g++,h=f=0),l[v]={left:m,top:f,col:g,width:y,height:x},h=Math.max(h,y),f+=x+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=za(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=mn(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=mn(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=mn(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=mn(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Wp(e,this),this._draw(),Hp(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=Nt.color,l=za(e.rtl,this.left,this.width),c=_n(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:_}=BT(o,d),v=function(T,P,I){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const O=Re(I.lineWidth,1);if(i.fillStyle=Re(I.fillStyle,a),i.lineCap=Re(I.lineCap,"butt"),i.lineDashOffset=Re(I.lineDashOffset,0),i.lineJoin=Re(I.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=Re(I.strokeStyle,a),i.setLineDash(Re(I.lineDash,[])),o.usePointStyle){const B={radius:g*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:O},Y=l.xPlus(T,m/2),L=P+h;DR(i,B,Y,L,o.pointStyleWidth&&m)}else{const B=P+Math.max((d-g)/2,0),Y=l.leftForLtr(T,m),L=Ba(I.borderRadius);i.beginPath(),Object.values(L).some(ie=>ie!==0)?$f(i,{x:Y,y:B,w:m,h:g,radius:L}):i.rect(Y,B,m,g),i.fill(),O!==0&&i.stroke()}i.restore()},y=function(T,P,I){Lu(i,I.text,T,P+_/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})},x=this.isHorizontal(),b=this._computeTitleHeight();x?f={x:mn(r,this.left+u,this.right-s[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:mn(r,this.top+b+u,this.bottom-n[0].height),line:0},UR(this.ctx,e.textDirection);const S=_+u;this.legendItems.forEach((T,P)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const I=i.measureText(T.text).width,O=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),B=m+h+I;let Y=f.x,L=f.y;l.setWidth(this.width),x?P>0&&Y+B+u>this.right&&(L=f.y+=S,f.line++,Y=f.x=mn(r,this.left+u,this.right-s[f.line])):P>0&&L+S>this.bottom&&(Y=f.x=Y+n[f.line].width+u,f.line++,L=f.y=mn(r,this.top+b+u,this.bottom-n[f.line].height));const ie=l.x(Y);if(v(ie,L,T),Y=kG(O,Y+m+h,x?Y+B:this.right,e.rtl),y(l.x(Y),L,T),x)f.x+=B+u;else if(typeof T.text!="string"){const fe=c.lineHeight;f.y+=dD(T,fe)+u}else f.y+=S}),$R(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=_n(n.font),i=vs(n.padding);if(!n.display)return;const r=za(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=mn(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);u=c+mn(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=mn(a,d,d+h);o.textAlign=r.textAlign(yx(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Lu(o,n.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,n=_n(e.font),s=vs(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(pr(e,this.left,this.right)&&pr(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],pr(e,i.left,i.left+i.width)&&pr(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!HQ(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=zQ(i,s);i&&!r&&ft(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&ft(n.onHover,[e,s,this],this)}else s&&ft(n.onClick,[e,s,this],this)}}function UQ(t,e,n,s,i){const r=$Q(s,t,e,n),o=WQ(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function $Q(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function WQ(t,e,n){let s=t;return typeof e.text!="string"&&(s=dD(e,n)),s}function dD(t,e){const n=t.text?t.text.length:0;return e*n}function HQ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var hD={id:"legend",_element:zT,start(t,e,n){const s=t.legend=new zT({ctx:t.ctx,options:n,chart:t});ps.configure(t,s,n),ps.addBox(t,s)},stop(t){ps.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;ps.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=vs(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class fD extends Zr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Vt(s.text)?s.text.length:1;this._padding=vs(s.padding);const r=i*_n(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=mn(a,s,r),d=n+e,c=r-s):(o.position==="left"?(u=s+e,d=mn(a,i,n),l=en*-.5):(u=r-e,d=mn(a,n,i),l=en*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=_n(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Lu(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:yx(n.align),textBaseline:"middle",translation:[o,a]})}}function YQ(t,e){const n=new fD({ctx:t.ctx,options:e,chart:t});ps.configure(t,n,e),ps.addBox(t,n),t.titleBlock=n}var pD={id:"title",_element:fD,start(t,e,n){YQ(t,n)},stop(t){const e=t.titleBlock;ps.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;ps.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xc={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=wv(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Gs(t,e){return e&&(Vt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function mi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function GQ(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function UT(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=_n(e.bodyFont),c=_n(e.titleFont),u=_n(e.footerFont),d=r.length,h=i.length,f=s.length,m=vs(e.padding);let g=m.height,_=0,v=s.reduce((b,S)=>b+S.before.length+S.lines.length+S.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const b=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*b+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let y=0;const x=function(b){_=Math.max(_,n.measureText(b).width+y)};return n.save(),n.font=c.string,Ze(t.title,x),n.font=l.string,Ze(t.beforeBody.concat(t.afterBody),x),y=e.displayColors?o+2+e.boxPadding:0,Ze(s,b=>{Ze(b.before,x),Ze(b.lines,x),Ze(b.after,x)}),y=0,n.font=u.string,Ze(t.footer,x),n.restore(),_+=m.width,{width:_,height:g}}function KQ(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function qQ(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function QQ(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),qQ(c,t,e,n)&&(c="center"),c}function $T(t,e,n){const s=n.yAlign||e.yAlign||KQ(t,n);return{xAlign:n.xAlign||e.xAlign||QQ(t,e,n,s),yAlign:s}}function ZQ(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function XQ(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function WT(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Ba(o);let m=ZQ(e,a);const g=XQ(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,h)+i:a==="right"&&(m+=Math.max(d,f)+i),{x:qn(m,0,s.width-e.width),y:qn(g,0,s.height-e.height)}}function qd(t,e,n){const s=vs(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function HT(t){return Gs([],mi(t))}function JQ(t,e,n){return Zo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function YT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const mD={beforeTitle:fi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:fi,beforeBody:fi,beforeLabel:fi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return qe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:fi,afterBody:fi,beforeFooter:fi,footer:fi,afterFooter:fi};function Dn(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?mD[e].call(n,s):i}class Iv extends Zr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new KR(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=JQ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Dn(s,"beforeTitle",this,e),r=Dn(s,"title",this,e),o=Dn(s,"afterTitle",this,e);let a=[];return a=Gs(a,mi(i)),a=Gs(a,mi(r)),a=Gs(a,mi(o)),a}getBeforeBody(e,n){return HT(Dn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return Ze(e,r=>{const o={before:[],lines:[],after:[]},a=YT(s,r);Gs(o.before,mi(Dn(a,"beforeLabel",this,r))),Gs(o.lines,Dn(a,"label",this,r)),Gs(o.after,mi(Dn(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return HT(Dn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Dn(s,"beforeFooter",this,e),r=Dn(s,"footer",this,e),o=Dn(s,"afterFooter",this,e);let a=[];return a=Gs(a,mi(i)),a=Gs(a,mi(r)),a=Gs(a,mi(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(GQ(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),Ze(a,u=>{const d=YT(e.callbacks,u);i.push(Dn(d,"labelColor",this,u)),r.push(Dn(d,"labelPointStyle",this,u)),o.push(Dn(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=xc[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=UT(this,s),c=Object.assign({},a,l),u=$T(this.chart,s,c),d=WT(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Ba(a),{x:h,y:f}=e,{width:m,height:g}=n;let _,v,y,x,b,S;return r==="center"?(b=f+g/2,i==="left"?(_=h,v=_-o,x=b+o,S=b-o):(_=h+m,v=_+o,x=b-o,S=b+o),y=_):(i==="left"?v=h+Math.max(l,u)+o:i==="right"?v=h+m-Math.max(c,d)-o:v=this.caretX,r==="top"?(x=f,b=x-o,_=v-o,y=v+o):(x=f+g,b=x+o,_=v+o,y=v-o),S=x),{x1:_,x2:v,x3:y,y1:x,y2:b,y3:S}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=za(s.rtl,this.x,this.width);for(e.x=qd(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=_n(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=_n(r.bodyFont),d=qd(this,"left",r),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+f;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(h,c)+c/2,v=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Sv(e,g,_,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Sv(e,g,_,v)}else{e.lineWidth=Ve(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(h,c),_=i.leftForLtr(i.xPlus(h,1),c-2),v=Ba(o.borderRadius);Object.values(v).some(y=>y!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,$f(e,{x:g,y:m,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),$f(e,{x:_,y:m+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=_n(s.bodyFont);let h=d.lineHeight,f=0;const m=za(s.rtl,this.x,this.width),g=function(I){n.fillText(I,m.x(e.x+f),e.y+h/2),e.y+=h+r},_=m.textAlign(o);let v,y,x,b,S,T,P;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=qd(this,_,s),n.fillStyle=s.bodyColor,Ze(this.beforeBody,g),f=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,b=0,T=i.length;b<T;++b){for(v=i[b],y=this.labelTextColors[b],n.fillStyle=y,Ze(v.before,g),x=v.lines,a&&x.length&&(this._drawColorBox(n,e,b,m,s),h=Math.max(d.lineHeight,l)),S=0,P=x.length;S<P;++S)g(x[S]),h=d.lineHeight;Ze(v.after,g)}f=0,h=d.lineHeight,Ze(this.afterBody,g),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=za(s.rtl,this.x,this.width);for(e.x=qd(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=_n(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=Ba(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=xc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=UT(this,e),l=Object.assign({},o,this._size),c=$T(n,e,l),u=WT(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=vs(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),UR(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),$R(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Bf(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!Bf(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=xc[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}_e(Iv,"positioners",xc);var gD={id:"tooltip",_element:Iv,positioners:xc,afterInit(t,e,n){n&&(t.tooltip=new Iv({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const eZ=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function tZ(t,e,n,s){const i=t.indexOf(e);if(i===-1)return eZ(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const nZ=(t,e)=>t===null?null:qn(Math.round(t),0,e);function GT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Yf extends Rl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(qe(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:tZ(s,e,Re(n,e),this._addedLabels),nZ(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return GT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}_e(Yf,"id","category"),_e(Yf,"defaults",{ticks:{callback:GT}});function sZ(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=r||1,m=u-1,{min:g,max:_}=e,v=!qe(o),y=!qe(a),x=!qe(c),b=(_-g)/(d+1);let S=Wk((_-g)/m/f)*f,T,P,I,O;if(S<1e-14&&!v&&!y)return[{value:g},{value:_}];O=Math.ceil(_/S)-Math.floor(g/S),O>m&&(S=Wk(O*S/m/f)*f),qe(l)||(T=Math.pow(10,l),S=Math.ceil(S*T)/T),i==="ticks"?(P=Math.floor(g/S)*S,I=Math.ceil(_/S)*S):(P=g,I=_),v&&y&&r&&mG((a-o)/r,S/1e3)?(O=Math.round(Math.min((a-o)/S,u)),S=(a-o)/O,P=o,I=a):x?(P=v?o:P,I=y?a:I,O=c-1,S=(I-P)/O):(O=(I-P)/S,Wc(O,Math.round(O),S/1e3)?O=Math.round(O):O=Math.ceil(O));const B=Math.max(Hk(S),Hk(P));T=Math.pow(10,qe(l)?B:l),P=Math.round(P*T)/T,I=Math.round(I*T)/T;let Y=0;for(v&&(h&&P!==o?(n.push({value:o}),P<o&&Y++,Wc(Math.round((P+Y*S)*T)/T,o,KT(o,b,t))&&Y++):P<o&&Y++);Y<O;++Y){const L=Math.round((P+Y*S)*T)/T;if(y&&L>a)break;n.push({value:L})}return y&&h&&I!==a?n.length&&Wc(n[n.length-1].value,a,KT(a,b,t))?n[n.length-1].value=a:n.push({value:a}):(!y||I===a)&&n.push({value:I}),n}function KT(t,e,{horizontal:n,minRotation:s}){const i=wo(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class iZ extends Rl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=oi(i),c=oi(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=sZ(i,r);return e.bounds==="ticks"&&gG(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return AR(e,this.chart.options.locale,this.options.ticks.format)}}class Gf extends iZ{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=wn(e)?e:0,this.max=wn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=wo(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}_e(Gf,"id","linear"),_e(Gf,"defaults",{ticks:{callback:RR.formatters.numeric}});const qp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fn=Object.keys(qp);function qT(t,e){return t-e}function QT(t,e){if(qe(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),wn(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Du(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function ZT(t,e,n,s){const i=Fn.length;for(let r=Fn.indexOf(t);r<i-1;++r){const o=qp[Fn[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Fn[r]}return Fn[i-1]}function rZ(t,e,n,s,i){for(let r=Fn.length-1;r>=Fn.indexOf(n);r--){const o=Fn[r];if(qp[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Fn[n?Fn.indexOf(n):0]}function oZ(t){for(let e=Fn.indexOf(t)+1,n=Fn.length;e<n;++e)if(qp[Fn[e]].common)return Fn[e]}function XT(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=gx(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function aZ(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function JT(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:aZ(t,s,i,n)}class Kf extends Rl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new XK._date(e.adapters.date);i.init(n),$c(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:QT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=wn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=wn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=bG(i,r,o);return this._unit=n.unit||(s.autoSkip?ZT(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):rZ(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:oZ(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),JT(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=qn(n,0,o),s=qn(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||ZT(r.minUnit,n,s,this._getLabelCapacity(n)),a=Re(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Du(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<s;h=+e.add(h,a,o),f++)XT(u,h,m);return(h===s||i.bounds==="ticks"||f===1)&&XT(u,h,m),Object.keys(u).sort(qT).map(g=>+g)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return ft(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=s[n],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=wo(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,JT(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(QT(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return PR(e.sort(qT))}}_e(Kf,"id","time"),_e(Kf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Qd(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=bo(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=bo(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class eE extends Kf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Qd(n,this.min),this._tableRange=Qd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Qd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Qd(this._table,s*this._tableRange+this._minPos,!0)}}_e(eE,"id","timeseries"),_e(eE,"defaults",Kf.defaults);const yD="label";function tE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function lZ(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function vD(t,e){t.labels=e}function _D(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yD;const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function cZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yD;const n={labels:[],datasets:[]};return vD(n,t.labels),_D(n,t.datasets,e),n}function uZ(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=w.useRef(null),m=w.useRef(null),g=()=>{f.current&&(m.current=new ud(f.current,{type:o,data:cZ(a,r),options:l&&{...l},plugins:c}),tE(e,m.current))},_=()=>{tE(e,null),m.current&&(m.current.destroy(),m.current=null)};return w.useEffect(()=>{!i&&m.current&&l&&lZ(m.current,l)},[i,l]),w.useEffect(()=>{!i&&m.current&&vD(m.current.config.data,a.labels)},[i,a.labels]),w.useEffect(()=>{!i&&m.current&&a.datasets&&_D(m.current.config.data,a.datasets,r)},[i,a.datasets]),w.useEffect(()=>{m.current&&(i?(_(),setTimeout(g)):m.current.update(d))},[i,l,a.labels,a.datasets,d]),w.useEffect(()=>{m.current&&(_(),setTimeout(g))},[o]),w.useEffect(()=>(g(),()=>_()),[]),H.createElement("canvas",{ref:f,role:"img",height:n,width:s,...h},u)}const dZ=w.forwardRef(uZ);function xD(t,e){return ud.register(e),w.forwardRef((n,s)=>H.createElement(dZ,{...n,ref:s,type:t}))}const hZ=xD("line",_h),fZ=xD("bar",vh);ud.register(Yf,Gf,Sh,pD,gD,hD);function pZ({labels:t,values:e,title:n}){return p.jsx(fZ,{options:{responsive:!0,plugins:{legend:{display:!1},title:{display:!!n,text:n}}},data:{labels:t,datasets:[{label:n??"Valor",data:e,backgroundColor:"#2f70ff"}]}})}ud.register(Yf,Gf,bh,mr,pD,gD,hD,BQ);function mZ({labels:t,values:e,title:n}){return p.jsx(hZ,{options:{responsive:!0,plugins:{legend:{display:!1},title:{display:!!n,text:n}}},data:{labels:t,datasets:[{label:n??"Valor",data:e,borderColor:"#1f58d6",backgroundColor:"rgba(47,112,255,0.2)",tension:.3,fill:!0}]}})}const gZ=pp({pontualidade_default:Es().min(0),timezone:Tr(),instagram_posts:Es().min(0),instagram_stories:Es().min(0)}),yZ=pp({month:Tr(),adesao_capa:Es().min(0).max(100),adesao_imper:Es().min(0).max(100),faturamento_sofas:Es().min(0),pontualidade_admin:Es().min(0),pontualidade_coordenadora:Es().min(0),pontualidade_vendedoras:mF(Tr(),Es().min(0))});function vZ(){const{user:t,logout:e}=Bp(),[n,s]=w.useState(null),[i,r]=w.useState({}),[o,a]=w.useState(!0),[l,c]=w.useState(null),[u,d]=w.useState({}),[h,f]=w.useState({}),[m,g]=w.useState(""),[_,v]=w.useState(Uc(hr(),"yyyy-MM-dd")),[y,x]=w.useState(Uc(hr(),"yyyy-MM")),[b,S]=w.useState({day:!1,month:!1}),[T,P]=w.useState(0),I=hp(),O=Uc(hr(),"yyyy-MM"),B=Ml(hr()),Y=w.useMemo(()=>n?Array.from(new Set([n.team.coordinatorId,...n.team.sellers])):[],[n]);w.useEffect(()=>{if(!n)return;let A=!0;const j=Array.from(new Set([n.team.coordinatorId,...n.team.sellers]));return Promise.all(j.map(async W=>{try{const V=await IA(W);return[W,(V==null?void 0:V.name)??W]}catch{return[W,W]}})).then(W=>{A&&d(Object.fromEntries(W))}),()=>{A=!1}},[n]),w.useEffect(()=>{Y.length!==0&&(!m||!Y.includes(m))&&g(Y[0])},[Y,m]),w.useEffect(()=>{if(!n)return;let A=!0;const j=Array.from(new Set([n.team.coordinatorId,...n.team.sellers]));return Promise.all(j.map(async W=>{try{const V=await gv(W);return[W,V??[]]}catch(V){return console.error(V),[W,[]]}})).then(W=>{A&&f(Object.fromEntries(W))}),()=>{A=!1}},[n,B,T]);const L=Qh({resolver:sf(gZ),defaultValues:{pontualidade_default:150,timezone:"America/Sao_Paulo",instagram_posts:1,instagram_stories:10}}),ie=Qh({resolver:sf(yZ),defaultValues:{month:O,adesao_capa:5,adesao_imper:5,faturamento_sofas:15e4,pontualidade_admin:150,pontualidade_coordenadora:150,pontualidade_vendedoras:{}}});async function fe(){try{await e(),I("/login",{replace:!0}),Ee.success("Sesso encerrada.")}catch(A){console.error(A),Ee.error("No foi possvel encerrar a sesso.")}}w.useEffect(()=>{async function A(){a(!0);try{const j=await EA();s(j),L.reset({pontualidade_default:j.pontualidade_default,timezone:j.timezone,instagram_posts:j.instagram.postsPerDay,instagram_stories:j.instagram.storiesPerDay});const W=await Z9(O);r(W);const V=await pv(O);c(V)}catch(j){console.error(j),Ee.error("Erro ao carregar painel admin.")}finally{a(!1)}}A()},[O,T]);const ue=w.useMemo(()=>{if(!n)return{vendas:0,porUsuario:new Map};let A=0;const j=new Map;return Object.entries(i).forEach(([W,V])=>{const te=V.reduce((we,ge)=>we+ge.net,0);j.set(W,te),A+=te}),{vendas:A,porUsuario:j}},[i,n]),ne=w.useMemo(()=>Array.from(ue.porUsuario.entries()).map(([A,j])=>({uid:A,value:j})).sort((A,j)=>j.value-A.value),[ue]),ae=ne.map(A=>u[A.uid]??A.uid),$=ne.map(A=>Number(A.value.toFixed(2))),U=w.useMemo(()=>n?Object.entries(i).map(([A,j])=>{const W=j.reduce((V,te)=>{const we=yv(n,te.net,te.sellerUid,n.team);return V+(we[A]??0)},0);return{uid:A,valor:W}}):[],[n,i]),E=async()=>{if(!m){Ee.error("Selecione uma consultora.");return}if(!_){Ee.error("Informe o dia.");return}const A=u[m]??m;if(window.confirm(`Remover IG, anuncios e vendas do dia ${_} para ${A}?`)){S(j=>({...j,day:!0}));try{await D7({uid:m,date:_}),Ee.success("Dados do dia resetados."),a(!0),P(j=>j+1)}catch(j){console.error(j),Ee.error("Falha ao resetar o dia.")}finally{S(j=>({...j,day:!1}))}}},C=async()=>{if(!m){Ee.error("Selecione uma consultora.");return}if(!y){Ee.error("Informe o mes.");return}const A=u[m]??m;if(window.confirm(`Remover dados do mes ${y} para ${A}?`)){S(j=>({...j,month:!0}));try{await O7({uid:m,month:y}),Ee.success("Dados do mes resetados."),a(!0),P(j=>j+1)}catch(j){console.error(j),Ee.error("Falha ao resetar o mes.")}finally{S(j=>({...j,month:!1}))}}},F=L.handleSubmit(async A=>{if(n)try{const j={...n,pontualidade_default:A.pontualidade_default,timezone:A.timezone,instagram:{...n.instagram,postsPerDay:A.instagram_posts,storiesPerDay:A.instagram_stories}};await t8(j),s(j),Ee.success("Configuraes atualizadas.")}catch(j){console.error(j),Ee.error("No foi possvel salvar.")}}),q=ie.handleSubmit(async A=>{if(!n)return;const j=ze=>{var Ue;if(!Number.isFinite(ze))return((Ue=n.services)==null?void 0:Ue.base_min)??0;const Je=ze>1?ze/100:ze;return Je<0?0:Je},W=j(A.adesao_capa),V=j(A.adesao_imper),te={uid_admin:A.pontualidade_admin,[n.team.coordinatorId]:A.pontualidade_coordenadora,...A.pontualidade_vendedoras},we={},ge=vk(n,A.faturamento_sofas),Ce=[n.team.coordinatorId,...n.team.sellers],Pe=ge>0?A.faturamento_sofas*ge/Ce.length:0,Ge={};Ce.forEach(ze=>{Ge[ze]=(Ge[ze]??0)+Pe+(we[ze]??0)+(te[ze]??n.pontualidade_default)});const ke={month:A.month,adesao:{capa:W,impermeabilizacao:V},faturamento_sofas:A.faturamento_sofas,pontualidade:te,mlWeeks:we,bonus:Ge};try{await X9(ke),c(ke),Ee.success("Fechamento publicado! Painis notificados.")}catch(ze){console.error(ze),Ee.error("Erro ao publicar fechamento.")}});return!t||t.role!=="admin"?p.jsx("div",{className:"flex h-screen items-center justify-center text-lg",children:"Acesso restrito ao administrador."}):o?p.jsx("div",{className:"flex h-screen items-center justify-center text-lg",children:"Carregando admin..."}):n?p.jsxs("div",{className:"min-h-screen bg-slate-100 pb-16",children:[p.jsx("header",{className:"border-b border-slate-200 bg-white",children:p.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-2 px-4 py-4 md:flex-row md:items-center md:justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Administrao central"}),p.jsx("p",{className:"text-sm text-slate-600",children:"Configure regras, acompanhe o mes e publique o fechamento."})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Fe,{variant:"outline",onClick:()=>window.print(),children:"Exportar viso"}),p.jsx(Fe,{type:"button",variant:"ghost",onClick:fe,children:"Sair"})]})]})}),p.jsx("main",{className:"mx-auto mt-6 flex max-w-6xl flex-col gap-6 px-4",children:p.jsxs(xR,{defaultValue:"dash",children:[p.jsxs(ux,{className:"bg-white",children:[p.jsx(_o,{value:"dash",children:"Dashboard"}),p.jsx(_o,{value:"config",children:"Configuraes"}),p.jsx(_o,{value:"closure",children:"Fechamento"}),p.jsx(_o,{value:"maintenance",children:"Manuteno"})]}),p.jsxs(xo,{value:"dash",className:"space-y-6",children:[p.jsxs("section",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(mt,{children:"Faturamento do mes"}),p.jsxs(pt,{children:["R$ ",ue.vendas.toFixed(2)]})]}),p.jsx(lt,{className:"text-sm text-slate-500",children:"Somatrio de vendas lanadas no mes."})]}),p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(mt,{children:"Bnus faturamento"}),p.jsxs(pt,{children:[(vk(n,ue.vendas)*100).toFixed(2),"%"]})]}),p.jsx(lt,{className:"text-sm text-slate-500",children:"Rate aplicado sobre o total."})]}),p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(mt,{children:"Semana atual"}),p.jsx(pt,{children:B})]}),p.jsx(lt,{className:"text-sm text-slate-500",children:"Alinhe com as metas semanais de ML e IG."})]}),p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(mt,{children:"ltimo fechamento"}),p.jsx(pt,{children:l?`Publicado em ${new Date(l.publishedAt??Date.now()).toLocaleDateString("pt-BR")}`:"Pendente"})]}),p.jsx(lt,{className:"text-sm text-slate-500",children:"Mantenha a equipe informada at dia 5."})]})]}),p.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[p.jsxs(ot,{className:"p-6",children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Ranking por vendas"}),p.jsx(mt,{children:"Valores lquidos lanados."})]}),p.jsx(lt,{children:p.jsx(pZ,{labels:ae,values:$})})]}),p.jsxs(ot,{className:"p-6",children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Comisses estimadas"}),p.jsx(mt,{children:"Somatrio individual com base nas regras atuais."})]}),p.jsx(lt,{children:p.jsx(mZ,{labels:U.map(A=>u[A.uid]??A.uid),values:U.map(A=>Number(A.valor.toFixed(2)))})})]})]}),p.jsx("section",{children:p.jsxs(ot,{className:"p-6",children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Links Mercado Livre"}),p.jsx(mt,{children:"Acompanhamento semanal em tempo real."})]}),p.jsx(lt,{className:"space-y-3",children:Y.map(A=>{const j=h[A]??[],W=u[A]??A;return p.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-slate-800",children:[p.jsx("span",{children:W}),p.jsxs("span",{children:[j.length," ",j.length===1?"link":"links"]})]}),j.length>0?p.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:[j.slice(0,10).map(V=>p.jsxs("li",{className:"flex items-center justify-between gap-2",children:[p.jsx("a",{href:V.url,target:"_blank",rel:"noreferrer",className:"truncate text-blue-600 hover:underline",children:V.url}),p.jsx("span",{className:"whitespace-nowrap text-[10px] text-slate-400",children:ds(new Date(V.ts),"dd/MM HH:mm")})]},V.url)),j.length>10&&p.jsxs("li",{className:"text-[11px] text-slate-500",children:["+ ",j.length-10," links"]})]}):p.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Nenhum link registrado nesta semana."})]},A)})})]})}),p.jsx("section",{children:p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Observaes rpidas"}),p.jsx(mt,{children:"Use este bloco para registrar decises internas."})]}),p.jsx(lt,{children:p.jsx(Al,{rows:5,placeholder:"Resumo da reunio semanal, ajustes manuais, pendncias do fechamento..."})})]})})]}),p.jsx(xo,{value:"config",children:p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Configurao de regras"}),p.jsx(mt,{children:"Altere metas e padres. Demais parmetros devem ser ajustados via Firebase console."})]}),p.jsx(lt,{children:p.jsxs("form",{className:"grid gap-4 md:grid-cols-2",onSubmit:F,children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Timezone"}),p.jsx(et,{...L.register("timezone")})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Pontualidade padro (R$)"}),p.jsx(et,{type:"number",step:"10",...L.register("pontualidade_default",{valueAsNumber:!0})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Posts por dia"}),p.jsx(et,{type:"number",...L.register("instagram_posts",{valueAsNumber:!0})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Stories por dia"}),p.jsx(et,{type:"number",...L.register("instagram_stories",{valueAsNumber:!0})})]}),p.jsx("div",{className:"md:col-span-2",children:p.jsx(Fe,{type:"submit",children:"Salvar alteraes"})})]})})]})}),p.jsx(xo,{value:"closure",children:p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Fechamento mensal"}),p.jsx(mt,{children:"Confirme adeses, bnus e publique para liberar os parabns do time."})]}),p.jsx(lt,{children:p.jsxs("form",{className:"grid gap-4 md:grid-cols-2",onSubmit:q,children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Mes"}),p.jsx(et,{type:"month",...ie.register("month")})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Faturamento sofs (R$)"}),p.jsx(et,{type:"number",step:"1000",...ie.register("faturamento_sofas",{valueAsNumber:!0})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Adeso capas"}),p.jsx(et,{type:"number",step:"0.01",...ie.register("adesao_capa",{valueAsNumber:!0})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Adeso impermeabilizao"}),p.jsx(et,{type:"number",step:"0.01",...ie.register("adesao_imper",{valueAsNumber:!0})})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Pontualidade coordenadora"}),p.jsx(et,{type:"number",...ie.register("pontualidade_coordenadora",{valueAsNumber:!0})})]}),n.team.sellers.map(A=>p.jsxs("div",{className:"md:col-span-1",children:[p.jsxs("label",{className:"text-xs font-semibold uppercase text-slate-600",children:["Pontualidade ",u[A]??A]}),p.jsx(et,{type:"number",...ie.register(`pontualidade_vendedoras.${A}`,{valueAsNumber:!0})})]},A)),p.jsx("div",{className:"md:col-span-2",children:p.jsx(Fe,{type:"submit",children:"Recalcular & Publicar"})})]})})]})}),p.jsx(xo,{value:"maintenance",children:p.jsxs(ot,{children:[p.jsxs(at,{children:[p.jsx(pt,{children:"Manuteno de dados"}),p.jsx(mt,{children:"Use com cuidado: remove registros de Instagram, Mercado Livre e vendas."})]}),p.jsxs(lt,{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Consultora"}),p.jsxs("select",{className:"mt-1 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 focus:border-slate-400 focus:outline-none",value:m,onChange:A=>g(A.target.value),disabled:Y.length===0,children:[Y.length===0&&p.jsx("option",{value:"",children:"Sem consultoras cadastradas"}),Y.map(A=>p.jsx("option",{value:A,children:u[A]??A},A))]})]}),p.jsxs("div",{className:"grid gap-3 md:grid-cols-3 md:items-end",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Dia"}),p.jsx(et,{type:"date",value:_,onChange:A=>v(A.target.value)})]}),p.jsxs("div",{className:"md:col-span-2 flex items-end gap-3",children:[p.jsx(Fe,{type:"button",variant:"destructive",disabled:!m||b.day,onClick:E,children:b.day?"Limpando...":"Zerar dia"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Remove posts, stories, anuncios e vendas do dia selecionado."})]})]}),p.jsxs("div",{className:"grid gap-3 md:grid-cols-3 md:items-end",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold uppercase text-slate-600",children:"Mes"}),p.jsx(et,{type:"month",value:y,onChange:A=>x(A.target.value)})]}),p.jsxs("div",{className:"md:col-span-2 flex items-end gap-3",children:[p.jsx(Fe,{type:"button",variant:"destructive",disabled:!m||b.month,onClick:C,children:b.month?"Limpando...":"Zerar mes"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Apaga os registros do mes inteiro, incluindo semanas do Mercado Livre."})]})]})]})]})})]})})]}):p.jsx("div",{className:"flex h-screen items-center justify-center text-lg",children:"Configurao ausente."})}function nE({children:t,allow:e}){const{status:n,user:s}=Bp();return n==="loading"?p.jsx("div",{className:"flex h-screen items-center justify-center text-lg",children:"Carregando..."}):s?e.includes(s.role)?t:p.jsx(_y,{to:s.role==="admin"?"/admin":"/painel",replace:!0}):p.jsx(_y,{to:"/login",replace:!0})}function _Z(){return p.jsxs(W2,{children:[p.jsx(dc,{path:"/login",element:p.jsx(W8,{})}),p.jsx(dc,{path:"/painel",element:p.jsx(nE,{allow:["coordenadora","vendedora"],children:p.jsx(b7,{})})}),p.jsx(dc,{path:"/admin",element:p.jsx(nE,{allow:["admin"],children:p.jsx(vZ,{})})}),p.jsx(dc,{path:"*",element:p.jsx(_y,{to:"/login",replace:!0})})]})}const xZ=document.getElementById("root");yI(xZ).render(p.jsx(w.StrictMode,{children:p.jsx(G2,{children:p.jsxs(n8,{children:[p.jsx(_Z,{}),p.jsx(xj,{richColors:!0,position:"top-center"})]})})}))});export default wZ();
